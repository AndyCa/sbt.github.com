<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/ConvertResolver.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.net.URL
<span class="keyword">import</span> java.util.Collections
<span class="keyword">import</span> org.apache.ivy.core.module.id.ModuleRevisionId
<span class="keyword">import</span> org.apache.ivy.core.module.descriptor.DependencyDescriptor
<span class="keyword">import</span> org.apache.ivy.core.resolve.ResolveData
<span class="keyword">import</span> org.apache.ivy.core.settings.IvySettings
<span class="keyword">import</span> org.apache.ivy.plugins.repository.<span class="delimiter">{</span> RepositoryCopyProgressListener, TransferEvent <span class="delimiter">}</span>
<span class="keyword">import</span> org.apache.ivy.plugins.resolver.<span class="delimiter">{</span> BasicResolver, DependencyResolver, IBiblioResolver, RepositoryResolver <span class="delimiter">}</span>
<span class="keyword">import</span> org.apache.ivy.plugins.resolver.<span class="delimiter">{</span> AbstractPatternsBasedResolver, AbstractSshBasedResolver, FileSystemResolver, SFTPResolver, SshResolver, URLResolver <span class="delimiter">}</span>
<span class="keyword">import</span> org.apache.ivy.plugins.repository.url.<span class="delimiter">{</span> URLRepository =&gt; URLRepo <span class="delimiter">}</span>
<span class="keyword">import</span> org.apache.ivy.plugins.repository.file.<span class="delimiter">{</span> FileRepository =&gt; FileRepo, FileResource <span class="delimiter">}</span>
<span class="keyword">import</span> java.io.<span class="delimiter">{</span> IOException, File <span class="delimiter">}</span>
<span class="keyword">import</span> org.apache.ivy.util.<span class="delimiter">{</span> FileUtil, ChecksumHelper <span class="delimiter">}</span>
<span class="keyword">import</span> org.apache.ivy.core.module.descriptor.<span class="delimiter">{</span> Artifact =&gt; IArtifact <span class="delimiter">}</span>

<span class="keyword">private</span><span class="delimiter">[</span>sbt<span class="delimiter">]</span> <span class="keyword">object</span> <a title="sbt.ConvertResolver.type" id="sbt.ConvertResolver">ConvertResolver</a> <a href="#sbt.ConvertResolver" title="sbt.ConvertResolver.type" class="delimiter">{</a>
  <span class="comment">/**
   * This class contains all the reflective lookups used in the
   * checksum-friendly URL publishing shim.
   */</span>
  <span class="keyword">private</span> <span class="keyword">object</span> <a title="sbt.ConvertResolver.ChecksumFriendlyURLResolver.type" id="sbt.ConvertResolver.ChecksumFriendlyURLResolver">ChecksumFriendlyURLResolver</a> <a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver" title="sbt.ConvertResolver.ChecksumFriendlyURLResolver.type" class="delimiter">{</a>
    <span class="comment">// TODO - When we dump JDK6 support we can remove this hackery</span>
    <span class="comment">// import java.lang.reflect.AccessibleObject</span>
    <span class="keyword">type</span> <a title="ChecksumFriendlyURLResolver extends AnyRef" id="sbt.ConvertResolver.ChecksumFriendlyURLResolver;AccessibleObject">AccessibleObject</a> = <a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver;<refinement>" title="ChecksumFriendlyURLResolver extends AnyRef" class="delimiter">{</a>
      <span class="keyword">def</span> setAccessible<span class="delimiter">(</span>value: Boolean<span class="delimiter">)</span>: Unit
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A &lt;: sbt.ConvertResolver.ChecksumFriendlyURLResolver.AccessibleObject](f: Class[_] =&gt; A)Option[A]" id="sbt.ConvertResolver.ChecksumFriendlyURLResolver.reflectiveLookup">reflectiveLookup</a><span class="delimiter">[</span><a title=" &lt;: sbt.ConvertResolver.ChecksumFriendlyURLResolver.AccessibleObject" id="sbt.ConvertResolver.ChecksumFriendlyURLResolver.reflectiveLookup;A">A</a> &lt;: AccessibleObject<span class="delimiter">]</span><span class="delimiter">(</span><a title="Class[_] =&gt; A" id="sbt.ConvertResolver.ChecksumFriendlyURLResolver.reflectiveLookup.f">f</a>: Class<span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; A<span class="delimiter">)</span>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span> =
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Class[org.apache.ivy.plugins.resolver.RepositoryResolver]" id="sbt.ConvertResolver.ChecksumFriendlyURLResolver.reflectiveLookup.cls">cls</a> = classOf<span title="Class[org.apache.ivy.plugins.resolver.RepositoryResolver](classOf[org.apache.ivy.plugins.resolver.RepositoryResolver])" class="delimiter">[</span>RepositoryResolver<span class="delimiter">]</span>
        <span class="keyword">val</span> <a title="A" id="sbt.ConvertResolver.ChecksumFriendlyURLResolver.reflectiveLookup.thing">thing</a> = <a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver.reflectiveLookup.f" title="(v1: Class[_])A">f</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver.reflectiveLookup.cls" title="Class[org.apache.ivy.plugins.resolver.RepositoryResolver]">cls</a><span class="delimiter">)</span>
        <span class="keyword">import</span> scala.<span title="language.type">language</span>.reflectiveCalls
        <a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver.reflectiveLookup.thing" title="A">thing</a>.<a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver;<refinement>.setAccessible" title="(value: Boolean)Unit">setAccessible</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver.reflectiveLookup.thing" title="A">thing</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span class="delimiter">(</span>_: java.lang.<span title="NoSuchFieldException">NoSuchFieldException</span><span class="delimiter">)</span> |
          <span class="delimiter">(</span>_: java.lang.<span title="SecurityException">SecurityException</span><span class="delimiter">)</span> |
          <span class="delimiter">(</span>_: java.lang.<span title="NoSuchMethodException">NoSuchMethodException</span><span class="delimiter">)</span> =&gt; <span title="None.type">None</span>
      <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Option[java.lang.reflect.Field]" id="sbt.ConvertResolver.ChecksumFriendlyURLResolver.signerNameField">signerNameField</a>: <span title="Option[java.lang.reflect.Field]">Option</span><span class="delimiter">[</span>java.lang.reflect.Field<span class="delimiter">]</span> =
      <a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver.reflectiveLookup" title="(f: Class[_] =&gt; java.lang.reflect.Field)Option[java.lang.reflect.Field]">reflectiveLookup</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver.signerNameField.$anonfun.x$1" title="Class[_]">_</a>.<span title="(x$1: String)java.lang.reflect.Field">getDeclaredField</span><span class="delimiter">(</span><span title="String(&quot;signerName&quot;)" class="string">&quot;signerName&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Option[java.lang.reflect.Method]" id="sbt.ConvertResolver.ChecksumFriendlyURLResolver.putChecksumMethod">putChecksumMethod</a>: <span title="Option[java.lang.reflect.Method]">Option</span><span class="delimiter">[</span>java.lang.reflect.Method<span class="delimiter">]</span> =
      <a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver.reflectiveLookup" title="(f: Class[_] =&gt; java.lang.reflect.Method)Option[java.lang.reflect.Method]">reflectiveLookup</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver.putChecksumMethod.$anonfun.x$2" title="Class[_]">_</a>.<span title="(x$1: String, x$2: &lt;repeated...&gt;[Class[_]])java.lang.reflect.Method">getDeclaredMethod</span><span class="delimiter">(</span><span title="String(&quot;putChecksum&quot;)" class="string">&quot;putChecksum&quot;</span>,
        classOf<span title="Class[org.apache.ivy.core.module.descriptor.Artifact](classOf[org.apache.ivy.core.module.descriptor.Artifact])" class="delimiter">[</span>IArtifact<span class="delimiter">]</span>, classOf<span title="Class[java.io.File](classOf[java.io.File])" class="delimiter">[</span>File<span class="delimiter">]</span>, classOf<span title="Class[String](classOf[java.lang.String])" class="delimiter">[</span>String<span class="delimiter">]</span>,
        classOf<span title="Class[Boolean](classOf[scala.Boolean])" class="delimiter">[</span>Boolean<span class="delimiter">]</span>, classOf<span title="Class[String](classOf[java.lang.String])" class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Option[java.lang.reflect.Method]" id="sbt.ConvertResolver.ChecksumFriendlyURLResolver.putSignatureMethod">putSignatureMethod</a>: <span title="Option[java.lang.reflect.Method]">Option</span><span class="delimiter">[</span>java.lang.reflect.Method<span class="delimiter">]</span> =
      <a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver.reflectiveLookup" title="(f: Class[_] =&gt; java.lang.reflect.Method)Option[java.lang.reflect.Method]">reflectiveLookup</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver.putSignatureMethod.$anonfun.x$3" title="Class[_]">_</a>.<span title="(x$1: String, x$2: &lt;repeated...&gt;[Class[_]])java.lang.reflect.Method">getDeclaredMethod</span><span class="delimiter">(</span><span title="String(&quot;putSignature&quot;)" class="string">&quot;putSignature&quot;</span>,
        classOf<span title="Class[org.apache.ivy.core.module.descriptor.Artifact](classOf[org.apache.ivy.core.module.descriptor.Artifact])" class="delimiter">[</span>IArtifact<span class="delimiter">]</span>, classOf<span title="Class[java.io.File](classOf[java.io.File])" class="delimiter">[</span>File<span class="delimiter">]</span>, classOf<span title="Class[String](classOf[java.lang.String])" class="delimiter">[</span>String<span class="delimiter">]</span>,
        classOf<span title="Class[Boolean](classOf[scala.Boolean])" class="delimiter">[</span>Boolean<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/**
   * The default behavior of ivy's overwrite flags ignores the fact that a lot of repositories
   * will autogenerate checksums *for* an artifact if it doesn't already exist.  Therefore
   * if we succeed in publishing an artifact, we need to just blast the checksums in place.
   * This acts as a &quot;shim&quot; on RepositoryResolvers so that we can hook our methods into
   * both the IBiblioResolver + URLResolver without having to duplicate the code in two
   * places.   However, this does mean our use of reflection is awesome.
   *
   * TODO - See about contributing back to ivy.
   */</span>
  <span class="keyword">private</span> <span class="keyword">trait</span> <a title="trait ChecksumFriendlyURLResolver extends org.apache.ivy.plugins.resolver.RepositoryResolver" id="sbt.ConvertResolver;ChecksumFriendlyURLResolver">ChecksumFriendlyURLResolver</a> <span title="Unit" class="keyword">extends</span> <span title="org.apache.ivy.plugins.resolver.RepositoryResolver">RepositoryResolver</span> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver" title="sbt.ConvertResolver.ChecksumFriendlyURLResolver.type">ChecksumFriendlyURLResolver</a>._
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; String" id="sbt.ConvertResolver;ChecksumFriendlyURLResolver.signerName">signerName</a>: <span title="String">String</span> = <a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver.signerNameField" title="=&gt; Option[java.lang.reflect.Field]">signerNameField</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="java.lang.reflect.Field" id="sbt.ConvertResolver;ChecksumFriendlyURLResolver.signerName.field">field</a><span class="delimiter">)</span> =&gt; <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.signerName.field" title="java.lang.reflect.Field">field</a>.<span title="(x$1: Any)Object">get</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver" title="sbt.ConvertResolver.ChecksumFriendlyURLResolver" class="keyword">this</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="String" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span>
      <span class="keyword">case</span> <span title="None.type">None</span>        =&gt; <span title="Null(null)" class="keyword">null</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(artifact: org.apache.ivy.core.module.descriptor.Artifact, src: java.io.File, dest: String, overwrite: Boolean)Unit" id="sbt.ConvertResolver;ChecksumFriendlyURLResolver.put">put</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.Artifact" id="sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.artifact">artifact</a>: <span title="org.apache.ivy.core.module.descriptor.Artifact">IArtifact</span>, <a title="java.io.File" id="sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.src">src</a>: <span title="java.io.File">File</span>, <a title="String" id="sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.dest">dest</a>: <span title="String">String</span>, <a title="Boolean" id="sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.overwrite">overwrite</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="comment">// verify the checksum algorithms before uploading artifacts!</span>
      <span class="keyword">val</span> <a title="Array[String]" id="sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.checksums">checksums</a> = <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver" title="()Array[String]">getChecksumAlgorithms</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="org.apache.ivy.plugins.repository.Repository" id="sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.repository">repository</a> = <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver" title="()org.apache.ivy.plugins.repository.Repository">getRepository</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">{</span>
        <span title="String">checksum</span> &lt;- <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.checksums" title="(f: String =&gt; Nothing)Unit">checksums</a>
        <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><span title="org.apache.ivy.util.ChecksumHelper.type">ChecksumHelper</span>.<span title="(x$1: String)Boolean">isKnownAlgorithm</span><span class="delimiter">(</span><span title="String">checksum</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <span title="IllegalArgumentException">IllegalArgumentException</span><span class="delimiter">(</span><span title="String(&quot;Unknown checksum algorithm: &quot;)" class="string">&quot;Unknown checksum algorithm: &quot;</span> <span title="(x$1: Any)String">+</span> <span title="String">checksum</span><span class="delimiter">)</span>
      <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.repository" title="org.apache.ivy.plugins.repository.Repository">repository</a>.<span title="(x$1: org.apache.ivy.core.module.descriptor.Artifact, x$2: java.io.File, x$3: String, x$4: Boolean)Unit">put</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.artifact" title="org.apache.ivy.core.module.descriptor.Artifact">artifact</a>, <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.src" title="java.io.File">src</a>, <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.dest" title="String">dest</a>, <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.overwrite" title="Boolean">overwrite</a><span class="delimiter">)</span>;
      <span class="comment">// Fix for sbt#1156 - Artifactory will auto-generate MD5/sha1 files, so</span>
      <span class="comment">// we need to overwrite what it has.</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><span title="String">checksum</span> &lt;- <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.checksums" title="(f: String =&gt; Any)Unit">checksums</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver.putChecksumMethod" title="=&gt; Option[java.lang.reflect.Method]">putChecksumMethod</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="java.lang.reflect.Method" id="sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.$anonfun.method">method</a><span class="delimiter">)</span> =&gt; <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.$anonfun.method" title="java.lang.reflect.Method">method</a>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[Object])Object">invoke</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver" title="sbt.ConvertResolver.ChecksumFriendlyURLResolver" class="keyword">this</a>, <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.artifact" title="org.apache.ivy.core.module.descriptor.Artifact">artifact</a>, <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.src" title="java.io.File">src</a>, <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.dest" title="String">dest</a>, <span title="implicit scala.Predef.boolean2Boolean : (x: Boolean)Boolean" class="keyword">true</span>: java.lang.<span title="Boolean">Boolean</span>, <span title="String">checksum</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="None.type">None</span>         =&gt; <span class="comment">// TODO - issue warning?</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.signerName" title="=&gt; String">signerName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#sbt.ConvertResolver.ChecksumFriendlyURLResolver.putSignatureMethod" title="=&gt; Option[java.lang.reflect.Method]">putSignatureMethod</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="None.type">None</span>         =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="java.lang.reflect.Method" id="sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.method">method</a><span class="delimiter">)</span> =&gt; <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.method" title="java.lang.reflect.Method">method</a>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[Object])Object">invoke</span><span title="Unit" class="delimiter">(</span><a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.artifact" title="org.apache.ivy.core.module.descriptor.Artifact">artifact</a>, <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.src" title="java.io.File">src</a>, <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver.put.dest" title="String">dest</a>, <span title="implicit scala.Predef.boolean2Boolean : (x: Boolean)Boolean" class="keyword">true</span>: java.lang.<span title="Boolean">Boolean</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Converts the given sbt resolver into an Ivy resolver..*/</span>
  <span class="keyword">def</span> <a title="(r: sbt.Resolver, settings: org.apache.ivy.core.settings.IvySettings, log: sbt.Logger)org.apache.ivy.plugins.resolver.DependencyResolver" id="sbt.ConvertResolver.apply">apply</a><span class="delimiter">(</span><span title="sbt.Resolver">r</span>: <a href="Resolver.scala.html#sbt;Resolver" title="sbt.Resolver">Resolver</a>, <a title="org.apache.ivy.core.settings.IvySettings" id="sbt.ConvertResolver.apply.settings">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="sbt.Logger" id="sbt.ConvertResolver.apply.log">log</a>: <a href="Logger.scala.html#sbt;Logger" title="sbt.Logger">Logger</a><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span title="sbt.Resolver">r</span> <span title="org.apache.ivy.plugins.resolver.DependencyResolver" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="sbt.MavenRepository">repo</span>: <a href="Resolver.scala.html#sbt;MavenRepository" title="sbt.MavenRepository">MavenRepository</a> =&gt;
          <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="java.util.List[String]" id="sbt.ConvertResolver.apply.pattern">pattern</a> = <span title="java.util.Collections.type">Collections</span>.<span title="(x$1: String)java.util.List[String]">singletonList</span><span class="delimiter">(</span><a href="Resolver.scala.html#sbt.Resolver" title="sbt.Resolver.type">Resolver</a>.<a href="Resolver.scala.html#sbt.Resolver.resolvePattern" title="(base: String, pattern: String)String">resolvePattern</a><span class="delimiter">(</span><span title="sbt.MavenRepository">repo</span>.<a href="Resolver.scala.html#sbt;MavenRepository.root" title="=&gt; String">root</a>, <a href="Resolver.scala.html#sbt.Resolver" title="sbt.Resolver.type">Resolver</a>.<a href="Resolver.scala.html#sbt.Resolver.mavenStyleBasePattern" title="=&gt; String">mavenStyleBasePattern</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">final</span> <span class="keyword">class</span> <a title="class PluginCapableResolver extends org.apache.ivy.plugins.resolver.IBiblioResolver with sbt.ConvertResolver.ChecksumFriendlyURLResolver with sbt.ConvertResolver.DescriptorRequired" id="sbt.ConvertResolver.apply;PluginCapableResolver">PluginCapableResolver</a> <a href="#sbt.ConvertResolver.apply;PluginCapableResolver" title="PluginCapableResolver" class="keyword">extends</a> <span title="org.apache.ivy.plugins.resolver.IBiblioResolver">IBiblioResolver</span> <span class="keyword">with</span> <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver" title="sbt.ConvertResolver.ChecksumFriendlyURLResolver">ChecksumFriendlyURLResolver</a> <span class="keyword">with</span> <a href="#sbt.ConvertResolver;DescriptorRequired" title="sbt.ConvertResolver.DescriptorRequired">DescriptorRequired</a> <span class="delimiter">{</span>
              <span class="keyword">def</span> <a title="()Unit" id="sbt.ConvertResolver.apply;PluginCapableResolver.setPatterns">setPatterns</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// done this way for access to protected methods.</span>
                <a href="#sbt.ConvertResolver.apply;PluginCapableResolver" title="(x$1: java.util.List[_])Unit">setArtifactPatterns</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver.apply.pattern" title="java.util.List[String]">pattern</a><span class="delimiter">)</span>
                <a href="#sbt.ConvertResolver.apply;PluginCapableResolver" title="(x$1: java.util.List[_])Unit">setIvyPatterns</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver.apply.pattern" title="java.util.List[String]">pattern</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="keyword">val</span> <span title="PluginCapableResolver">resolver</span> = <span title="PluginCapableResolver" class="keyword">new</span> <a href="#sbt.ConvertResolver.apply;PluginCapableResolver" title="PluginCapableResolver">PluginCapableResolver</a>
            <span title="PluginCapableResolver">resolver</span>.<span title="(x$1: org.apache.ivy.plugins.repository.Repository)Unit">setRepository</span><span class="delimiter">(</span><span title="sbt.ConvertResolver.LocalIfFileRepo" class="keyword">new</span> <a href="#sbt.ConvertResolver;LocalIfFileRepo" title="sbt.ConvertResolver.LocalIfFileRepo">LocalIfFileRepo</a><span class="delimiter">)</span>
            <a href="#sbt.ConvertResolver.initializeMavenStyle" title="(resolver: org.apache.ivy.plugins.resolver.IBiblioResolver, name: String, root: String)Unit">initializeMavenStyle</a><span class="delimiter">(</span><span title="PluginCapableResolver">resolver</span>, <span title="sbt.MavenRepository">repo</span>.<a href="Resolver.scala.html#sbt;MavenRepository.name" title="=&gt; String">name</a>, <span title="sbt.MavenRepository">repo</span>.<a href="Resolver.scala.html#sbt;MavenRepository.root" title="=&gt; String">root</a><span class="delimiter">)</span>
            <span title="PluginCapableResolver">resolver</span>.<a href="#sbt.ConvertResolver.apply;PluginCapableResolver.setPatterns" title="()Unit">setPatterns</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// has to be done after initializeMavenStyle, which calls methods that overwrite the patterns</span>
            <span title="PluginCapableResolver">resolver</span>
          <span class="delimiter">}</span>
        <span class="comment">// TODO: HTTP repository is no longer recommended. #1541</span>
        <span class="comment">// Remove `JavaNet1Repository` when we bump up the API.</span>
        <span class="keyword">case</span> <span title="sbt.JavaNet1Repository">r</span>: <a href="Resolver.scala.html#sbt;JavaNet1Repository" title="sbt.JavaNet1Repository">JavaNet1Repository</a> =&gt;
          <span class="delimiter">{</span>
            <span class="comment">// Thanks to Matthias Pfau for posting how to use the Maven 1 repository on java.net with Ivy:</span>
            <span class="comment">// http://www.nabble.com/Using-gradle-Ivy-with-special-maven-repositories-td23775489.html</span>
            <span class="keyword">val</span> <span title="resolver extends org.apache.ivy.plugins.resolver.IBiblioResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span> = <span title="org.apache.ivy.plugins.resolver.IBiblioResolver with sbt.ConvertResolver.DescriptorRequired" class="keyword">new</span> <span title="anonymous class $anon extends org.apache.ivy.plugins.resolver.IBiblioResolver with sbt.ConvertResolver.DescriptorRequired">IBiblioResolver</span> <span class="keyword">with</span> <a href="#sbt.ConvertResolver;DescriptorRequired" title="sbt.ConvertResolver.DescriptorRequired">DescriptorRequired</a> <span class="delimiter">{</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(mrid: org.apache.ivy.core.module.id.ModuleRevisionId)org.apache.ivy.core.module.id.ModuleRevisionId" id="sbt.ConvertResolver.apply.resolver;$anon.convertM2IdForResourceSearch">convertM2IdForResourceSearch</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.id.ModuleRevisionId" id="sbt.ConvertResolver.apply.resolver;$anon.convertM2IdForResourceSearch.mrid">mrid</a>: <span title="org.apache.ivy.core.module.id.ModuleRevisionId">ModuleRevisionId</span><span class="delimiter">)</span> = <a href="#sbt.ConvertResolver.apply.resolver;$anon.convertM2IdForResourceSearch.mrid" title="org.apache.ivy.core.module.id.ModuleRevisionId">mrid</a> <span class="delimiter">}</span>
            <a href="#sbt.ConvertResolver.initializeMavenStyle" title="(resolver: org.apache.ivy.plugins.resolver.IBiblioResolver, name: String, root: String)Unit">initializeMavenStyle</a><span class="delimiter">(</span><span title="resolver extends org.apache.ivy.plugins.resolver.IBiblioResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span>, <a href="Resolver.scala.html#sbt.JavaNet1Repository" title="sbt.JavaNet1Repository.type">JavaNet1Repository</a>.<a href="Resolver.scala.html#sbt;JavaNet1Repository.name" title="=&gt; String">name</a>, <span title="String(&quot;http://download.java.net/maven/1/&quot;)" class="string">&quot;http://download.java.net/maven/1/&quot;</span><span class="delimiter">)</span>
            <span title="resolver extends org.apache.ivy.plugins.resolver.IBiblioResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span>.<span title="(x$1: String)Unit">setPattern</span><span class="delimiter">(</span><span title="String(&quot;[organisation]/[ext]s/[module]-[revision](-[classifier]).[ext]&quot;)" class="string">&quot;[organisation]/[ext]s/[module]-[revision](-[classifier]).[ext]&quot;</span><span class="delimiter">)</span>
            <span title="resolver extends org.apache.ivy.plugins.resolver.IBiblioResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="sbt.SshRepository">repo</span>: <a href="Resolver.scala.html#sbt;SshRepository" title="sbt.SshRepository">SshRepository</a> =&gt;
          <span class="delimiter">{</span>
            <span class="keyword">val</span> <span title="resolver extends org.apache.ivy.plugins.resolver.SshResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span> = <span title="org.apache.ivy.plugins.resolver.SshResolver with sbt.ConvertResolver.DescriptorRequired" class="keyword">new</span> <span title="anonymous class $anon extends org.apache.ivy.plugins.resolver.SshResolver with sbt.ConvertResolver.DescriptorRequired">SshResolver</span> <span class="keyword">with</span> <a href="#sbt.ConvertResolver;DescriptorRequired" title="sbt.ConvertResolver.DescriptorRequired">DescriptorRequired</a>
            <a href="#sbt.ConvertResolver.initializeSSHResolver" title="(resolver: org.apache.ivy.plugins.resolver.AbstractSshBasedResolver, repo: sbt.SshBasedRepository, settings: org.apache.ivy.core.settings.IvySettings)Unit">initializeSSHResolver</a><span class="delimiter">(</span><span title="resolver extends org.apache.ivy.plugins.resolver.SshResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span>, <span title="sbt.SshRepository">repo</span>, <a href="#sbt.ConvertResolver.apply.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span>
            <span title="sbt.SshRepository">repo</span>.<a href="Resolver.scala.html#sbt;SshRepository.publishPermissions" title="=&gt; Option[String]">publishPermissions</a>.<span title="(f: String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="String" id="sbt.ConvertResolver.apply.$anonfun.perm">perm</a> =&gt; <span title="resolver extends org.apache.ivy.plugins.resolver.SshResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span>.<span title="(x$1: String)Unit">setPublishPermissions</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver.apply.$anonfun.perm" title="String">perm</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="resolver extends org.apache.ivy.plugins.resolver.SshResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="sbt.SftpRepository">repo</span>: <a href="Resolver.scala.html#sbt;SftpRepository" title="sbt.SftpRepository">SftpRepository</a> =&gt;
          <span class="delimiter">{</span>
            <span class="keyword">val</span> <span title="org.apache.ivy.plugins.resolver.SFTPResolver">resolver</span> = <span title="org.apache.ivy.plugins.resolver.SFTPResolver" class="keyword">new</span> <span title="org.apache.ivy.plugins.resolver.SFTPResolver">SFTPResolver</span>
            <a href="#sbt.ConvertResolver.initializeSSHResolver" title="(resolver: org.apache.ivy.plugins.resolver.AbstractSshBasedResolver, repo: sbt.SshBasedRepository, settings: org.apache.ivy.core.settings.IvySettings)Unit">initializeSSHResolver</a><span class="delimiter">(</span><span title="org.apache.ivy.plugins.resolver.SFTPResolver">resolver</span>, <span title="sbt.SftpRepository">repo</span>, <a href="#sbt.ConvertResolver.apply.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span>
            <span title="org.apache.ivy.plugins.resolver.SFTPResolver">resolver</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="sbt.FileRepository">repo</span>: <a href="Resolver.scala.html#sbt;FileRepository" title="sbt.FileRepository">FileRepository</a> =&gt;
          <span class="delimiter">{</span>
            <span class="keyword">val</span> <span title="resolver extends org.apache.ivy.plugins.resolver.FileSystemResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span> = <span title="org.apache.ivy.plugins.resolver.FileSystemResolver with sbt.ConvertResolver.DescriptorRequired" class="keyword">new</span> <span title="anonymous class $anon extends org.apache.ivy.plugins.resolver.FileSystemResolver with sbt.ConvertResolver.DescriptorRequired">FileSystemResolver</span> <span class="keyword">with</span> <a href="#sbt.ConvertResolver;DescriptorRequired" title="sbt.ConvertResolver.DescriptorRequired">DescriptorRequired</a> <span class="delimiter">{</span>
              <span class="comment">// Workaround for #1156</span>
              <span class="comment">// Temporarily in sbt 0.13.x we deprecate overwriting</span>
              <span class="comment">// in local files for non-changing revisions.</span>
              <span class="comment">// This will be fully enforced in sbt 1.0.</span>
              <span title="(x$1: org.apache.ivy.plugins.repository.Repository)Unit">setRepository</span><span class="delimiter">(</span><span title="sbt.ConvertResolver.WarnOnOverwriteFileRepo" class="keyword">new</span> <a href="#sbt.ConvertResolver;WarnOnOverwriteFileRepo" title="sbt.ConvertResolver.WarnOnOverwriteFileRepo">WarnOnOverwriteFileRepo</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span title="resolver extends org.apache.ivy.plugins.resolver.FileSystemResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span>.<span title="(x$1: String)Unit">setName</span><span class="delimiter">(</span><span title="sbt.FileRepository">repo</span>.<a href="Resolver.scala.html#sbt;FileRepository.name" title="=&gt; String">name</a><span class="delimiter">)</span>
            <a href="#sbt.ConvertResolver.initializePatterns" title="(resolver: org.apache.ivy.plugins.resolver.AbstractPatternsBasedResolver, patterns: sbt.Patterns, settings: org.apache.ivy.core.settings.IvySettings)Unit">initializePatterns</a><span class="delimiter">(</span><span title="resolver extends org.apache.ivy.plugins.resolver.FileSystemResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span>, <span title="sbt.FileRepository">repo</span>.<a href="Resolver.scala.html#sbt;FileRepository.patterns" title="=&gt; sbt.Patterns">patterns</a>, <a href="#sbt.ConvertResolver.apply.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span>
            <span class="keyword">import</span> <span title="sbt.FileRepository">repo</span>.<a href="Resolver.scala.html#sbt;FileRepository.configuration" title="=&gt; sbt.RepositoryHelpers.FileConfiguration">configuration</a>.<span class="delimiter">{</span> isLocal, isTransactional <span class="delimiter">}</span>
            <span title="resolver extends org.apache.ivy.plugins.resolver.FileSystemResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span>.<span title="(x$1: Boolean)Unit">setLocal</span><span class="delimiter">(</span><a href="Resolver.scala.html#sbt.RepositoryHelpers;FileConfiguration.isLocal" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span>
            <a href="Resolver.scala.html#sbt.RepositoryHelpers;FileConfiguration.isTransactional" title="=&gt; Option[Boolean]">isTransactional</a>.<span title="(f: Boolean =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Boolean" id="sbt.ConvertResolver.apply.$anonfun.value">value</a> =&gt; <span title="resolver extends org.apache.ivy.plugins.resolver.FileSystemResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span>.<span title="(x$1: String)Unit">setTransactional</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver.apply.$anonfun.value" title="Boolean">value</a>.<span title="()String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="resolver extends org.apache.ivy.plugins.resolver.FileSystemResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="sbt.URLRepository">repo</span>: <a href="Resolver.scala.html#sbt;URLRepository" title="sbt.URLRepository">URLRepository</a> =&gt;
          <span class="delimiter">{</span>
            <span class="keyword">val</span> <span title="resolver extends org.apache.ivy.plugins.resolver.URLResolver with sbt.ConvertResolver.ChecksumFriendlyURLResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span> = <span title="org.apache.ivy.plugins.resolver.URLResolver with sbt.ConvertResolver.ChecksumFriendlyURLResolver with sbt.ConvertResolver.DescriptorRequired" class="keyword">new</span> <span title="anonymous class $anon extends org.apache.ivy.plugins.resolver.URLResolver with sbt.ConvertResolver.ChecksumFriendlyURLResolver with sbt.ConvertResolver.DescriptorRequired">URLResolver</span> <span class="keyword">with</span> <a href="#sbt.ConvertResolver;ChecksumFriendlyURLResolver" title="sbt.ConvertResolver.ChecksumFriendlyURLResolver">ChecksumFriendlyURLResolver</a> <span class="keyword">with</span> <a href="#sbt.ConvertResolver;DescriptorRequired" title="sbt.ConvertResolver.DescriptorRequired">DescriptorRequired</a>
            <span title="resolver extends org.apache.ivy.plugins.resolver.URLResolver with sbt.ConvertResolver.ChecksumFriendlyURLResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span>.<span title="(x$1: String)Unit">setName</span><span class="delimiter">(</span><span title="sbt.URLRepository">repo</span>.<a href="Resolver.scala.html#sbt;URLRepository.name" title="=&gt; String">name</a><span class="delimiter">)</span>
            <a href="#sbt.ConvertResolver.initializePatterns" title="(resolver: org.apache.ivy.plugins.resolver.AbstractPatternsBasedResolver, patterns: sbt.Patterns, settings: org.apache.ivy.core.settings.IvySettings)Unit">initializePatterns</a><span class="delimiter">(</span><span title="resolver extends org.apache.ivy.plugins.resolver.URLResolver with sbt.ConvertResolver.ChecksumFriendlyURLResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span>, <span title="sbt.URLRepository">repo</span>.<a href="Resolver.scala.html#sbt;URLRepository.patterns" title="=&gt; sbt.Patterns">patterns</a>, <a href="#sbt.ConvertResolver.apply.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span>
            <span title="resolver extends org.apache.ivy.plugins.resolver.URLResolver with sbt.ConvertResolver.ChecksumFriendlyURLResolver with sbt.ConvertResolver.DescriptorRequired">resolver</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="sbt.ChainedResolver">repo</span>: <a href="Resolver.scala.html#sbt;ChainedResolver" title="sbt.ChainedResolver">ChainedResolver</a> =&gt; <a href="Ivy.scala.html#sbt.IvySbt" title="sbt.IvySbt.type">IvySbt</a>.<a href="Ivy.scala.html#sbt.IvySbt.resolverChain(8ded2072cd)" title="(name: String, resolvers: Seq[sbt.Resolver], localOnly: Boolean, settings: org.apache.ivy.core.settings.IvySettings, log: sbt.Logger)org.apache.ivy.plugins.resolver.DependencyResolver">resolverChain</a><span class="delimiter">(</span><span title="sbt.ChainedResolver">repo</span>.<a href="Resolver.scala.html#sbt;ChainedResolver.name" title="=&gt; String">name</a>, <span title="sbt.ChainedResolver">repo</span>.<a href="Resolver.scala.html#sbt;ChainedResolver.resolvers" title="=&gt; Seq[sbt.Resolver]">resolvers</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#sbt.ConvertResolver.apply.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#sbt.ConvertResolver.apply.log" title="sbt.Logger">log</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="sbt.RawRepository">repo</span>: <a href="Resolver.scala.html#sbt;RawRepository" title="sbt.RawRepository">RawRepository</a>   =&gt; <span title="sbt.RawRepository">repo</span>.<a href="Resolver.scala.html#sbt;RawRepository.resolver" title="=&gt; org.apache.ivy.plugins.resolver.DependencyResolver">resolver</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait DescriptorRequired extends org.apache.ivy.plugins.resolver.BasicResolver" id="sbt.ConvertResolver;DescriptorRequired">DescriptorRequired</a> <span title="Unit" class="keyword">extends</span> <span title="org.apache.ivy.plugins.resolver.BasicResolver">BasicResolver</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(dd: org.apache.ivy.core.module.descriptor.DependencyDescriptor, data: org.apache.ivy.core.resolve.ResolveData)org.apache.ivy.core.resolve.ResolvedModuleRevision" id="sbt.ConvertResolver;DescriptorRequired.getDependency">getDependency</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.DependencyDescriptor" id="sbt.ConvertResolver;DescriptorRequired.getDependency.dd">dd</a>: <span title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">DependencyDescriptor</span>, <a title="org.apache.ivy.core.resolve.ResolveData" id="sbt.ConvertResolver;DescriptorRequired.getDependency.data">data</a>: <span title="org.apache.ivy.core.resolve.ResolveData">ResolveData</span><span class="delimiter">)</span> =
      <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="sbt.ConvertResolver;DescriptorRequired.getDependency.prev">prev</a> = <a href="#sbt.ConvertResolver;DescriptorRequired.descriptorString" title="(optional: Boolean)String">descriptorString</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver;DescriptorRequired" title="()Boolean">isAllownomd</a><span class="delimiter">)</span>
        <a href="#sbt.ConvertResolver;DescriptorRequired" title="(x$1: String)Unit">setDescriptor</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver;DescriptorRequired.descriptorString" title="(optional: Boolean)String">descriptorString</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver;DescriptorRequired.hasExplicitURL" title="(dd: org.apache.ivy.core.module.descriptor.DependencyDescriptor)Boolean">hasExplicitURL</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver;DescriptorRequired.getDependency.dd" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dd</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">try</span> <a href="#sbt.ConvertResolver;DescriptorRequired" title="sbt.ConvertResolver.DescriptorRequired" class="keyword">super</a>.<span title="(x$1: org.apache.ivy.core.module.descriptor.DependencyDescriptor, x$2: org.apache.ivy.core.resolve.ResolveData)org.apache.ivy.core.resolve.ResolvedModuleRevision">getDependency</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;DescriptorRequired.getDependency.dd" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dd</a>, <a href="#sbt.ConvertResolver;DescriptorRequired.getDependency.data" title="org.apache.ivy.core.resolve.ResolveData">data</a><span class="delimiter">)</span> <span class="keyword">finally</span> <a href="#sbt.ConvertResolver;DescriptorRequired" title="(x$1: String)Unit">setDescriptor</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver;DescriptorRequired.getDependency.prev" title="String">prev</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(optional: Boolean)String" id="sbt.ConvertResolver;DescriptorRequired.descriptorString">descriptorString</a><span class="delimiter">(</span><a title="Boolean" id="sbt.ConvertResolver;DescriptorRequired.descriptorString.optional">optional</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.ConvertResolver;DescriptorRequired.descriptorString.optional" title="Boolean">optional</a><span class="delimiter">)</span> BasicResolver.<span title="String(&quot;optional&quot;)">DESCRIPTOR_OPTIONAL</span> <span class="keyword">else</span> BasicResolver.<span title="String(&quot;required&quot;)">DESCRIPTOR_REQUIRED</span>
    <span class="keyword">def</span> <a title="(dd: org.apache.ivy.core.module.descriptor.DependencyDescriptor)Boolean" id="sbt.ConvertResolver;DescriptorRequired.hasExplicitURL">hasExplicitURL</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.DependencyDescriptor" id="sbt.ConvertResolver;DescriptorRequired.hasExplicitURL.dd">dd</a>: <span title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">DependencyDescriptor</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#sbt.ConvertResolver;DescriptorRequired.hasExplicitURL.dd" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dd</a>.<span title="(xs: Array[org.apache.ivy.core.module.descriptor.DependencyArtifactDescriptor])scala.collection.mutable.ArrayOps[org.apache.ivy.core.module.descriptor.DependencyArtifactDescriptor]">getAllDependencyArtifacts</span>.<span title="(p: org.apache.ivy.core.module.descriptor.DependencyArtifactDescriptor =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;DescriptorRequired.hasExplicitURL.$anonfun.x$4" title="org.apache.ivy.core.module.descriptor.DependencyArtifactDescriptor">_</a>.<span title="()java.net.URL">getUrl</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(resolver: org.apache.ivy.plugins.resolver.IBiblioResolver, name: String, root: String)Unit" id="sbt.ConvertResolver.initializeMavenStyle">initializeMavenStyle</a><span class="delimiter">(</span><a title="org.apache.ivy.plugins.resolver.IBiblioResolver" id="sbt.ConvertResolver.initializeMavenStyle.resolver">resolver</a>: <span title="org.apache.ivy.plugins.resolver.IBiblioResolver">IBiblioResolver</span>, <a title="String" id="sbt.ConvertResolver.initializeMavenStyle.name">name</a>: <span title="String">String</span>, <a title="String" id="sbt.ConvertResolver.initializeMavenStyle.root">root</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#sbt.ConvertResolver.initializeMavenStyle.resolver" title="org.apache.ivy.plugins.resolver.IBiblioResolver">resolver</a>.<span title="(x$1: String)Unit">setName</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver.initializeMavenStyle.name" title="String">name</a><span class="delimiter">)</span>
    <a href="#sbt.ConvertResolver.initializeMavenStyle.resolver" title="org.apache.ivy.plugins.resolver.IBiblioResolver">resolver</a>.<span title="(x$1: Boolean)Unit">setM2compatible</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <a href="#sbt.ConvertResolver.initializeMavenStyle.resolver" title="org.apache.ivy.plugins.resolver.IBiblioResolver">resolver</a>.<span title="(x$1: String)Unit">setRoot</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver.initializeMavenStyle.root" title="String">root</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(resolver: org.apache.ivy.plugins.resolver.AbstractSshBasedResolver, repo: sbt.SshBasedRepository, settings: org.apache.ivy.core.settings.IvySettings)Unit" id="sbt.ConvertResolver.initializeSSHResolver">initializeSSHResolver</a><span class="delimiter">(</span><a title="org.apache.ivy.plugins.resolver.AbstractSshBasedResolver" id="sbt.ConvertResolver.initializeSSHResolver.resolver">resolver</a>: <span title="org.apache.ivy.plugins.resolver.AbstractSshBasedResolver">AbstractSshBasedResolver</span>, <a title="sbt.SshBasedRepository" id="sbt.ConvertResolver.initializeSSHResolver.repo">repo</a>: <a href="Resolver.scala.html#sbt;SshBasedRepository" title="sbt.SshBasedRepository">SshBasedRepository</a>, <a title="org.apache.ivy.core.settings.IvySettings" id="sbt.ConvertResolver.initializeSSHResolver.settings">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#sbt.ConvertResolver.initializeSSHResolver.resolver" title="org.apache.ivy.plugins.resolver.AbstractSshBasedResolver">resolver</a>.<span title="(x$1: String)Unit">setName</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver.initializeSSHResolver.repo" title="sbt.SshBasedRepository">repo</a>.<a href="Resolver.scala.html#sbt;Resolver.name" title="=&gt; String">name</a><span class="delimiter">)</span>
    <a href="#sbt.ConvertResolver.initializeSSHResolver.resolver" title="org.apache.ivy.plugins.resolver.AbstractSshBasedResolver">resolver</a>.<span title="(x$1: java.io.File)Unit">setPassfile</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
    <a href="#sbt.ConvertResolver.initializePatterns" title="(resolver: org.apache.ivy.plugins.resolver.AbstractPatternsBasedResolver, patterns: sbt.Patterns, settings: org.apache.ivy.core.settings.IvySettings)Unit">initializePatterns</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver.initializeSSHResolver.resolver" title="org.apache.ivy.plugins.resolver.AbstractSshBasedResolver">resolver</a>, <a href="#sbt.ConvertResolver.initializeSSHResolver.repo" title="sbt.SshBasedRepository">repo</a>.<a href="Resolver.scala.html#sbt;PatternsBasedRepository.patterns" title="=&gt; sbt.Patterns">patterns</a>, <a href="#sbt.ConvertResolver.initializeSSHResolver.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span>
    <a href="#sbt.ConvertResolver.initializeConnection" title="(resolver: org.apache.ivy.plugins.resolver.AbstractSshBasedResolver, connection: sbt.RepositoryHelpers.SshConnection)Unit">initializeConnection</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver.initializeSSHResolver.resolver" title="org.apache.ivy.plugins.resolver.AbstractSshBasedResolver">resolver</a>, <a href="#sbt.ConvertResolver.initializeSSHResolver.repo" title="sbt.SshBasedRepository">repo</a>.<a href="Resolver.scala.html#sbt;SshBasedRepository.connection" title="=&gt; sbt.RepositoryHelpers.SshConnection">connection</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(resolver: org.apache.ivy.plugins.resolver.AbstractSshBasedResolver, connection: sbt.RepositoryHelpers.SshConnection)Unit" id="sbt.ConvertResolver.initializeConnection">initializeConnection</a><span class="delimiter">(</span><a title="org.apache.ivy.plugins.resolver.AbstractSshBasedResolver" id="sbt.ConvertResolver.initializeConnection.resolver">resolver</a>: <span title="org.apache.ivy.plugins.resolver.AbstractSshBasedResolver">AbstractSshBasedResolver</span>, <a title="sbt.RepositoryHelpers.SshConnection" id="sbt.ConvertResolver.initializeConnection.connection">connection</a>: RepositoryHelpers.<a href="Resolver.scala.html#sbt.RepositoryHelpers;SshConnection" title="sbt.RepositoryHelpers.SshConnection">SshConnection</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#sbt.ConvertResolver.initializeConnection.resolver" title="org.apache.ivy.plugins.resolver.AbstractSshBasedResolver">resolver</a>._
    <span class="keyword">import</span> <a href="#sbt.ConvertResolver.initializeConnection.connection" title="sbt.RepositoryHelpers.SshConnection">connection</a>._
    <a href="Resolver.scala.html#sbt.RepositoryHelpers;SshConnection.hostname" title="=&gt; Option[String]">hostname</a>.<span title="(f: String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver.initializeConnection.resolver" title="(x$1: String)Unit">setHost</a><span class="delimiter">)</span>
    <a href="Resolver.scala.html#sbt.RepositoryHelpers;SshConnection.port" title="=&gt; Option[Int]">port</a>.<span title="(f: Int =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver.initializeConnection.resolver" title="(x$1: Int)Unit">setPort</a><span class="delimiter">)</span>
    <a href="Resolver.scala.html#sbt.RepositoryHelpers;SshConnection.authentication" title="=&gt; Option[sbt.RepositoryHelpers.SshAuthentication]">authentication</a> <span title="(f: sbt.RepositoryHelpers.SshAuthentication =&gt; Unit)Unit">foreach</span>
      <a href="#sbt.ConvertResolver.initializeConnection.$anonfun.x0$1" title="Unit" class="delimiter">{</a>
        <span class="keyword">case</span> RepositoryHelpers.PasswordAuthentication<span class="delimiter">(</span><span title="String">user</span>, <span title="Option[String]">password</span><span class="delimiter">)</span> =&gt;
          <a href="#sbt.ConvertResolver.initializeConnection.resolver" title="(x$1: String)Unit">setUser</a><span class="delimiter">(</span><span title="String">user</span><span class="delimiter">)</span>
          <span title="Option[String]">password</span>.<span title="(f: String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver.initializeConnection.resolver" title="(x$1: String)Unit">setUserPassword</a><span class="delimiter">)</span>
        <span class="keyword">case</span> RepositoryHelpers.KeyFileAuthentication<span class="delimiter">(</span><span title="String">user</span>, <a title="java.io.File" id="sbt.ConvertResolver.initializeConnection.$anonfun.file">file</a>, <span title="Option[String]">password</span><span class="delimiter">)</span> =&gt;
          <a href="#sbt.ConvertResolver.initializeConnection.resolver" title="(x$1: java.io.File)Unit">setKeyFile</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver.initializeConnection.$anonfun.file" title="java.io.File">file</a><span class="delimiter">)</span>
          <span title="Option[String]">password</span>.<span title="(f: String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver.initializeConnection.resolver" title="(x$1: String)Unit">setKeyFilePassword</a><span class="delimiter">)</span>
          <a href="#sbt.ConvertResolver.initializeConnection.resolver" title="(x$1: String)Unit">setUser</a><span class="delimiter">(</span><span title="String">user</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(resolver: org.apache.ivy.plugins.resolver.AbstractPatternsBasedResolver, patterns: sbt.Patterns, settings: org.apache.ivy.core.settings.IvySettings)Unit" id="sbt.ConvertResolver.initializePatterns">initializePatterns</a><span class="delimiter">(</span><a title="org.apache.ivy.plugins.resolver.AbstractPatternsBasedResolver" id="sbt.ConvertResolver.initializePatterns.resolver">resolver</a>: <span title="org.apache.ivy.plugins.resolver.AbstractPatternsBasedResolver">AbstractPatternsBasedResolver</span>, <a title="sbt.Patterns" id="sbt.ConvertResolver.initializePatterns.patterns">patterns</a>: <a href="Resolver.scala.html#sbt;Patterns" title="sbt.Patterns">Patterns</a>, <a title="org.apache.ivy.core.settings.IvySettings" id="sbt.ConvertResolver.initializePatterns.settings">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#sbt.ConvertResolver.initializePatterns.resolver" title="org.apache.ivy.plugins.resolver.AbstractPatternsBasedResolver">resolver</a>.<span title="(x$1: Boolean)Unit">setM2compatible</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver.initializePatterns.patterns" title="sbt.Patterns">patterns</a>.<a href="Resolver.scala.html#sbt;Patterns.isMavenCompatible" title="=&gt; Boolean">isMavenCompatible</a><span class="delimiter">)</span>
    <a href="#sbt.ConvertResolver.initializePatterns.resolver" title="org.apache.ivy.plugins.resolver.AbstractPatternsBasedResolver">resolver</a>.<span title="(x$1: String)Unit">setDescriptor</span><span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.ConvertResolver.initializePatterns.patterns" title="sbt.Patterns">patterns</a>.<a href="Resolver.scala.html#sbt;Patterns.descriptorOptional" title="=&gt; Boolean">descriptorOptional</a><span class="delimiter">)</span> BasicResolver.<span title="String(&quot;optional&quot;)">DESCRIPTOR_OPTIONAL</span> <span class="keyword">else</span> BasicResolver.<span title="String(&quot;required&quot;)">DESCRIPTOR_REQUIRED</span><span class="delimiter">)</span>
    <a href="#sbt.ConvertResolver.initializePatterns.resolver" title="org.apache.ivy.plugins.resolver.AbstractPatternsBasedResolver">resolver</a>.<span title="(x$1: Boolean)Unit">setCheckconsistency</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#sbt.ConvertResolver.initializePatterns.patterns" title="sbt.Patterns">patterns</a>.<a href="Resolver.scala.html#sbt;Patterns.skipConsistencyCheck" title="=&gt; Boolean">skipConsistencyCheck</a><span class="delimiter">)</span>
    <a href="#sbt.ConvertResolver.initializePatterns.patterns" title="sbt.Patterns">patterns</a>.<a href="Resolver.scala.html#sbt;Patterns.ivyPatterns" title="=&gt; Seq[String]">ivyPatterns</a>.<span title="(f: String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><span title="String">p</span> =&gt; <a href="#sbt.ConvertResolver.initializePatterns.resolver" title="org.apache.ivy.plugins.resolver.AbstractPatternsBasedResolver">resolver</a>.<span title="(x$1: String)Unit">addIvyPattern</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver.initializePatterns.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a> <span title="(x$1: String)String">substitute</span> <span title="String">p</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#sbt.ConvertResolver.initializePatterns.patterns" title="sbt.Patterns">patterns</a>.<a href="Resolver.scala.html#sbt;Patterns.artifactPatterns" title="=&gt; Seq[String]">artifactPatterns</a>.<span title="(f: String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><span title="String">p</span> =&gt; <a href="#sbt.ConvertResolver.initializePatterns.resolver" title="org.apache.ivy.plugins.resolver.AbstractPatternsBasedResolver">resolver</a>.<span title="(x$1: String)Unit">addArtifactPattern</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver.initializePatterns.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a> <span title="(x$1: String)String">substitute</span> <span title="String">p</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/**
   * A custom Ivy URLRepository that returns FileResources for file URLs.
   * This allows using the artifacts from the Maven local repository instead of copying them to the Ivy cache.
   */</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">final</span> <span class="keyword">class</span> <a title="class LocalIfFileRepo extends org.apache.ivy.plugins.repository.url.URLRepository" id="sbt.ConvertResolver;LocalIfFileRepo">LocalIfFileRepo</a> <a href="#sbt.ConvertResolver;LocalIfFileRepo" title="sbt.ConvertResolver.LocalIfFileRepo" class="keyword">extends</a> <span title="org.apache.ivy.plugins.repository.url.URLRepository">URLRepo</span> <span class="delimiter">{</span>
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="sbt.ConvertResolver.WarnOnOverwriteFileRepo" id="sbt.ConvertResolver;LocalIfFileRepo.repo">repo</a> = <span title="sbt.ConvertResolver.WarnOnOverwriteFileRepo" class="keyword">new</span> <a href="#sbt.ConvertResolver;WarnOnOverwriteFileRepo" title="sbt.ConvertResolver.WarnOnOverwriteFileRepo">WarnOnOverwriteFileRepo</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="org.apache.ivy.plugins.repository.RepositoryCopyProgressListener" id="sbt.ConvertResolver;LocalIfFileRepo.progress">progress</a> = <span title="org.apache.ivy.plugins.repository.RepositoryCopyProgressListener" class="keyword">new</span> <span title="org.apache.ivy.plugins.repository.RepositoryCopyProgressListener">RepositoryCopyProgressListener</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo" title="sbt.ConvertResolver.LocalIfFileRepo" class="keyword">this</a><span class="delimiter">)</span>;
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(source: String)org.apache.ivy.plugins.repository.Resource" id="sbt.ConvertResolver;LocalIfFileRepo.getResource">getResource</a><span class="delimiter">(</span><a title="String" id="sbt.ConvertResolver;LocalIfFileRepo.getResource.source">source</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.net.URL" id="sbt.ConvertResolver;LocalIfFileRepo.getResource.url">url</a> = <span title="(x$1: String)java.net.URL" class="keyword">new</span> <span title="java.net.URL">URL</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.getResource.source" title="String">source</a><span class="delimiter">)</span>
      <span title="org.apache.ivy.plugins.repository.Resource" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.getResource.url" title="java.net.URL">url</a>.<span title="()String">getProtocol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="IO.scala.html#sbt.IO" title="sbt.IO.type">IO</a>.<a href="IO.scala.html#sbt.IO.FileScheme" title="=&gt; String">FileScheme</a><span class="delimiter">)</span>
        <span title="org.apache.ivy.plugins.repository.file.FileResource" class="keyword">new</span> <span title="org.apache.ivy.plugins.repository.file.FileResource">FileResource</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.repo" title="sbt.ConvertResolver.WarnOnOverwriteFileRepo">repo</a>, <a href="IO.scala.html#sbt.IO" title="sbt.IO.type">IO</a>.<a href="IO.scala.html#sbt.IO.toFile" title="(url: java.net.URL)java.io.File">toFile</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.getResource.url" title="java.net.URL">url</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#sbt.ConvertResolver;LocalIfFileRepo" title="sbt.ConvertResolver.LocalIfFileRepo" class="keyword">super</a>.<span title="(x$1: String)org.apache.ivy.plugins.repository.Resource">getResource</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.getResource.source" title="String">source</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(source: java.io.File, destination: String, overwrite: Boolean)Unit" id="sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706)">put</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).source">source</a>: <span title="java.io.File">File</span>, <a title="String" id="sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).destination">destination</a>: <span title="String">String</span>, <a title="Boolean" id="sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).overwrite">overwrite</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.net.URL" id="sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).url">url</a> = <span title="(x$1: String)java.net.URL" class="keyword">new</span> <span title="java.net.URL">URL</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).destination" title="String">destination</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).url" title="java.net.URL">url</a>.<span title="()String">getProtocol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="IO.scala.html#sbt.IO" title="sbt.IO.type">IO</a>.<a href="IO.scala.html#sbt.IO.FileScheme" title="=&gt; String">FileScheme</a><span class="delimiter">)</span> <a href="#sbt.ConvertResolver;LocalIfFileRepo" title="sbt.ConvertResolver.LocalIfFileRepo" class="keyword">super</a>.<span title="(x$1: java.io.File, x$2: String, x$3: Boolean)Unit">put</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).source" title="java.io.File">source</a>, <a href="#sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).destination" title="String">destination</a>, <a href="#sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).overwrite" title="Boolean">overwrite</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="comment">// Here we duplicate the put method for files so we don't just bail on trying ot use Http handler</span>
        <span class="keyword">val</span> <a title="org.apache.ivy.plugins.repository.Resource" id="sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).resource">resource</a> = <a href="#sbt.ConvertResolver;LocalIfFileRepo.getResource" title="(source: String)org.apache.ivy.plugins.repository.Resource">getResource</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).destination" title="String">destination</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).overwrite" title="Boolean">overwrite</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).resource" title="org.apache.ivy.plugins.repository.Resource">resource</a>.<span title="()Boolean">exists</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)java.io.IOException" class="keyword">new</span> <span title="java.io.IOException">IOException</span><span class="delimiter">(</span><span title="String(&quot;destination file exists and overwrite == false&quot;)" class="string">&quot;destination file exists and overwrite == false&quot;</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        <a href="#sbt.ConvertResolver;LocalIfFileRepo" title="(x$1: org.apache.ivy.plugins.repository.Resource, x$2: Int)Unit">fireTransferInitiated</a><span class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).resource" title="org.apache.ivy.plugins.repository.Resource">resource</a>, TransferEvent.<span title="Int(6)">REQUEST_PUT</span><span class="delimiter">)</span>;
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Long" id="sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).totalLength">totalLength</a> = <a href="#sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).source" title="java.io.File">source</a>.<span title="()Long">length</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).totalLength" title="Long">totalLength</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#sbt.ConvertResolver;LocalIfFileRepo.progress" title="org.apache.ivy.plugins.repository.RepositoryCopyProgressListener">progress</a>.<span title="(x$1: Long)Unit">setTotalLength</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).totalLength" title="implicit scala.Predef.long2Long : (x: Long)Long">totalLength</a><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
          <span title="org.apache.ivy.util.FileUtil.type">FileUtil</span>.<span title="(x$1: java.io.File, x$2: java.io.File, x$3: org.apache.ivy.util.CopyProgressListener)Boolean">copy</span><span title="Unit" class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).source" title="java.io.File">source</a>, <span title="(x$1: java.net.URI)java.io.File" class="keyword">new</span> java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;LocalIfFileRepo.put(4cc18e8706).url" title="java.net.URL">url</a>.<span title="()java.net.URI">toURI</span><span class="delimiter">)</span>, <a href="#sbt.ConvertResolver;LocalIfFileRepo.progress" title="org.apache.ivy.plugins.repository.RepositoryCopyProgressListener">progress</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="java.io.IOException">ex</span>: <span title="java.io.IOException">IOException</span> =&gt;
            <a href="#sbt.ConvertResolver;LocalIfFileRepo" title="(x$1: Exception)Unit">fireTransferError</a><span class="delimiter">(</span><span title="java.io.IOException">ex</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">throw</span> <span title="java.io.IOException">ex</span>
          <span class="keyword">case</span> <span title="RuntimeException">ex</span>: <span title="RuntimeException">RuntimeException</span> =&gt;
            <a href="#sbt.ConvertResolver;LocalIfFileRepo" title="(x$1: Exception)Unit">fireTransferError</a><span class="delimiter">(</span><span title="RuntimeException">ex</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">throw</span> <span title="RuntimeException">ex</span>
        <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
          <a href="#sbt.ConvertResolver;LocalIfFileRepo.progress" title="org.apache.ivy.plugins.repository.RepositoryCopyProgressListener">progress</a>.<span title="(x$1: Long)Unit">setTotalLength</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">final</span> <span class="keyword">class</span> <a title="class WarnOnOverwriteFileRepo extends org.apache.ivy.plugins.repository.file.FileRepository" id="sbt.ConvertResolver;WarnOnOverwriteFileRepo">WarnOnOverwriteFileRepo</a> <a href="#sbt.ConvertResolver;WarnOnOverwriteFileRepo" title="sbt.ConvertResolver.WarnOnOverwriteFileRepo" class="keyword">extends</a> <span title="org.apache.ivy.plugins.repository.file.FileRepository">FileRepo</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(source: java.io.File, destination: String, overwrite: Boolean)Unit" id="sbt.ConvertResolver;WarnOnOverwriteFileRepo.put(4cc18e8706)">put</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.ConvertResolver;WarnOnOverwriteFileRepo.put(4cc18e8706).source">source</a>: java.io.<span title="java.io.File">File</span>, <a title="String" id="sbt.ConvertResolver;WarnOnOverwriteFileRepo.put(4cc18e8706).destination">destination</a>: <span title="String">String</span>, <a title="Boolean" id="sbt.ConvertResolver;WarnOnOverwriteFileRepo.put(4cc18e8706).overwrite">overwrite</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">try</span> <a href="#sbt.ConvertResolver;WarnOnOverwriteFileRepo" title="sbt.ConvertResolver.WarnOnOverwriteFileRepo" class="keyword">super</a>.<span title="(x$1: java.io.File, x$2: String, x$3: Boolean)Unit">put</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;WarnOnOverwriteFileRepo.put(4cc18e8706).source" title="java.io.File">source</a>, <a href="#sbt.ConvertResolver;WarnOnOverwriteFileRepo.put(4cc18e8706).destination" title="String">destination</a>, <a href="#sbt.ConvertResolver;WarnOnOverwriteFileRepo.put(4cc18e8706).overwrite" title="Boolean">overwrite</a><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="java.io.IOException" id="sbt.ConvertResolver;WarnOnOverwriteFileRepo.put(4cc18e8706).e">e</a>: java.io.<span title="java.io.IOException">IOException</span> <span class="keyword">if</span> <a href="#sbt.ConvertResolver;WarnOnOverwriteFileRepo.put(4cc18e8706).e" title="java.io.IOException">e</a>.<span title="()String">getMessage</span>.<span title="(x$1: CharSequence)Boolean">contains</span><span class="delimiter">(</span><span title="String(&quot;destination already exists&quot;)" class="string">&quot;destination already exists&quot;</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">import</span> org.apache.ivy.util.Message
          <span title="org.apache.ivy.util.Message.type">Message</span>.<span title="(x$1: String)Unit">warn</span><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;Attempting to overwrite &quot;)">Attempting to overwrite $</span><a href="#sbt.ConvertResolver;WarnOnOverwriteFileRepo.put(4cc18e8706).destination" title="String">destination</a><span title="String(&quot;\\n\\tThis usage is deprecated and will be removed in sbt 1.0.&quot;)" class="string">\n\tThis usage is deprecated and will be removed in sbt 1.0.&quot;</span><span class="delimiter">)</span>
          <a href="#sbt.ConvertResolver;WarnOnOverwriteFileRepo" title="sbt.ConvertResolver.WarnOnOverwriteFileRepo" class="keyword">super</a>.<span title="(x$1: java.io.File, x$2: String, x$3: Boolean)Unit">put</span><span class="delimiter">(</span><a href="#sbt.ConvertResolver;WarnOnOverwriteFileRepo.put(4cc18e8706).source" title="java.io.File">source</a>, <a href="#sbt.ConvertResolver;WarnOnOverwriteFileRepo.put(4cc18e8706).destination" title="String">destination</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
