<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/classfile/Parser.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2009 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt
<span class="keyword">package</span> classfile

<span class="keyword">import</span> java.io.<span class="delimiter">{</span> DataInputStream, File, InputStream <span class="delimiter">}</span>
<span class="keyword">import</span> scala.annotation.switch

<span class="comment">// Translation of jdepend.framework.ClassFileParser by Mike Clark, Clarkware Consulting, Inc.</span>
<span class="comment">// BSD Licensed</span>
<span class="comment">//</span>
<span class="comment">// Note that unlike the rest of sbt, some things might be null.</span>

<span class="keyword">import</span> <a href="ClassFile.scala.html#sbt.classfile.Constants" title="sbt.classfile.Constants.type">Constants</a>._

<span class="keyword">private</span><span class="delimiter">[</span>sbt<span class="delimiter">]</span> <span class="keyword">object</span> <a title="sbt.classfile.Parser.type" id="sbt.classfile.Parser">Parser</a> <a href="#sbt.classfile.Parser" title="sbt.classfile.Parser.type" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="(file: java.io.File)sbt.classfile.ClassFile" id="sbt.classfile.Parser.apply">apply</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.classfile.Parser.apply.file">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="ClassFile.scala.html#sbt.classfile;ClassFile" title="sbt.classfile.ClassFile">ClassFile</a> = <a href="../Using.scala.html#sbt.Using" title="sbt.Using.type">Using</a>.<a href="../Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Either[String,sbt.classfile.ClassFile])Either[String,sbt.classfile.ClassFile]">fileInputStream</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.apply.file" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parse" title="(fileName: String)(is: java.io.InputStream)Either[String,sbt.classfile.ClassFile]">parse</a><a href="#sbt.classfile.Parser.apply.$anonfun.is" title="java.io.InputStream" class="delimiter">(</a><a href="#sbt.classfile.Parser.apply.file" title="java.io.File">file</a>.<a href="#sbt.classfile.Parser.apply.eta$0$1" title="()String">getAbsolutePath</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; scala.util.Either.RightProjection[String,sbt.classfile.ClassFile]">right</span>.<span title="=&gt; sbt.classfile.ClassFile">get</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fileName: String)(is: java.io.InputStream)Either[String,sbt.classfile.ClassFile]" id="sbt.classfile.Parser.parse">parse</a><span class="delimiter">(</span><a title="String" id="sbt.classfile.Parser.parse.fileName">fileName</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.InputStream" id="sbt.classfile.Parser.parse.is">is</a>: <span title="java.io.InputStream">InputStream</span><span class="delimiter">)</span>: <span title="Either[String,sbt.classfile.ClassFile]">Either</span><span class="delimiter">[</span>String, ClassFile<span class="delimiter">]</span> = <span title="(b: sbt.classfile.ClassFile)scala.util.Right[Nothing,sbt.classfile.ClassFile]">Right</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl" title="(filename: String, is: java.io.InputStream)sbt.classfile.ClassFile">parseImpl</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parse.fileName" title="String">fileName</a>, <a href="#sbt.classfile.Parser.parse.is" title="java.io.InputStream">is</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(filename: String, is: java.io.InputStream)sbt.classfile.ClassFile" id="sbt.classfile.Parser.parseImpl">parseImpl</a><span class="delimiter">(</span><a title="String" id="sbt.classfile.Parser.parseImpl.filename">filename</a>: <span title="String">String</span>, <a title="java.io.InputStream" id="sbt.classfile.Parser.parseImpl.is">is</a>: <span title="java.io.InputStream">InputStream</span><span class="delimiter">)</span>: <a href="ClassFile.scala.html#sbt.classfile;ClassFile" title="sbt.classfile.ClassFile">ClassFile</a> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.DataInputStream" id="sbt.classfile.Parser.parseImpl.in">in</a> = <span title="java.io.DataInputStream" class="keyword">new</span> <span title="java.io.DataInputStream">DataInputStream</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.is" title="java.io.InputStream">is</a><span class="delimiter">)</span>
      <a href="#sbt.classfile.Parser.parseImpl;$anon" title="sbt.classfile.ClassFile{}" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with sbt.classfile.ClassFile" id="sbt.classfile.Parser.parseImpl;$anon">ClassFile</a> <span class="delimiter">{</span>
        <span title="(assumption: Boolean, message: =&gt; Any)Unit">assume</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readInt</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(-889275714)">JavaMagic</span>, <span title="String(&quot;Invalid class file: &quot;)" class="string">&quot;Invalid class file: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.classfile.Parser.parseImpl;$anon.fileName" title="=&gt; String">fileName</a><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="String" id="sbt.classfile.Parser.parseImpl;$anon.fileName">fileName</a> = <a href="#sbt.classfile.Parser.parseImpl.filename" title="String">filename</a>
        <span class="keyword">val</span> <a title="Int" id="sbt.classfile.Parser.parseImpl;$anon.minorVersion">minorVersion</a>: <span title="Int">Int</span> = <a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Int" id="sbt.classfile.Parser.parseImpl;$anon.majorVersion">majorVersion</a>: <span title="Int">Int</span> = <a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Array[sbt.classfile.Constant]" id="sbt.classfile.Parser.parseImpl;$anon.constantPool">constantPool</a> = <a href="#sbt.classfile.Parser.parseConstantPool" title="(in: java.io.DataInputStream)Array[sbt.classfile.Constant]">parseConstantPool</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Int" id="sbt.classfile.Parser.parseImpl;$anon.accessFlags">accessFlags</a>: <span title="Int">Int</span> = <a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="String" id="sbt.classfile.Parser.parseImpl;$anon.className">className</a> = <a href="#sbt.classfile.Parser.parseImpl;$anon.getClassConstantName" title="(entryIndex: Int)String">getClassConstantName</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="String" id="sbt.classfile.Parser.parseImpl;$anon.superClassName">superClassName</a> = <a href="#sbt.classfile.Parser.parseImpl;$anon.getClassConstantName" title="(entryIndex: Int)String">getClassConstantName</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Array[String]" id="sbt.classfile.Parser.parseImpl;$anon.interfaceNames">interfaceNames</a> = <a href="#sbt.classfile.Parser.array" title="(size: Int)(f: =&gt; String)(implicit evidence$1: scala.reflect.Manifest[String])Array[String]">array</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span title="(clazz: Class[_])scala.reflect.Manifest[String]" class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.getClassConstantName" title="(entryIndex: Int)String">getClassConstantName</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Array[sbt.classfile.FieldOrMethodInfo]" id="sbt.classfile.Parser.parseImpl;$anon.fields">fields</a> = <a href="#sbt.classfile.Parser.parseImpl;$anon.readFieldsOrMethods" title="()Array[sbt.classfile.FieldOrMethodInfo]">readFieldsOrMethods</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Array[sbt.classfile.FieldOrMethodInfo]" id="sbt.classfile.Parser.parseImpl;$anon.methods">methods</a> = <a href="#sbt.classfile.Parser.parseImpl;$anon.readFieldsOrMethods" title="()Array[sbt.classfile.FieldOrMethodInfo]">readFieldsOrMethods</a><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Array[sbt.classfile.AttributeInfo]" id="sbt.classfile.Parser.parseImpl;$anon.attributes">attributes</a> = <a href="#sbt.classfile.Parser.array" title="(size: Int)(f: =&gt; sbt.classfile.AttributeInfo)(implicit evidence$1: scala.reflect.Manifest[sbt.classfile.AttributeInfo])Array[sbt.classfile.AttributeInfo]">array</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span title="(clazz: Class[_])scala.reflect.Manifest[sbt.classfile.AttributeInfo]" class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.parseAttribute" title="()sbt.classfile.AttributeInfo">parseAttribute</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Option[String]" id="sbt.classfile.Parser.parseImpl;$anon.sourceFile">sourceFile</a> =
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="sbt.classfile.AttributeInfo" id="sbt.classfile.Parser.parseImpl;$anon.sourceFile.$anonfun.sourceFileAttribute">sourceFileAttribute</a> &lt;- <a href="#sbt.classfile.Parser.parseImpl;$anon.attributes" title="(xs: Array[sbt.classfile.AttributeInfo])scala.collection.mutable.ArrayOps[sbt.classfile.AttributeInfo]">attributes</a>.<span title="(p: sbt.classfile.AttributeInfo =&gt; Boolean)Option[sbt.classfile.AttributeInfo]">find</span><span title="(f: sbt.classfile.AttributeInfo =&gt; String)Option[String]" class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.sourceFile.$anonfun.x$1" title="sbt.classfile.AttributeInfo">_</a>.<a href="ClassFile.scala.html#sbt.classfile;AttributeInfo.isSourceFile" title="=&gt; Boolean">isSourceFile</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#sbt.classfile.Parser.parseImpl;$anon.toUTF8" title="(entryIndex: Int)String">toUTF8</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.entryIndex" title="(a: sbt.classfile.AttributeInfo)Int">entryIndex</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.sourceFile.$anonfun.sourceFileAttribute" title="sbt.classfile.AttributeInfo">sourceFileAttribute</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(a: sbt.classfile.AttributeInfo)String" id="sbt.classfile.Parser.parseImpl;$anon.stringValue">stringValue</a><span class="delimiter">(</span><a title="sbt.classfile.AttributeInfo" id="sbt.classfile.Parser.parseImpl;$anon.stringValue.a">a</a>: <a href="ClassFile.scala.html#sbt.classfile;AttributeInfo" title="sbt.classfile.AttributeInfo">AttributeInfo</a><span class="delimiter">)</span> = <a href="#sbt.classfile.Parser.parseImpl;$anon.toUTF8" title="(entryIndex: Int)String">toUTF8</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.entryIndex" title="(a: sbt.classfile.AttributeInfo)Int">entryIndex</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.stringValue.a" title="sbt.classfile.AttributeInfo">a</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Array[sbt.classfile.FieldOrMethodInfo]" id="sbt.classfile.Parser.parseImpl;$anon.readFieldsOrMethods">readFieldsOrMethods</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#sbt.classfile.Parser.array" title="(size: Int)(f: =&gt; sbt.classfile.FieldOrMethodInfo)(implicit evidence$1: scala.reflect.Manifest[sbt.classfile.FieldOrMethodInfo])Array[sbt.classfile.FieldOrMethodInfo]">array</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span title="(clazz: Class[_])scala.reflect.Manifest[sbt.classfile.FieldOrMethodInfo]" class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.parseFieldOrMethodInfo" title="()sbt.classfile.FieldOrMethodInfo">parseFieldOrMethodInfo</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">private</span> <span class="keyword">def</span> <a title="(entryIndex: Int)String" id="sbt.classfile.Parser.parseImpl;$anon.toUTF8">toUTF8</a><span class="delimiter">(</span><a title="Int" id="sbt.classfile.Parser.parseImpl;$anon.toUTF8.entryIndex">entryIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
          <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="sbt.classfile.Constant" id="sbt.classfile.Parser.parseImpl;$anon.toUTF8.entry">entry</a> = <a href="#sbt.classfile.Parser.parseImpl;$anon.constantPool" title="(i: Int)sbt.classfile.Constant">constantPool</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.toUTF8.entryIndex" title="Int">entryIndex</a><span class="delimiter">)</span>
            <span title="(assumption: Boolean, message: =&gt; Any)Unit">assume</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.toUTF8.entry" title="sbt.classfile.Constant">entry</a>.<a href="ClassFile.scala.html#sbt.classfile;Constant.tag" title="=&gt; Byte">tag</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">ConstantUTF8</span>, <span title="String(&quot;Constant pool entry is not a UTF8 type: &quot;)" class="string">&quot;Constant pool entry is not a UTF8 type: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.classfile.Parser.parseImpl;$anon.toUTF8.entryIndex" title="Int">entryIndex</a><span class="delimiter">)</span>
            <a href="#sbt.classfile.Parser.parseImpl;$anon.toUTF8.entry" title="sbt.classfile.Constant">entry</a>.<a href="ClassFile.scala.html#sbt.classfile;Constant.value" title="=&gt; Option[AnyRef]">value</a>.<span title="=&gt; AnyRef">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="String" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span>
          <span class="delimiter">}</span>
        <span class="keyword">private</span> <span class="keyword">def</span> <a title="(entryIndex: Int)String" id="sbt.classfile.Parser.parseImpl;$anon.getClassConstantName">getClassConstantName</a><span class="delimiter">(</span><a title="Int" id="sbt.classfile.Parser.parseImpl;$anon.getClassConstantName.entryIndex">entryIndex</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
          <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="sbt.classfile.Constant" id="sbt.classfile.Parser.parseImpl;$anon.getClassConstantName.entry">entry</a> = <a href="#sbt.classfile.Parser.parseImpl;$anon.constantPool" title="(i: Int)sbt.classfile.Constant">constantPool</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.getClassConstantName.entryIndex" title="Int">entryIndex</a><span class="delimiter">)</span>
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.getClassConstantName.entry" title="sbt.classfile.Constant">entry</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
            <span class="keyword">else</span> <a href="#sbt.classfile.Parser.slashesToDots" title="(s: String)String">slashesToDots</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.toUTF8" title="(entryIndex: Int)String">toUTF8</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.getClassConstantName.entry" title="sbt.classfile.Constant">entry</a>.<a href="ClassFile.scala.html#sbt.classfile;Constant.nameIndex" title="=&gt; Int">nameIndex</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">private</span> <span class="keyword">def</span> <a title="(index: Int)Option[String]" id="sbt.classfile.Parser.parseImpl;$anon.toString(1505e66537)">toString</a><span class="delimiter">(</span><a title="Int" id="sbt.classfile.Parser.parseImpl;$anon.toString(1505e66537).index">index</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
          <span class="delimiter">{</span>
            <span title="Option[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.toString(1505e66537).index" title="Int">index</a> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="None.type">None</span>
            <span class="keyword">else</span> <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.toUTF8" title="(entryIndex: Int)String">toUTF8</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.toString(1505e66537).index" title="Int">index</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">private</span> <span class="keyword">def</span> <a title="()sbt.classfile.FieldOrMethodInfo" id="sbt.classfile.Parser.parseImpl;$anon.parseFieldOrMethodInfo">parseFieldOrMethodInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> =
          <span title="sbt.classfile.FieldOrMethodInfo" class="keyword">new</span> <a href="ClassFile.scala.html#sbt.classfile;FieldOrMethodInfo" title="sbt.classfile.FieldOrMethodInfo">FieldOrMethodInfo</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#sbt.classfile.Parser.parseImpl;$anon.toString(1505e66537)" title="(index: Int)Option[String]">toString</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#sbt.classfile.Parser.parseImpl;$anon.toString(1505e66537)" title="(index: Int)Option[String]">toString</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>,
            <a href="#sbt.classfile.Parser.array" title="(size: Int)(f: =&gt; sbt.classfile.AttributeInfo)(implicit evidence$1: scala.reflect.Manifest[sbt.classfile.AttributeInfo])Array[sbt.classfile.AttributeInfo]">array</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span title="(xs: Array[sbt.classfile.AttributeInfo])scala.collection.mutable.WrappedArray[sbt.classfile.AttributeInfo]" class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.parseAttribute" title="()sbt.classfile.AttributeInfo">parseAttribute</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">private</span> <span class="keyword">def</span> <a title="()sbt.classfile.AttributeInfo" id="sbt.classfile.Parser.parseImpl;$anon.parseAttribute">parseAttribute</a><span class="delimiter">(</span><span class="delimiter">)</span> =
          <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="sbt.classfile.Parser.parseImpl;$anon.parseAttribute.nameIndex">nameIndex</a> = <a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Option[String]" id="sbt.classfile.Parser.parseImpl;$anon.parseAttribute.name">name</a> = <span title="Option[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.parseAttribute.nameIndex" title="Int">nameIndex</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span title="None.type">None</span> <span class="keyword">else</span> <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.toUTF8" title="(entryIndex: Int)String">toUTF8</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.parseAttribute.nameIndex" title="Int">nameIndex</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Array[Byte]" id="sbt.classfile.Parser.parseImpl;$anon.parseAttribute.value">value</a> = <a href="#sbt.classfile.Parser.array" title="(size: Int)(f: =&gt; Byte)(implicit evidence$1: scala.reflect.Manifest[Byte])Array[Byte]">array</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readInt</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span title="=&gt; scala.reflect.AnyValManifest[Byte]" class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl.in" title="java.io.DataInputStream">in</a>.<span title="()Byte">readByte</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="sbt.classfile.AttributeInfo" class="keyword">new</span> <a href="ClassFile.scala.html#sbt.classfile;AttributeInfo" title="sbt.classfile.AttributeInfo">AttributeInfo</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.parseAttribute.name" title="Option[String]">name</a>, <a href="#sbt.classfile.Parser.parseImpl;$anon.parseAttribute.value" title="Array[Byte]">value</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Set[String]" id="sbt.classfile.Parser.parseImpl;$anon.types">types</a> = <span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.classConstantReferences" title="=&gt; List[String]">classConstantReferences</a> <span title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">++</span> <a href="#sbt.classfile.Parser.parseImpl;$anon.fieldTypes" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">fieldTypes</a> <span title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">++</span> <a href="#sbt.classfile.Parser.parseImpl;$anon.methodTypes" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">methodTypes</a><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[String]">toSet</span>

        <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fieldsOrMethods: Array[sbt.classfile.FieldOrMethodInfo])Array[String]" id="sbt.classfile.Parser.parseImpl;$anon.getTypes">getTypes</a><span class="delimiter">(</span><a title="Array[sbt.classfile.FieldOrMethodInfo]" id="sbt.classfile.Parser.parseImpl;$anon.getTypes.fieldsOrMethods">fieldsOrMethods</a>: <span title="Array[sbt.classfile.FieldOrMethodInfo]">Array</span><span class="delimiter">[</span>FieldOrMethodInfo<span class="delimiter">]</span><span class="delimiter">)</span> =
          <a href="#sbt.classfile.Parser.parseImpl;$anon.getTypes.fieldsOrMethods" title="(xs: Array[sbt.classfile.FieldOrMethodInfo])scala.collection.mutable.ArrayOps[sbt.classfile.FieldOrMethodInfo]">fieldsOrMethods</a>.<span title="(f: sbt.classfile.FieldOrMethodInfo =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Array[sbt.classfile.FieldOrMethodInfo],String,Array[String]])Array[String]">flatMap</span> <span title="(implicit t: scala.reflect.ClassTag[String])scala.collection.generic.CanBuildFrom[Array[_],String,Array[String]]" class="delimiter">{</span> <a title="sbt.classfile.FieldOrMethodInfo" id="sbt.classfile.Parser.parseImpl;$anon.getTypes.$anonfun.fieldOrMethod">fieldOrMethod</a> =&gt;
            <a href="#sbt.classfile.Parser.descriptorToTypes" title="(descriptor: Option[String])List[String]">descriptorToTypes</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.getTypes.$anonfun.fieldOrMethod" title="sbt.classfile.FieldOrMethodInfo">fieldOrMethod</a>.<a href="ClassFile.scala.html#sbt.classfile;FieldOrMethodInfo.descriptor" title="=&gt; Option[String]">descriptor</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Array[String]" id="sbt.classfile.Parser.parseImpl;$anon.fieldTypes">fieldTypes</a> = <a href="#sbt.classfile.Parser.parseImpl;$anon.getTypes" title="(fieldsOrMethods: Array[sbt.classfile.FieldOrMethodInfo])Array[String]">getTypes</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.fields" title="=&gt; Array[sbt.classfile.FieldOrMethodInfo]">fields</a><span class="delimiter">)</span>
        <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Array[String]" id="sbt.classfile.Parser.parseImpl;$anon.methodTypes">methodTypes</a> = <a href="#sbt.classfile.Parser.parseImpl;$anon.getTypes" title="(fieldsOrMethods: Array[sbt.classfile.FieldOrMethodInfo])Array[String]">getTypes</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.methods" title="=&gt; Array[sbt.classfile.FieldOrMethodInfo]">methods</a><span class="delimiter">)</span>

        <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[String]" id="sbt.classfile.Parser.parseImpl;$anon.classConstantReferences">classConstantReferences</a> =
          <a href="#sbt.classfile.Parser.parseImpl;$anon.constants" title="=&gt; List[sbt.classfile.Constant]">constants</a>.<span title="(f: sbt.classfile.Constant =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[sbt.classfile.Constant],String,List[String]])List[String]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">{</span> <a title="sbt.classfile.Constant" id="sbt.classfile.Parser.parseImpl;$anon.classConstantReferences.$anonfun.constant">constant</a> =&gt;
            <a href="#sbt.classfile.Parser.parseImpl;$anon.classConstantReferences.$anonfun.constant" title="sbt.classfile.Constant">constant</a>.<a href="ClassFile.scala.html#sbt.classfile;Constant.tag" title="=&gt; Byte">tag</a> <span title="List[String]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="ClassFile.scala.html#sbt.classfile.Constants.ConstantClass" title="=&gt; Int(7)">ConstantClass</a> =&gt;
                <span class="keyword">val</span> <a title="String" id="sbt.classfile.Parser.parseImpl;$anon.classConstantReferences.$anonfun.name">name</a> = <a href="#sbt.classfile.Parser.parseImpl;$anon.toUTF8" title="(entryIndex: Int)String">toUTF8</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.classConstantReferences.$anonfun.constant" title="sbt.classfile.Constant">constant</a>.<a href="ClassFile.scala.html#sbt.classfile;Constant.nameIndex" title="=&gt; Int">nameIndex</a><span class="delimiter">)</span>
                <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.classConstantReferences.$anonfun.name" title="String">name</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#sbt.classfile.Parser.descriptorToTypes" title="(descriptor: Option[String])List[String]">descriptorToTypes</a><span class="delimiter">(</span><span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.classConstantReferences.$anonfun.name" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">else</span>
                  <a href="#sbt.classfile.Parser.slashesToDots" title="(s: String)String">slashesToDots</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.classConstantReferences.$anonfun.name" title="String">name</a><span class="delimiter">)</span> <a href="#sbt.classfile.Parser.parseImpl;$anon.classConstantReferences.$anonfun.x$2" title="(x: String)List[String]">::</a> <span title="scala.collection.immutable.Nil.type">Nil</span>
              <span class="keyword">case</span> _ =&gt; <span title="scala.collection.immutable.Nil.type">Nil</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[sbt.classfile.Constant]" id="sbt.classfile.Parser.parseImpl;$anon.constants">constants</a> =
          <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="(i: Int, list: List[sbt.classfile.Constant])List[sbt.classfile.Constant]" id="sbt.classfile.Parser.parseImpl;$anon.constants.next">next</a><span class="delimiter">(</span><a title="Int" id="sbt.classfile.Parser.parseImpl;$anon.constants.next.i">i</a>: <span title="Int">Int</span>, <a title="List[sbt.classfile.Constant]" id="sbt.classfile.Parser.parseImpl;$anon.constants.next.list">list</a>: <span title="List[sbt.classfile.Constant]">List</span><span class="delimiter">[</span>Constant<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[sbt.classfile.Constant]">List</span><span class="delimiter">[</span>Constant<span class="delimiter">]</span> =
              <span class="delimiter">{</span>
                <span title="List[sbt.classfile.Constant]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.constants.next.i" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#sbt.classfile.Parser.parseImpl;$anon.constantPool" title="=&gt; Array[sbt.classfile.Constant]">constantPool</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="sbt.classfile.Constant" id="sbt.classfile.Parser.parseImpl;$anon.constants.next.constant">constant</a> = <a href="#sbt.classfile.Parser.parseImpl;$anon.constantPool" title="(i: Int)sbt.classfile.Constant">constantPool</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.constants.next.i" title="Int">i</a><span class="delimiter">)</span>
                  <a href="#sbt.classfile.Parser.parseImpl;$anon.constants.next" title="(i: Int, list: List[sbt.classfile.Constant])List[sbt.classfile.Constant]">next</a><span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseImpl;$anon.constants.next.constant" title="sbt.classfile.Constant">constant</a>.<a href="ClassFile.scala.html#sbt.classfile;Constant.wide" title="=&gt; Boolean">wide</a><span class="delimiter">)</span> <a href="#sbt.classfile.Parser.parseImpl;$anon.constants.next.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span> <span class="keyword">else</span> <a href="#sbt.classfile.Parser.parseImpl;$anon.constants.next.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#sbt.classfile.Parser.parseImpl;$anon.constants.next.constant" title="sbt.classfile.Constant">constant</a> <a href="#sbt.classfile.Parser.parseImpl;$anon.constants.next.x$3" title="(x: sbt.classfile.Constant)List[sbt.classfile.Constant]">::</a> <a href="#sbt.classfile.Parser.parseImpl;$anon.constants.next.list" title="List[sbt.classfile.Constant]">list</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span>
                  <a href="#sbt.classfile.Parser.parseImpl;$anon.constants.next.list" title="List[sbt.classfile.Constant]">list</a>
              <span class="delimiter">}</span>
            <a href="#sbt.classfile.Parser.parseImpl;$anon.constants.next" title="(i: Int, list: List[sbt.classfile.Constant])List[sbt.classfile.Constant]">next</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](size: Int)(f: =&gt; T)(implicit evidence$1: scala.reflect.Manifest[T])Array[T]" id="sbt.classfile.Parser.array">array</a><span class="delimiter">[</span><a title="" id="sbt.classfile.Parser.array;T">T</a>: scala.reflect.Manifest<span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="sbt.classfile.Parser.array.size">size</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="sbt.classfile.Parser.array.f">f</a>: =&gt; T<span class="delimiter">)</span> = <span title="Array.type">Array</span>.<span title="(n: Int)(f: Int =&gt; T)(implicit evidence$14: scala.reflect.ClassTag[T])Array[T]">tabulate</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.array.size" title="Int">size</a><span class="delimiter">)</span><a href="#sbt.classfile.Parser.array.evidence$1" title="scala.reflect.Manifest[T]" class="delimiter">(</a><a title="Int" id="sbt.classfile.Parser.array.$anonfun.x$4">_</a> =&gt; <a href="#sbt.classfile.Parser.array.f" title="=&gt; T">f</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(in: java.io.DataInputStream)Array[sbt.classfile.Constant]" id="sbt.classfile.Parser.parseConstantPool">parseConstantPool</a><span class="delimiter">(</span><a title="java.io.DataInputStream" id="sbt.classfile.Parser.parseConstantPool.in">in</a>: <span title="java.io.DataInputStream">DataInputStream</span><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="sbt.classfile.Parser.parseConstantPool.constantPoolSize">constantPoolSize</a> = <a href="#sbt.classfile.Parser.parseConstantPool.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Array[sbt.classfile.Constant]" id="sbt.classfile.Parser.parseConstantPool.pool">pool</a> = <span title="Array[sbt.classfile.Constant]" class="keyword">new</span> <span title="Array[sbt.classfile.Constant]">Array</span><span class="delimiter">[</span>Constant<span class="delimiter">]</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseConstantPool.constantPoolSize" title="Int">constantPoolSize</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(i: Int)Unit" id="sbt.classfile.Parser.parseConstantPool.parse">parse</a><span class="delimiter">(</span><a title="Int" id="sbt.classfile.Parser.parseConstantPool.parse.i">i</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseConstantPool.parse.i" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#sbt.classfile.Parser.parseConstantPool.constantPoolSize" title="Int">constantPoolSize</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="sbt.classfile.Constant" id="sbt.classfile.Parser.parseConstantPool.parse.constant">constant</a> = <a href="#sbt.classfile.Parser.getConstant" title="(in: java.io.DataInputStream)sbt.classfile.Constant">getConstant</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseConstantPool.in" title="java.io.DataInputStream">in</a><span class="delimiter">)</span>
          <a href="#sbt.classfile.Parser.parseConstantPool.pool" title="(i: Int, x: sbt.classfile.Constant)Unit">pool</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseConstantPool.parse.i" title="Int">i</a><span class="delimiter">)</span> = <a href="#sbt.classfile.Parser.parseConstantPool.parse.constant" title="sbt.classfile.Constant">constant</a>
          <a href="#sbt.classfile.Parser.parseConstantPool.parse" title="(i: Int)Unit">parse</a><span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.classfile.Parser.parseConstantPool.parse.constant" title="sbt.classfile.Constant">constant</a>.<a href="ClassFile.scala.html#sbt.classfile;Constant.wide" title="=&gt; Boolean">wide</a><span class="delimiter">)</span> <a href="#sbt.classfile.Parser.parseConstantPool.parse.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(2)" class="int">2</span> <span class="keyword">else</span> <a href="#sbt.classfile.Parser.parseConstantPool.parse.i" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <a href="#sbt.classfile.Parser.parseConstantPool.parse" title="(i: Int)Unit">parse</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <a href="#sbt.classfile.Parser.parseConstantPool.pool" title="Array[sbt.classfile.Constant]">pool</a>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(in: java.io.DataInputStream)sbt.classfile.Constant" id="sbt.classfile.Parser.getConstant">getConstant</a><span class="delimiter">(</span><a title="java.io.DataInputStream" id="sbt.classfile.Parser.getConstant.in">in</a>: <span title="java.io.DataInputStream">DataInputStream</span><span class="delimiter">)</span>: <a href="ClassFile.scala.html#sbt.classfile;Constant" title="sbt.classfile.Constant">Constant</a> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Byte" id="sbt.classfile.Parser.getConstant.tag">tag</a> = <a href="#sbt.classfile.Parser.getConstant.in" title="java.io.DataInputStream">in</a>.<span title="()Byte">readByte</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="comment">// No switch for byte scrutinees! Stupid compiler.</span>
      <span class="delimiter">(</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.tag" title="=&gt; Int">tag</a>: <span title="Int">Int</span><span class="delimiter">)</span>: @<span title="Int @scala.annotation.switch">switch</span><span class="delimiter">)</span> <span title="sbt.classfile.Constant" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Int(7)">ConstantClass</span> | <span title="Int(8)">ConstantString</span> =&gt; <a href="ClassFile.scala.html#sbt.classfile;Constant.<init>(9e92ac480a)" title="(tag: Byte, nameIndex: Int)sbt.classfile.Constant" class="keyword">new</a> <a href="ClassFile.scala.html#sbt.classfile;Constant" title="sbt.classfile.Constant">Constant</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.tag" title="Byte">tag</a>, <a href="#sbt.classfile.Parser.getConstant.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Int(9)">ConstantField</span> | <span title="Int(10)">ConstantMethod</span> | <span title="Int(11)">ConstantInterfaceMethod</span> | <span title="Int(12)">ConstantNameAndType</span> =&gt;
          <a href="ClassFile.scala.html#sbt.classfile;Constant.<init>(1f073c41d6)" title="(tag: Byte, nameIndex: Int, typeIndex: Int)sbt.classfile.Constant" class="keyword">new</a> <a href="ClassFile.scala.html#sbt.classfile;Constant" title="sbt.classfile.Constant">Constant</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.tag" title="Byte">tag</a>, <a href="#sbt.classfile.Parser.getConstant.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#sbt.classfile.Parser.getConstant.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Int(3)">ConstantInteger</span> =&gt; <a href="ClassFile.scala.html#sbt.classfile;Constant.<init>(5f4cfec74e)" title="(tag: Byte, value: AnyRef)sbt.classfile.Constant" class="keyword">new</a> <a href="ClassFile.scala.html#sbt.classfile;Constant" title="sbt.classfile.Constant">Constant</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.tag" title="Byte">tag</a>, <span title="Integer" class="keyword">new</span> java.lang.<span title="Integer">Integer</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readInt</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Int(4)">ConstantFloat</span>   =&gt; <a href="ClassFile.scala.html#sbt.classfile;Constant.<init>(5f4cfec74e)" title="(tag: Byte, value: AnyRef)sbt.classfile.Constant" class="keyword">new</a> <a href="ClassFile.scala.html#sbt.classfile;Constant" title="sbt.classfile.Constant">Constant</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.tag" title="Byte">tag</a>, <span title="Float" class="keyword">new</span> java.lang.<span title="Float">Float</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.in" title="java.io.DataInputStream">in</a>.<span title="()Float">readFloat</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Int(5)">ConstantLong</span>    =&gt; <a href="ClassFile.scala.html#sbt.classfile;Constant.<init>(5f4cfec74e)" title="(tag: Byte, value: AnyRef)sbt.classfile.Constant" class="keyword">new</a> <a href="ClassFile.scala.html#sbt.classfile;Constant" title="sbt.classfile.Constant">Constant</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.tag" title="Byte">tag</a>, <span title="Long" class="keyword">new</span> java.lang.<span title="Long">Long</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.in" title="java.io.DataInputStream">in</a>.<span title="()Long">readLong</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Int(6)">ConstantDouble</span>  =&gt; <a href="ClassFile.scala.html#sbt.classfile;Constant.<init>(5f4cfec74e)" title="(tag: Byte, value: AnyRef)sbt.classfile.Constant" class="keyword">new</a> <a href="ClassFile.scala.html#sbt.classfile;Constant" title="sbt.classfile.Constant">Constant</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.tag" title="Byte">tag</a>, <span title="Double" class="keyword">new</span> java.lang.<span title="Double">Double</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.in" title="java.io.DataInputStream">in</a>.<span title="()Double">readDouble</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Int(1)">ConstantUTF8</span>    =&gt; <a href="ClassFile.scala.html#sbt.classfile;Constant.<init>(5f4cfec74e)" title="(tag: Byte, value: AnyRef)sbt.classfile.Constant" class="keyword">new</a> <a href="ClassFile.scala.html#sbt.classfile;Constant" title="sbt.classfile.Constant">Constant</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.tag" title="Byte">tag</a>, <a href="#sbt.classfile.Parser.getConstant.in" title="java.io.DataInputStream">in</a>.<span title="()String">readUTF</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">// TODO: proper support</span>
        <span class="keyword">case</span> <span title="Int(15)">ConstantMethodHandle</span> =&gt;
          <span class="keyword">val</span> <a title="Byte" id="sbt.classfile.Parser.getConstant.kind">kind</a> = <a href="#sbt.classfile.Parser.getConstant.in" title="java.io.DataInputStream">in</a>.<span title="()Byte">readByte</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="sbt.classfile.Parser.getConstant.ref">ref</a> = <a href="#sbt.classfile.Parser.getConstant.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="sbt.classfile.Constant" class="keyword">new</span> <a href="ClassFile.scala.html#sbt.classfile;Constant" title="sbt.classfile.Constant">Constant</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.tag" title="Byte">tag</a>, -<span title="Int(-1)" class="int">1</span>, -<span title="Int(-1)" class="int">1</span>, <span title="None.type">None</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Int(16)">ConstantMethodType</span> =&gt;
          <span class="keyword">val</span> <a title="Int" id="sbt.classfile.Parser.getConstant.descriptorIndex">descriptorIndex</a> = <a href="#sbt.classfile.Parser.getConstant.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="sbt.classfile.Constant" class="keyword">new</span> <a href="ClassFile.scala.html#sbt.classfile;Constant" title="sbt.classfile.Constant">Constant</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.tag" title="Byte">tag</a>, -<span title="Int(-1)" class="int">1</span>, -<span title="Int(-1)" class="int">1</span>, <span title="None.type">None</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Int(18)">ConstantInvokeDynamic</span> =&gt;
          <span class="keyword">val</span> <a title="Int" id="sbt.classfile.Parser.getConstant.bootstrapIndex">bootstrapIndex</a> = <a href="#sbt.classfile.Parser.getConstant.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="sbt.classfile.Parser.getConstant.nameAndTypeIndex">nameAndTypeIndex</a> = <a href="#sbt.classfile.Parser.getConstant.in" title="java.io.DataInputStream">in</a>.<span title="()Int">readUnsignedShort</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="sbt.classfile.Constant" class="keyword">new</span> <a href="ClassFile.scala.html#sbt.classfile;Constant" title="sbt.classfile.Constant">Constant</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.getConstant.tag" title="Byte">tag</a>, -<span title="Int(-1)" class="int">1</span>, -<span title="Int(-1)" class="int">1</span>, <span title="None.type">None</span><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt; sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;Unknown constant: &quot;)" class="string">&quot;Unknown constant: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.classfile.Parser.getConstant.tag" title="Byte">tag</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(v: Byte)Int" id="sbt.classfile.Parser.toInt">toInt</a><span class="delimiter">(</span><a title="Byte" id="sbt.classfile.Parser.toInt.v">v</a>: <span title="Byte">Byte</span><span class="delimiter">)</span> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.classfile.Parser.toInt.v" title="Byte">v</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#sbt.classfile.Parser.toInt.v" title="Byte">v</a> <span title="(x: Int)Int">+</span> <span title="Int(256)" class="int">256</span> <span class="keyword">else</span> <a href="#sbt.classfile.Parser.toInt.v" title="Byte">v</a>.<span title="=&gt; Int">toInt</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: sbt.classfile.AttributeInfo)Int" id="sbt.classfile.Parser.entryIndex">entryIndex</a><span class="delimiter">(</span><a title="sbt.classfile.AttributeInfo" id="sbt.classfile.Parser.entryIndex.a">a</a>: <a href="ClassFile.scala.html#sbt.classfile;AttributeInfo" title="sbt.classfile.AttributeInfo">AttributeInfo</a><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#sbt.classfile.Parser.entryIndex.x$5.<unapply-selector>" title="(x: Array[Byte])Option[IndexedSeq[Byte]]">Array</a><a href="#sbt.classfile.Parser.entryIndex.v0" title="(Byte, Byte)" class="delimiter">(</a><a href="#sbt.classfile.Parser.entryIndex.x$5" title="Byte" id="sbt.classfile.Parser.entryIndex.v0">v0</a>, <a href="#sbt.classfile.Parser.entryIndex.x$5" title="Byte" id="sbt.classfile.Parser.entryIndex.v1">v1</a><span class="delimiter">)</span> = <a href="#sbt.classfile.Parser.entryIndex.a" title="sbt.classfile.AttributeInfo">a</a>.<a href="ClassFile.scala.html#sbt.classfile;AttributeInfo.value" title="=&gt; Array[Byte]">value</a>
      <a href="#sbt.classfile.Parser.toInt" title="(v: Byte)Int">toInt</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.entryIndex.v0" title="Byte">v0</a><span class="delimiter">)</span> <span title="(x: Int)Int">*</span> <span title="Int(256)" class="int">256</span> <span title="(x: Int)Int">+</span> <a href="#sbt.classfile.Parser.toInt" title="(v: Byte)Int">toInt</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.entryIndex.v1" title="Byte">v1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String)String" id="sbt.classfile.Parser.slashesToDots">slashesToDots</a><span class="delimiter">(</span><a title="String" id="sbt.classfile.Parser.slashesToDots.s">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#sbt.classfile.Parser.slashesToDots.s" title="String">s</a>.<span title="(x$1: Char, x$2: Char)String">replace</span><span class="delimiter">(</span><span title="Char('/')" class="char">'/'</span>, <span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(descriptor: Option[String])List[String]" id="sbt.classfile.Parser.descriptorToTypes">descriptorToTypes</a><span class="delimiter">(</span><a title="Option[String]" id="sbt.classfile.Parser.descriptorToTypes.descriptor">descriptor</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(descriptor: String, types: List[String])List[String]" id="sbt.classfile.Parser.descriptorToTypes.toTypes">toTypes</a><span class="delimiter">(</span><a title="String" id="sbt.classfile.Parser.descriptorToTypes.toTypes.descriptor">descriptor</a>: <span title="String">String</span>, <a title="List[String]" id="sbt.classfile.Parser.descriptorToTypes.toTypes.types">types</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
        <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="sbt.classfile.Parser.descriptorToTypes.toTypes.startIndex">startIndex</a> = <a href="#sbt.classfile.Parser.descriptorToTypes.toTypes.descriptor" title="String">descriptor</a>.<span title="(x$1: Int)Int">indexOf</span><span class="delimiter">(</span><span title="Int(76)">ClassDescriptor</span><span class="delimiter">)</span>
          <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.classfile.Parser.descriptorToTypes.toTypes.startIndex" title="Int">startIndex</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
            <a href="#sbt.classfile.Parser.descriptorToTypes.toTypes.types" title="List[String]">types</a>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="sbt.classfile.Parser.descriptorToTypes.toTypes.endIndex">endIndex</a> = <a href="#sbt.classfile.Parser.descriptorToTypes.toTypes.descriptor" title="String">descriptor</a>.<span title="(x$1: Int, x$2: Int)Int">indexOf</span><span class="delimiter">(</span><span title="Int(59)" class="char">';'</span>, <a href="#sbt.classfile.Parser.descriptorToTypes.toTypes.startIndex" title="Int">startIndex</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="String" id="sbt.classfile.Parser.descriptorToTypes.toTypes.tpe">tpe</a> = <a href="#sbt.classfile.Parser.slashesToDots" title="(s: String)String">slashesToDots</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.descriptorToTypes.toTypes.descriptor" title="String">descriptor</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.descriptorToTypes.toTypes.startIndex" title="Int">startIndex</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>, <a href="#sbt.classfile.Parser.descriptorToTypes.toTypes.endIndex" title="Int">endIndex</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#sbt.classfile.Parser.descriptorToTypes.toTypes" title="(descriptor: String, types: List[String])List[String]">toTypes</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.descriptorToTypes.toTypes.descriptor" title="String">descriptor</a>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><a href="#sbt.classfile.Parser.descriptorToTypes.toTypes.endIndex" title="Int">endIndex</a><span class="delimiter">)</span>, <a href="#sbt.classfile.Parser.descriptorToTypes.toTypes.tpe" title="String">tpe</a> <a href="#sbt.classfile.Parser.descriptorToTypes.toTypes.x$6" title="(x: String)List[String]">::</a> <a href="#sbt.classfile.Parser.descriptorToTypes.toTypes.types" title="List[String]">types</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <a href="#sbt.classfile.Parser.descriptorToTypes.toTypes" title="(descriptor: String, types: List[String])List[String]">toTypes</a><span class="delimiter">(</span><a href="#sbt.classfile.Parser.descriptorToTypes.descriptor" title="Option[String]">descriptor</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>, <span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
