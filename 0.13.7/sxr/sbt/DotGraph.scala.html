<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/DotGraph.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010  Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.io.<span class="delimiter">{</span> File, Writer <span class="delimiter">}</span>
<span class="keyword">import</span> inc.Relations

<span class="keyword">object</span> <a title="sbt.DotGraph.type" id="sbt.DotGraph">DotGraph</a> <a href="#sbt.DotGraph" title="sbt.DotGraph.type" class="delimiter">{</a>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(roots: Iterable[java.io.File])java.io.File =&gt; String" id="sbt.DotGraph.fToString">fToString</a><span class="delimiter">(</span><a title="Iterable[java.io.File]" id="sbt.DotGraph.fToString.roots">roots</a>: <span title="Iterable[java.io.File]">Iterable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span class="delimiter">(</span>File =&gt; String<span class="delimiter">)</span> =
    <span class="delimiter">(</span>x: <span title="java.io.File">File</span><span class="delimiter">)</span> =&gt; <a href="#sbt.DotGraph.sourceToString" title="(roots: Iterable[java.io.File], source: java.io.File)String">sourceToString</a><span class="delimiter">(</span><a href="#sbt.DotGraph.fToString.roots" title="Iterable[java.io.File]">roots</a>, <a href="#sbt.DotGraph.fToString.$anonfun.x" title="java.io.File">x</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(relations: sbt.inc.Relations, outputDirectory: java.io.File, sourceRoots: Iterable[java.io.File])Unit" id="sbt.DotGraph.sources">sources</a><span class="delimiter">(</span><a title="sbt.inc.Relations" id="sbt.DotGraph.sources.relations">relations</a>: <a href="inc/Relations.scala.html#sbt.inc;Relations" title="sbt.inc.Relations">Relations</a>, <a title="java.io.File" id="sbt.DotGraph.sources.outputDirectory">outputDirectory</a>: <span title="java.io.File">File</span>, <a title="Iterable[java.io.File]" id="sbt.DotGraph.sources.sourceRoots">sourceRoots</a>: <span title="Iterable[java.io.File]">Iterable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.File =&gt; String" id="sbt.DotGraph.sources.toString">toString</a> = <a href="#sbt.DotGraph.fToString" title="(roots: Iterable[java.io.File])java.io.File =&gt; String">fToString</a><span class="delimiter">(</span><a href="#sbt.DotGraph.sources.sourceRoots" title="Iterable[java.io.File]">sourceRoots</a><span class="delimiter">)</span>
    <a href="#sbt.DotGraph.apply" title="(relations: sbt.inc.Relations, outputDir: java.io.File, sourceToString: java.io.File =&gt; String, externalToString: java.io.File =&gt; String)Unit">apply</a><span class="delimiter">(</span><a href="#sbt.DotGraph.sources.relations" title="sbt.inc.Relations">relations</a>, <a href="#sbt.DotGraph.sources.outputDirectory" title="java.io.File">outputDirectory</a>, <a href="#sbt.DotGraph.sources.toString" title="java.io.File =&gt; String">toString</a>, <a href="#sbt.DotGraph.sources.toString" title="java.io.File =&gt; String">toString</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(relations: sbt.inc.Relations, outputDirectory: java.io.File, sourceRoots: Iterable[java.io.File])Unit" id="sbt.DotGraph.packages">packages</a><span class="delimiter">(</span><a title="sbt.inc.Relations" id="sbt.DotGraph.packages.relations">relations</a>: <a href="inc/Relations.scala.html#sbt.inc;Relations" title="sbt.inc.Relations">Relations</a>, <a title="java.io.File" id="sbt.DotGraph.packages.outputDirectory">outputDirectory</a>: <span title="java.io.File">File</span>, <a title="Iterable[java.io.File]" id="sbt.DotGraph.packages.sourceRoots">sourceRoots</a>: <span title="Iterable[java.io.File]">Iterable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String =&gt; String" id="sbt.DotGraph.packages.packageOnly">packageOnly</a> = <span class="delimiter">(</span>path: <span title="String">String</span><span class="delimiter">)</span> =&gt;
      <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="sbt.DotGraph.packages.packageOnly.$anonfun.last">last</a> = <a href="#sbt.DotGraph.packages.packageOnly.$anonfun.path" title="String">path</a>.<span title="(x$1: Int)Int">lastIndexOf</span><span class="delimiter">(</span><span title="java.io.File.type">File</span>.<span title="=&gt; Int">separatorChar</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="String" id="sbt.DotGraph.packages.packageOnly.$anonfun.packagePath">packagePath</a> = <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.DotGraph.packages.packageOnly.$anonfun.last" title="Int">last</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#sbt.DotGraph.packages.packageOnly.$anonfun.path" title="String">path</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#sbt.DotGraph.packages.packageOnly.$anonfun.last" title="Int">last</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#sbt.DotGraph.packages.packageOnly.$anonfun.path" title="String">path</a><span class="delimiter">)</span>.<span title="()String">trim</span>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.DotGraph.packages.packageOnly.$anonfun.packagePath" title="String">packagePath</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#sbt.DotGraph.packages.packageOnly.$anonfun.packagePath" title="String">packagePath</a>.<span title="(x$1: Char, x$2: Char)String">replace</span><span class="delimiter">(</span><span title="java.io.File.type">File</span>.<span title="Char">separatorChar</span>, <span title="Char('.')" class="char">'.'</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="java.io.File =&gt; String" id="sbt.DotGraph.packages.toString">toString</a> = <a href="#sbt.DotGraph.packages.packageOnly" title="String =&gt; String">packageOnly</a> <span title="(g: java.io.File =&gt; String)java.io.File =&gt; String">compose</span> <a href="#sbt.DotGraph.fToString" title="(roots: Iterable[java.io.File])java.io.File =&gt; String">fToString</a><span class="delimiter">(</span><a href="#sbt.DotGraph.packages.sourceRoots" title="Iterable[java.io.File]">sourceRoots</a><span class="delimiter">)</span>
    <a href="#sbt.DotGraph.apply" title="(relations: sbt.inc.Relations, outputDir: java.io.File, sourceToString: java.io.File =&gt; String, externalToString: java.io.File =&gt; String)Unit">apply</a><span class="delimiter">(</span><a href="#sbt.DotGraph.packages.relations" title="sbt.inc.Relations">relations</a>, <a href="#sbt.DotGraph.packages.outputDirectory" title="java.io.File">outputDirectory</a>, <a href="#sbt.DotGraph.packages.toString" title="java.io.File =&gt; String">toString</a>, <a href="#sbt.DotGraph.packages.toString" title="java.io.File =&gt; String">toString</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(relations: sbt.inc.Relations, outputDir: java.io.File, sourceToString: java.io.File =&gt; String, externalToString: java.io.File =&gt; String)Unit" id="sbt.DotGraph.apply">apply</a><span class="delimiter">(</span><a title="sbt.inc.Relations" id="sbt.DotGraph.apply.relations">relations</a>: <a href="inc/Relations.scala.html#sbt.inc;Relations" title="sbt.inc.Relations">Relations</a>, <a title="java.io.File" id="sbt.DotGraph.apply.outputDir">outputDir</a>: <span title="java.io.File">File</span>, <a title="java.io.File =&gt; String" id="sbt.DotGraph.apply.sourceToString">sourceToString</a>: File =&gt; String, <a title="java.io.File =&gt; String" id="sbt.DotGraph.apply.externalToString">externalToString</a>: File =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(name: String)java.io.File" id="sbt.DotGraph.apply.file">file</a><span class="delimiter">(</span><a title="String" id="sbt.DotGraph.apply.file.name">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="(x$1: java.io.File, x$2: String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.DotGraph.apply.outputDir" title="java.io.File">outputDir</a>, <a href="#sbt.DotGraph.apply.file.name" title="String">name</a><span class="delimiter">)</span>
    <a href="IO.scala.html#sbt.IO" title="sbt.IO.type">IO</a>.<a href="IO.scala.html#sbt.IO.createDirectory" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#sbt.DotGraph.apply.outputDir" title="java.io.File">outputDir</a><span class="delimiter">)</span>
    <a href="#sbt.DotGraph.generateGraph" title="(file: java.io.File, graphName: String, relation: sbt.Relation[java.io.File,java.io.File], keyToString: java.io.File =&gt; String, valueToString: java.io.File =&gt; String)Unit">generateGraph</a><span class="delimiter">(</span><a href="#sbt.DotGraph.apply.file" title="(name: String)java.io.File">file</a><span class="delimiter">(</span><span title="String(&quot;int-source-deps&quot;)" class="string">&quot;int-source-deps&quot;</span><span class="delimiter">)</span>, <span title="String(&quot;dependencies&quot;)" class="string">&quot;dependencies&quot;</span>, <a href="#sbt.DotGraph.apply.relations" title="sbt.inc.Relations">relations</a>.<a href="inc/Relations.scala.html#sbt.inc;Relations.internalSrcDep" title="=&gt; sbt.Relation[java.io.File,java.io.File]">internalSrcDep</a>, <a href="#sbt.DotGraph.apply.sourceToString" title="java.io.File =&gt; String">sourceToString</a>, <a href="#sbt.DotGraph.apply.sourceToString" title="java.io.File =&gt; String">sourceToString</a><span class="delimiter">)</span>
    <a href="#sbt.DotGraph.generateGraph" title="(file: java.io.File, graphName: String, relation: sbt.Relation[java.io.File,java.io.File], keyToString: java.io.File =&gt; String, valueToString: java.io.File =&gt; String)Unit">generateGraph</a><span class="delimiter">(</span><a href="#sbt.DotGraph.apply.file" title="(name: String)java.io.File">file</a><span class="delimiter">(</span><span title="String(&quot;binary-dependencies&quot;)" class="string">&quot;binary-dependencies&quot;</span><span class="delimiter">)</span>, <span title="String(&quot;externalDependencies&quot;)" class="string">&quot;externalDependencies&quot;</span>, <a href="#sbt.DotGraph.apply.relations" title="sbt.inc.Relations">relations</a>.<a href="inc/Relations.scala.html#sbt.inc;Relations.binaryDep" title="=&gt; sbt.Relation[java.io.File,java.io.File]">binaryDep</a>, <a href="#sbt.DotGraph.apply.externalToString" title="java.io.File =&gt; String">externalToString</a>, <a href="#sbt.DotGraph.apply.sourceToString" title="java.io.File =&gt; String">sourceToString</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[Key, Value](file: java.io.File, graphName: String, relation: sbt.Relation[Key,Value], keyToString: Key =&gt; String, valueToString: Value =&gt; String)Unit" id="sbt.DotGraph.generateGraph">generateGraph</a><span class="delimiter">[</span><a title="" id="sbt.DotGraph.generateGraph;Key">Key</a>, <a title="" id="sbt.DotGraph.generateGraph;Value">Value</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File" id="sbt.DotGraph.generateGraph.file">file</a>: <span title="java.io.File">File</span>, <a title="String" id="sbt.DotGraph.generateGraph.graphName">graphName</a>: <span title="String">String</span>, <a title="sbt.Relation[Key,Value]" id="sbt.DotGraph.generateGraph.relation">relation</a>: <a href="Relation.scala.html#sbt;Relation" title="sbt.Relation[Key,Value]">Relation</a><span class="delimiter">[</span>Key, Value<span class="delimiter">]</span>,
    <a title="Key =&gt; String" id="sbt.DotGraph.generateGraph.keyToString">keyToString</a>: Key =&gt; String, <a title="Value =&gt; String" id="sbt.DotGraph.generateGraph.valueToString">valueToString</a>: Value =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">import</span> scala.collection.mutable.<span class="delimiter">{</span> HashMap, HashSet <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,scala.collection.mutable.HashSet[String]]" id="sbt.DotGraph.generateGraph.mappedGraph">mappedGraph</a> = <span title="()scala.collection.mutable.HashMap[String,scala.collection.mutable.HashSet[String]]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[String,scala.collection.mutable.HashSet[String]]">HashMap</span><span class="delimiter">[</span>String, HashSet<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="(Key, Set[Value])" id="sbt.DotGraph.generateGraph.$anonfun.x$1" class="delimiter">(</a><a title="Key" id="sbt.DotGraph.generateGraph.$anonfun.key">key</a>, <a title="Set[Value]" id="sbt.DotGraph.generateGraph.$anonfun.values">values</a><span class="delimiter">)</span> &lt;- <a href="#sbt.DotGraph.generateGraph.relation" title="sbt.Relation[Key,Value]">relation</a>.<a href="Relation.scala.html#sbt;Relation.forwardMap" title="(f: ((Key, Set[Value])) =&gt; ((Key, Set[Value]), String))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Key,Set[Value]],((Key, Set[Value]), String),scala.collection.immutable.Map[(Key, Set[Value]),String]])scala.collection.immutable.Map[(Key, Set[Value]),String]">forwardMap</a>; <a title="String" id="sbt.DotGraph.generateGraph.$anonfun.keyString">keyString</a> = <a href="#sbt.DotGraph.generateGraph.keyToString" title="(v1: Key)String">keyToString</a><span class="delimiter">(</span><a href="#sbt.DotGraph.generateGraph.$anonfun.key" title="Key">key</a><span class="delimiter">)</span>; <a title="Value" id="sbt.DotGraph.generateGraph.$anonfun.$anonfun.value">value</a> &lt;- <a href="#sbt.DotGraph.generateGraph.$anonfun.values" title="(f: Value =&gt; scala.collection.mutable.HashSet[String])Unit">values</a><span class="delimiter">)</span>
      <a href="#sbt.DotGraph.generateGraph.mappedGraph" title="scala.collection.mutable.HashMap[String,scala.collection.mutable.HashSet[String]]">mappedGraph</a>.<span title="(key: String, op: =&gt; scala.collection.mutable.HashSet[String])scala.collection.mutable.HashSet[String]">getOrElseUpdate</span><span class="delimiter">(</span><a href="#sbt.DotGraph.generateGraph.$anonfun.keyString" title="String">keyString</a>, <span title="()scala.collection.mutable.HashSet[String]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[String]">HashSet</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span title="(elem: String)scala.collection.mutable.HashSet[String]">+=</span> <a href="#sbt.DotGraph.generateGraph.valueToString" title="(v1: Value)String">valueToString</a><span class="delimiter">(</span><a href="#sbt.DotGraph.generateGraph.$anonfun.$anonfun.value" title="Value">value</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="Seq[String]" id="sbt.DotGraph.generateGraph.mappings">mappings</a> =
      <span class="keyword">for</span> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a title="String" id="sbt.DotGraph.generateGraph.mappings.$anonfun.dependsOn">dependsOn</a>, <a title="scala.collection.mutable.HashSet[String]" id="sbt.DotGraph.generateGraph.mappings.$anonfun.dependants">dependants</a><span class="delimiter">)</span> &lt;- <a href="#sbt.DotGraph.generateGraph.mappedGraph" title="scala.collection.mutable.HashMap[String,scala.collection.mutable.HashSet[String]]">mappedGraph</a>.<a href="#sbt.DotGraph.generateGraph.mappings.$anonfun.check$ifrefutable$2" title="(f: ((String, scala.collection.mutable.HashSet[String])) =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(String, scala.collection.mutable.HashSet[String])],String,Seq[String]])Seq[String]">toSeq</a>
        <a title="String" id="sbt.DotGraph.generateGraph.mappings.$anonfun.$anonfun.dependant">dependant</a> &lt;- <a href="#sbt.DotGraph.generateGraph.mappings.$anonfun.dependants" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.HashSet[String],String,scala.collection.mutable.HashSet[String]])scala.collection.mutable.HashSet[String]">dependants</a>
        <span class="keyword">if</span> <a href="#sbt.DotGraph.generateGraph.mappings.$anonfun.$anonfun.dependant" title="String">dependant</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#sbt.DotGraph.generateGraph.mappings.$anonfun.dependsOn" title="String">dependsOn</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#sbt.DotGraph.generateGraph.mappings.$anonfun.dependsOn" title="String">dependsOn</a>.<span title="()Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#sbt.DotGraph.generateGraph.mappings.$anonfun.$anonfun.dependant" title="String">dependant</a>.<span title="()Boolean">isEmpty</span>
      <span class="delimiter">}</span> <span class="keyword">yield</span> <span title="String(&quot;\&quot;&quot;)" class="string">&quot;\&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.DotGraph.generateGraph.mappings.$anonfun.$anonfun.dependant" title="String">dependant</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\&quot; -&gt; \&quot;&quot;)" class="string">&quot;\&quot; -&gt; \&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.DotGraph.generateGraph.mappings.$anonfun.dependsOn" title="String">dependsOn</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\&quot;&quot;)" class="string">&quot;\&quot;&quot;</span>

    <span class="keyword">val</span> <a title="Seq[String]" id="sbt.DotGraph.generateGraph.lines">lines</a> =
      <span class="delimiter">(</span><span title="String(&quot;digraph &quot;)" class="string">&quot;digraph &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.DotGraph.generateGraph.graphName" title="String">graphName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; {&quot;)" class="string">&quot; {&quot;</span><span class="delimiter">)</span> <a href="#sbt.DotGraph.generateGraph.lines.x$5" title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">+:</a>
        <a href="#sbt.DotGraph.generateGraph.mappings" title="Seq[String]">mappings</a> <span title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">:+</span>
        <span title="String(&quot;}&quot;)" class="string">&quot;}&quot;</span>

    <a href="IO.scala.html#sbt.IO" title="sbt.IO.type">IO</a>.<a href="IO.scala.html#sbt.IO.writeLines(b1ce86847a)" title="(file: java.io.File, lines: Seq[String], charset: java.nio.charset.Charset, append: Boolean)Unit">writeLines</a><span class="delimiter">(</span><a href="#sbt.DotGraph.generateGraph.file" title="java.io.File">file</a>, <a href="#sbt.DotGraph.generateGraph.lines" title="Seq[String]">lines</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(roots: Iterable[java.io.File], source: java.io.File)String" id="sbt.DotGraph.sourceToString">sourceToString</a><span class="delimiter">(</span><a title="Iterable[java.io.File]" id="sbt.DotGraph.sourceToString.roots">roots</a>: <span title="Iterable[java.io.File]">Iterable</span><span class="delimiter">[</span>File<span class="delimiter">]</span>, <a title="java.io.File" id="sbt.DotGraph.sourceToString.source">source</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> =
    <a href="#sbt.DotGraph.relativized" title="(roots: Iterable[java.io.File], path: java.io.File)String">relativized</a><span class="delimiter">(</span><a href="#sbt.DotGraph.sourceToString.roots" title="Iterable[java.io.File]">roots</a>, <a href="#sbt.DotGraph.sourceToString.source" title="java.io.File">source</a><span class="delimiter">)</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">trim</span>.<span title="(suffix: String)String">stripSuffix</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</span><span title="String(&quot;.scala&quot;)" class="string">&quot;.scala&quot;</span><span class="delimiter">)</span>.<span title="(suffix: String)String">stripSuffix</span><span class="delimiter">(</span><span title="String(&quot;.java&quot;)" class="string">&quot;.java&quot;</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(roots: Iterable[java.io.File], path: java.io.File)String" id="sbt.DotGraph.relativized">relativized</a><span class="delimiter">(</span><a title="Iterable[java.io.File]" id="sbt.DotGraph.relativized.roots">roots</a>: <span title="Iterable[java.io.File]">Iterable</span><span class="delimiter">[</span>File<span class="delimiter">]</span>, <a title="java.io.File" id="sbt.DotGraph.relativized.path">path</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="String">String</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Iterable[String]" id="sbt.DotGraph.relativized.relativized">relativized</a> = <a href="#sbt.DotGraph.relativized.roots" title="Iterable[java.io.File]">roots</a>.<span title="(f: java.io.File =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[java.io.File],String,Iterable[String]])Iterable[String]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,String,Iterable[String]]" class="delimiter">(</span><a title="java.io.File" id="sbt.DotGraph.relativized.relativized.$anonfun.root">root</a> =&gt; <a href="IO.scala.html#sbt.IO" title="sbt.IO.type">IO</a>.<a href="IO.scala.html#sbt.IO.relativize" title="(base: java.io.File, file: java.io.File)Option[String]">relativize</a><span title="(xo: Option[String])Iterable[String]" class="delimiter">(</span><a href="#sbt.DotGraph.relativized.relativized.$anonfun.root" title="java.io.File">root</a>, <a href="#sbt.DotGraph.relativized.path" title="java.io.File">path</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="sbt.DotGraph.relativized.shortest">shortest</a> = <span class="delimiter">(</span>Int.<span title="Int(2147483647)">MaxValue</span> <a href="#sbt.DotGraph.relativized.shortest.x$6" title="(z: Int)(op: (Int, String) =&gt; Int)Int">/:</a> <a href="#sbt.DotGraph.relativized.relativized" title="Iterable[String]">relativized</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.DotGraph.relativized.shortest.$anonfun.x$7" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt">_</a> <span title="(that: Int)Int">min</span> <a href="#sbt.DotGraph.relativized.shortest.$anonfun.x$8" title="String">_</a>.<span title="()Int">length</span><span class="delimiter">)</span>
      <a href="#sbt.DotGraph.relativized.relativized" title="Iterable[String]">relativized</a>.<span title="(p: String =&gt; Boolean)Option[String]">find</span><span class="delimiter">(</span><a href="#sbt.DotGraph.relativized.$anonfun.x$9" title="String">_</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#sbt.DotGraph.relativized.shortest" title="Int">shortest</a><span class="delimiter">)</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><a href="#sbt.DotGraph.relativized.path" title="java.io.File">path</a>.<span title="()String">getName</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>
