<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/VersionRange.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> sbt

<span class="keyword">object</span> <a title="sbt.VersionRange.type" id="sbt.VersionRange">VersionRange</a> <a href="#sbt.VersionRange" title="sbt.VersionRange.type" class="delimiter">{</a>
  <span class="comment">/** True if the revision is an ivy-range, not a complete revision. */</span>
  <span class="keyword">def</span> <a title="(revision: String)Boolean" id="sbt.VersionRange.isVersionRange">isVersionRange</a><span class="delimiter">(</span><a title="String" id="sbt.VersionRange.isVersionRange.revision">revision</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <span class="delimiter">(</span><a href="#sbt.VersionRange.isVersionRange.revision" title="String">revision</a> <span title="(x$1: String)Boolean">endsWith</span> <span title="String(&quot;+&quot;)" class="string">&quot;+&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#sbt.VersionRange.isVersionRange.revision" title="String">revision</a> <span title="(x$1: CharSequence)Boolean">contains</span> <span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#sbt.VersionRange.isVersionRange.revision" title="String">revision</a> <span title="(x$1: CharSequence)Boolean">contains</span> <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#sbt.VersionRange.isVersionRange.revision" title="String">revision</a> <span title="(x$1: CharSequence)Boolean">contains</span> <span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#sbt.VersionRange.isVersionRange.revision" title="String">revision</a> <span title="(x$1: CharSequence)Boolean">contains</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// Assuming Ivy is used to resolve conflict, this removes the version range</span>
  <span class="comment">// when it is open-ended to avoid dependency resolution hitting the Internet to get the latest.</span>
  <span class="comment">// See https://github.com/sbt/sbt/issues/2954</span>
  <span class="keyword">def</span> <a title="(version: String)Option[String]" id="sbt.VersionRange.stripMavenVersionRange">stripMavenVersionRange</a><span class="delimiter">(</span><a title="String" id="sbt.VersionRange.stripMavenVersionRange.version">version</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span title="Option[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.VersionRange.isVersionRange" title="(revision: String)Boolean">isVersionRange</a><span class="delimiter">(</span><a href="#sbt.VersionRange.stripMavenVersionRange.version" title="String">version</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="sbt.VersionRange.stripMavenVersionRange.noSpace">noSpace</a> = <a href="#sbt.VersionRange.stripMavenVersionRange.version" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">version</a>.<span title="(literal: String, replacement: String)String">replaceAllLiterally</span><span class="delimiter">(</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <a href="#sbt.VersionRange.stripMavenVersionRange.noSpace" title="String">noSpace</a> <span title="Option[String]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#sbt.VersionRange.MavenVersionSetPattern" title="(target: Any)Option[List[String]]">MavenVersionSetPattern</a><span class="delimiter">(</span><a title="String" id="sbt.VersionRange.stripMavenVersionRange.open1">open1</a>, <span title="String">x1</span>, <a title="String" id="sbt.VersionRange.stripMavenVersionRange.comma">comma</a>, <span title="String">x2</span>, <a title="String" id="sbt.VersionRange.stripMavenVersionRange.close1">close1</a>, <a title="String" id="sbt.VersionRange.stripMavenVersionRange.rest">rest</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// http://maven.apache.org/components/enforcer/enforcer-rules/versionRanges.html</span>
          <span title="(_1: String, _2: Option[String], _3: Option[String], _4: Option[String], _5: String)(String, Option[String], Option[String], Option[String], String)" class="delimiter">(</span><a href="#sbt.VersionRange.stripMavenVersionRange.open1" title="String">open1</a>, <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="String">x1</span><span class="delimiter">)</span>, <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#sbt.VersionRange.stripMavenVersionRange.comma" title="String">comma</a><span class="delimiter">)</span>, <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="String">x2</span><span class="delimiter">)</span>, <a href="#sbt.VersionRange.stripMavenVersionRange.close1" title="String">close1</a><span class="delimiter">)</span> <span title="Option[String]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span class="delimiter">(</span>_, <span title="None.type">None</span>, _, Some<span class="delimiter">(</span><span title="String">x2</span><span class="delimiter">)</span>, <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span> =&gt; <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><span title="String">x2</span><span class="delimiter">)</span>
            <span class="comment">// a good upper bound is unknown</span>
            <span class="keyword">case</span> <span class="delimiter">(</span>_, <span title="None.type">None</span>, _, Some<span class="delimiter">(</span><span title="String">x2</span><span class="delimiter">)</span>, <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span> =&gt; <span title="None.type">None</span>
            <span class="keyword">case</span> <span class="delimiter">(</span>_, Some<span class="delimiter">(</span><span title="String">x1</span><span class="delimiter">)</span>, _, <span title="None.type">None</span>, _<span class="delimiter">)</span>   =&gt; <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><span title="String">x1</span><span class="delimiter">)</span>
            <span class="keyword">case</span> _                           =&gt; <span title="None.type">None</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> _ =&gt; <span title="None.type">None</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="None.type">None</span>

  <span class="comment">/** Converts Ivy revision ranges to that of Maven POM */</span>
  <span class="keyword">def</span> <a title="(revision: String)String" id="sbt.VersionRange.fromIvyToMavenVersion">fromIvyToMavenVersion</a><span class="delimiter">(</span><a title="String" id="sbt.VersionRange.fromIvyToMavenVersion.revision">revision</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(s: String, shift: Int)String" id="sbt.VersionRange.fromIvyToMavenVersion.plusRange">plusRange</a><span class="delimiter">(</span><a title="String" id="sbt.VersionRange.fromIvyToMavenVersion.plusRange.s">s</a>: <span title="String">String</span>, <a title="Int" id="sbt.VersionRange.fromIvyToMavenVersion.plusRange$default$2">shift</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(i: Int)Int" id="sbt.VersionRange.fromIvyToMavenVersion.plusRange.pow">pow</a><span class="delimiter">(</span><a title="Int" id="sbt.VersionRange.fromIvyToMavenVersion.plusRange.pow.i">i</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.pow.i" title="Int">i</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Int(10)" class="int">10</span> <span title="(x: Int)Int">*</span> <a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.pow" title="(i: Int)Int">pow</a><span class="delimiter">(</span><a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.pow.i" title="Int">i</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Int(1)" class="int">1</span>
      <span class="keyword">val</span> <a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.prefixVersion" title="(String, String)" class="delimiter">(</a><a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.x$1" title="String" id="sbt.VersionRange.fromIvyToMavenVersion.plusRange.prefixVersion">prefixVersion</a>, <a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.x$1" title="String" id="sbt.VersionRange.fromIvyToMavenVersion.plusRange.lastVersion">lastVersion</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.s" title="String">s</a> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">+</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;0&quot;</span> <span title="(n: Int)String">*</span> <a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange$default$2" title="Int">shift</a><span class="delimiter">)</span>.<span title="=&gt; String">reverse</span>.<span title="(x$1: String, x$2: Int)Array[String]">split</span><span class="delimiter">(</span><span title="String(&quot;\\.&quot;)" class="string">&quot;\\.&quot;</span>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <span title="(String, String)" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.x$1.<unapply-selector>" title="(x: Array[String])Option[IndexedSeq[String]]">Array</a><span class="delimiter">(</span><span title="String">revLast</span>, <a title="String" id="sbt.VersionRange.fromIvyToMavenVersion.plusRange.x$1.revRest">revRest</a><span class="delimiter">)</span> =&gt;
          <span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.x$1.revRest" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">revRest</a>.<span title="=&gt; String">reverse</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">revLast</span>.<span title="=&gt; String">reverse</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.x$1.<unapply-selector>" title="(x: Array[String])Option[IndexedSeq[String]]">Array</a><span class="delimiter">(</span><span title="String">revLast</span><span class="delimiter">)</span> =&gt; <span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">revLast</span>.<span title="=&gt; String">reverse</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Int" id="sbt.VersionRange.fromIvyToMavenVersion.plusRange.lastVersionInt">lastVersionInt</a> = <a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.lastVersion" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">lastVersion</a>.<span title="=&gt; Int">toInt</span>
      <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;[&quot;)">[$</span><span class="delimiter">{</span><a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.prefixVersion" title="String">prefixVersion</a><span class="delimiter">}</span><span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.lastVersion" title="String">lastVersion</a><span class="delimiter">}</span><span title="String(&quot;,&quot;)">,$</span><span class="delimiter">{</span><a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.prefixVersion" title="String">prefixVersion</a><span class="delimiter">}</span><span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.lastVersionInt" title="Int">lastVersionInt</a> <span title="(x: Int)Int">+</span> <a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange.pow" title="(i: Int)Int">pow</a><span class="delimiter">(</span><a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange$default$2" title="Int">shift</a><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;)&quot;)" class="string">)&quot;</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="sbt.VersionRange.fromIvyToMavenVersion.DotPlusPattern">DotPlusPattern</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;(.+)\.\+&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
    <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="sbt.VersionRange.fromIvyToMavenVersion.DotNumPlusPattern">DotNumPlusPattern</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;(.+)\.(\d+)\+&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
    <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="sbt.VersionRange.fromIvyToMavenVersion.NumPlusPattern">NumPlusPattern</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;(\d+)\+&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
    <span class="keyword">val</span> <a title="Int" id="sbt.VersionRange.fromIvyToMavenVersion.maxDigit">maxDigit</a> = <span title="Int(5)" class="int">5</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#sbt.VersionRange.fromIvyToMavenVersion.revision" title="String">revision</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="String(&quot;+&quot;)" class="string">&quot;+&quot;</span>                           =&gt; <span title="String(&quot;[0,)&quot;)" class="string">&quot;[0,)&quot;</span>
        <span class="keyword">case</span> <a href="#sbt.VersionRange.fromIvyToMavenVersion.DotPlusPattern" title="(target: Any)Option[List[String]]">DotPlusPattern</a><span class="delimiter">(</span><span title="String">base</span><span class="delimiter">)</span>          =&gt; <a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange" title="(s: String, shift: Int)String">plusRange</a><span class="delimiter">(</span><span title="String">base</span><span class="delimiter">)</span>
        <span class="comment">// This is a heuristic.  Maven just doesn't support Ivy's notions of 1+, so</span>
        <span class="comment">// we assume version ranges never go beyond 5 siginificant digits.</span>
        <span class="keyword">case</span> <a href="#sbt.VersionRange.fromIvyToMavenVersion.NumPlusPattern" title="(target: Any)Option[List[String]]">NumPlusPattern</a><span class="delimiter">(</span><span title="String">tail</span><span class="delimiter">)</span>          =&gt; <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(end: Int)scala.collection.immutable.Range">until</span> <a href="#sbt.VersionRange.fromIvyToMavenVersion.maxDigit" title="Int">maxDigit</a><span class="delimiter">)</span>.<span title="(f: Int =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],String,scala.collection.immutable.IndexedSeq[String]])scala.collection.immutable.IndexedSeq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq.Coll,String,scala.collection.immutable.IndexedSeq[String]]" class="delimiter">(</span><a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange" title="(s: String, shift: Int)String">plusRange</a><span class="delimiter">(</span><span title="String">tail</span>, <a href="#sbt.VersionRange.fromIvyToMavenVersion.$anonfun.x$2" title="Int">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="#sbt.VersionRange.fromIvyToMavenVersion.DotNumPlusPattern" title="(target: Any)Option[List[String]]">DotNumPlusPattern</a><span class="delimiter">(</span><span title="String">base</span>, <span title="String">tail</span><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(end: Int)scala.collection.immutable.Range">until</span> <a href="#sbt.VersionRange.fromIvyToMavenVersion.maxDigit" title="Int">maxDigit</a><span class="delimiter">)</span>.<span title="(f: Int =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],String,scala.collection.immutable.IndexedSeq[String]])scala.collection.immutable.IndexedSeq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq.Coll,String,scala.collection.immutable.IndexedSeq[String]]" class="delimiter">(</span><a href="#sbt.VersionRange.fromIvyToMavenVersion.plusRange" title="(s: String, shift: Int)String">plusRange</a><span class="delimiter">(</span><span title="String">base</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span> <span title="String">tail</span>, <a href="#sbt.VersionRange.fromIvyToMavenVersion.$anonfun.x$3" title="Int">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="String">rev</span> <span class="keyword">if</span> <span title="String">rev</span> <span title="(x$1: String)Boolean">endsWith</span> <span title="String(&quot;+&quot;)" class="string">&quot;+&quot;</span>       =&gt; sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;dynamic revision \'&quot;)">dynamic revision '$</span><span title="String">rev</span><span title="String(&quot;\' cannot be translated to POM&quot;)" class="string">' cannot be translated to POM&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="String">rev</span> <span class="keyword">if</span> <a href="#sbt.VersionRange.startSym" title="(elem: Char)Boolean">startSym</a><span class="delimiter">(</span><span title="(index: Int)Char">rev</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#sbt.VersionRange.stopSym" title="(elem: Char)Boolean">stopSym</a><span class="delimiter">(</span><span title="(index: Int)Char">rev</span><span class="delimiter">(</span><span title="String">rev</span>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Char" id="sbt.VersionRange.fromIvyToMavenVersion.start">start</a> = <span title="(index: Int)Char">rev</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Char" id="sbt.VersionRange.fromIvyToMavenVersion.stop">stop</a> = <span title="(index: Int)Char">rev</span><span class="delimiter">(</span><span title="String">rev</span>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="String" id="sbt.VersionRange.fromIvyToMavenVersion.mid">mid</a> = <span title="String">rev</span>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="String">rev</span>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <span class="delimiter">(</span><span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.VersionRange.fromIvyToMavenVersion.start" title="Char">start</a> <span title="(x: Char)Boolean">==</span> <span title="Char(']')" class="char">']'</span><span class="delimiter">)</span> <span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span> <span class="keyword">else</span> <a href="#sbt.VersionRange.fromIvyToMavenVersion.start" title="Char">start</a><span class="delimiter">)</span> <span title="(other: String)String">+</span> <a href="#sbt.VersionRange.fromIvyToMavenVersion.mid" title="String">mid</a> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.VersionRange.fromIvyToMavenVersion.stop" title="Char">stop</a> <span title="(x: Char)Boolean">==</span> <span title="Char('[')" class="char">'['</span><span class="delimiter">)</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span> <span class="keyword">else</span> <a href="#sbt.VersionRange.fromIvyToMavenVersion.stop" title="Char">stop</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt; <a href="#sbt.VersionRange.fromIvyToMavenVersion.revision" title="String">revision</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="NumberFormatException" id="sbt.VersionRange.fromIvyToMavenVersion.e">e</a>: <span title="NumberFormatException">NumberFormatException</span> =&gt;
        <span class="comment">// TODO - if the version doesn't meet our expectations, maybe we just issue a hard</span>
        <span class="comment">//        error instead of softly ignoring the attempt to rewrite.</span>
        <span class="comment">//sys.error(s&quot;Could not fix version [$revision] into maven style version&quot;)</span>
        <a href="#sbt.VersionRange.fromIvyToMavenVersion.revision" title="String">revision</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(version: String)Boolean" id="sbt.VersionRange.hasMavenVersionRange">hasMavenVersionRange</a><span class="delimiter">(</span><a title="String" id="sbt.VersionRange.hasMavenVersionRange.version">version</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.VersionRange.hasMavenVersionRange.version" title="String">version</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">else</span> <a href="#sbt.VersionRange.startSym" title="(elem: Char)Boolean">startSym</a><span class="delimiter">(</span><a href="#sbt.VersionRange.hasMavenVersionRange.version" title="(index: Int)Char">version</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#sbt.VersionRange.stopSym" title="(elem: Char)Boolean">stopSym</a><span class="delimiter">(</span><a href="#sbt.VersionRange.hasMavenVersionRange.version" title="(index: Int)Char">version</a><span class="delimiter">(</span><a href="#sbt.VersionRange.hasMavenVersionRange.version" title="String">version</a>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Set[Char]" id="sbt.VersionRange.startSym">startSym</a> = <span title="(elems: Char*)scala.collection.immutable.Set[Char]">Set</span><span class="delimiter">(</span><span title="Char(']')" class="char">']'</span>, <span title="Char('[')" class="char">'['</span>, <span title="Char('(')" class="char">'('</span><span class="delimiter">)</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Set[Char]" id="sbt.VersionRange.stopSym">stopSym</a> = <span title="(elems: Char*)scala.collection.immutable.Set[Char]">Set</span><span class="delimiter">(</span><span title="Char(']')" class="char">']'</span>, <span title="Char('[')" class="char">'['</span>, <span title="Char(')')" class="char">')'</span><span class="delimiter">)</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="sbt.VersionRange.MavenVersionSetPattern">MavenVersionSetPattern</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;([\]\[\(])([\w\.\-]+)?(,)?([\w\.\-]+)?([\]\[\)])(,.+)?&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
