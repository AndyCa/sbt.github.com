<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/TemplateCommand.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.lang.reflect.InvocationTargetException
<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> xsbti.AppConfiguration
<span class="keyword">import</span> sbt.classpath.ClasspathUtilities
<span class="keyword">import</span> <a href="BasicCommandStrings.scala.html#sbt.BasicCommandStrings" title="sbt.BasicCommandStrings.type">BasicCommandStrings</a>._
<span class="keyword">import</span> <a href="BasicKeys.scala.html#sbt.BasicKeys" title="sbt.BasicKeys.type">BasicKeys</a>._
<span class="keyword">import</span> complete.<span class="delimiter">{</span> Parser, DefaultParsers <span class="delimiter">}</span>
<span class="keyword">import</span> <a href="complete/Parsers.scala.html#sbt.complete.DefaultParsers" title="sbt.complete.DefaultParsers.type">DefaultParsers</a>._
<span class="keyword">import</span> <a href="Command.scala.html#sbt.Command" title="sbt.Command.type">Command</a>.applyEffect
<span class="keyword">import</span> <a href="Path.scala.html#sbt.Path" title="sbt.Path.type">Path</a>._

<span class="keyword">private</span><span class="delimiter">[</span>sbt<span class="delimiter">]</span> <span class="keyword">object</span> <a title="sbt.TemplateCommandUtil.type" id="sbt.TemplateCommandUtil">TemplateCommandUtil</a> <a href="#sbt.TemplateCommandUtil" title="sbt.TemplateCommandUtil.type" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="=&gt; sbt.Command" id="sbt.TemplateCommandUtil.templateCommand">templateCommand</a> = <a href="Command.scala.html#sbt.Command" title="sbt.Command.type">Command</a>.<a href="Command.scala.html#sbt.Command.make(6d641f4cc3)" title="(name: String, briefHelp: (String, String), detail: String)(parser: sbt.State =&gt; sbt.complete.Parser[() =&gt; sbt.State])sbt.Command">make</a><span class="delimiter">(</span><a href="BasicCommandStrings.scala.html#sbt.BasicCommandStrings.TemplateCommand" title="=&gt; String">TemplateCommand</a>, <a href="BasicCommandStrings.scala.html#sbt.BasicCommandStrings.templateBrief" title="=&gt; (String, String)">templateBrief</a>, <a href="BasicCommandStrings.scala.html#sbt.BasicCommandStrings.templateDetailed" title="=&gt; String">templateDetailed</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.templateCommandParser" title="(state: sbt.State)sbt.complete.Parser[() =&gt; sbt.State]">templateCommandParser</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(state: sbt.State)sbt.complete.Parser[() =&gt; sbt.State]" id="sbt.TemplateCommandUtil.templateCommandParser">templateCommandParser</a><span class="delimiter">(</span><a title="sbt.State" id="sbt.TemplateCommandUtil.templateCommandParser.state">state</a>: <a href="State.scala.html#sbt;State" title="sbt.State">State</a><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="sbt.complete.Parser[Seq[String]]" id="sbt.TemplateCommandUtil.templateCommandParser.p">p</a> = <span class="delimiter">(</span><a href="complete/Parser.scala.html#sbt.complete;ParserMain.token(ab0e3a3279)" title="(t: sbt.complete.Parser[Seq[Char]])sbt.complete.Parser[Seq[Char]]">token</a><a href="complete/Parser.scala.html#sbt.complete;ParserMain.richParser" title="(a: sbt.complete.Parser[Seq[Char]])sbt.complete.RichParser[Seq[Char]]" class="delimiter">(</a><a href="complete/Parsers.scala.html#sbt.complete;Parsers.Space" title="=&gt; sbt.complete.Parser[Seq[Char]]">Space</a><span class="delimiter">)</span> <a href="complete/Parser.scala.html#sbt.complete;ParserMain.richParser" title="(a: sbt.complete.Parser[Seq[String]])sbt.complete.RichParser[Seq[String]]">~&gt;</a> <a href="complete/Parsers.scala.html#sbt.complete;Parsers.repsep" title="(rep: sbt.complete.Parser[String], sep: sbt.complete.Parser[_])sbt.complete.Parser[Seq[String]]">repsep</a><span class="delimiter">(</span><a href="complete/Parsers.scala.html#sbt.complete;Parsers.StringBasic" title="=&gt; sbt.complete.Parser[String]">StringBasic</a>, <a href="complete/Parser.scala.html#sbt.complete;ParserMain.token(ab0e3a3279)" title="(t: sbt.complete.Parser[Seq[Char]])sbt.complete.Parser[Seq[Char]]">token</a><span class="delimiter">(</span><a href="complete/Parsers.scala.html#sbt.complete;Parsers.Space" title="=&gt; sbt.complete.Parser[Seq[Char]]">Space</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="complete/Parser.scala.html#sbt.complete;RichParser.|" title="(b: sbt.complete.Parser[Seq[String]])sbt.complete.Parser[Seq[String]]">|</a> <span class="delimiter">(</span><a href="complete/Parser.scala.html#sbt.complete;ParserMain.token(ab0e3a3279)" title="(t: sbt.complete.Parser[Unit])sbt.complete.Parser[Unit]">token</a><a href="complete/Parser.scala.html#sbt.complete;ParserMain.richParser" title="(a: sbt.complete.Parser[Unit])sbt.complete.RichParser[Unit]" class="delimiter">(</a><a href="complete/Parsers.scala.html#sbt.complete;Parsers.EOF" title="=&gt; sbt.complete.Parser[Unit]">EOF</a><span class="delimiter">)</span> <a href="complete/Parser.scala.html#sbt.complete;RichParser.map" title="(f: Unit =&gt; scala.collection.immutable.Nil.type)sbt.complete.Parser[scala.collection.immutable.Nil.type]">map</a> <a href="#sbt.TemplateCommandUtil.templateCommandParser.p.$anonfun.x0$1" title="scala.collection.immutable.Nil.type" class="delimiter">{</a> <span class="keyword">case</span> _ =&gt; <span title="scala.collection.immutable.Nil.type">Nil</span> <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[sbt.TemplateResolverInfo]" id="sbt.TemplateCommandUtil.templateCommandParser.infos">infos</a> = <span class="delimiter">(</span><a href="State.scala.html#sbt.State.stateOps" title="implicit sbt.State.stateOps : (s: sbt.State)sbt.StateOps">state</a> <a href="State.scala.html#sbt;StateOps.get" title="(key: sbt.AttributeKey[Seq[sbt.TemplateResolverInfo]])Option[Seq[sbt.TemplateResolverInfo]]">get</a> <a href="BasicKeys.scala.html#sbt.BasicKeys.templateResolverInfos" title="=&gt; sbt.AttributeKey[Seq[sbt.TemplateResolverInfo]]">templateResolverInfos</a><span class="delimiter">)</span> <span title="List[sbt.TemplateResolverInfo]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="Seq[sbt.TemplateResolverInfo]" id="sbt.TemplateCommandUtil.templateCommandParser.infos.infos">infos</a><span class="delimiter">)</span> =&gt; <a href="#sbt.TemplateCommandUtil.templateCommandParser.infos.infos" title="Seq[sbt.TemplateResolverInfo]">infos</a>.<span title="=&gt; List[sbt.TemplateResolverInfo]">toList</span>
        <span class="keyword">case</span> <span title="None.type">None</span>        =&gt; <span title="scala.collection.immutable.Nil.type">Nil</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="sbt.Logger" id="sbt.TemplateCommandUtil.templateCommandParser.log">log</a> = <a href="#sbt.TemplateCommandUtil.templateCommandParser.state" title="sbt.State">state</a>.<a href="State.scala.html#sbt;State.globalLogging" title="=&gt; sbt.GlobalLogging">globalLogging</a>.<a href="GlobalLogging.scala.html#sbt;GlobalLogging.full" title="=&gt; sbt.Logger">full</a>
      <span class="keyword">val</span> <a title="sbt.Extracted" id="sbt.TemplateCommandUtil.templateCommandParser.extracted">extracted</a> = <span class="delimiter">(</span><a href="Project.scala.html#sbt.Project" title="sbt.Project.type">Project</a> <a href="Project.scala.html#sbt.Project.extract(33e0807153)" title="(state: sbt.State)sbt.Extracted">extract</a> <a href="#sbt.TemplateCommandUtil.templateCommandParser.state" title="sbt.State">state</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="#sbt.TemplateCommandUtil.templateCommandParser.s2" title="(sbt.State, sbt.IvyConfiguration)" class="delimiter">(</a><a href="#sbt.TemplateCommandUtil.templateCommandParser.x$1" title="sbt.State" id="sbt.TemplateCommandUtil.templateCommandParser.s2">s2</a>, <a href="#sbt.TemplateCommandUtil.templateCommandParser.x$1" title="sbt.IvyConfiguration" id="sbt.TemplateCommandUtil.templateCommandParser.ivyConf">ivyConf</a><span class="delimiter">)</span> = <a href="#sbt.TemplateCommandUtil.templateCommandParser.extracted" title="sbt.Extracted">extracted</a>.<a href="Extracted.scala.html#sbt;Extracted.runTask" title="(key: sbt.TaskKey[sbt.IvyConfiguration], state: sbt.State)(sbt.State, sbt.IvyConfiguration)">runTask</a><span title="(sbt.State, sbt.IvyConfiguration) @unchecked" class="delimiter">(</span><a href="Keys.scala.html#sbt.Keys" title="sbt.Keys.type">Keys</a>.<a href="Keys.scala.html#sbt.Keys.ivyConfiguration" title="=&gt; sbt.TaskKey[sbt.IvyConfiguration]">ivyConfiguration</a>, <a href="#sbt.TemplateCommandUtil.templateCommandParser.state" title="sbt.State">state</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.io.File" id="sbt.TemplateCommandUtil.templateCommandParser.globalBase">globalBase</a> = <a href="BuildPaths.scala.html#sbt.BuildPaths" title="sbt.BuildPaths.type">BuildPaths</a>.<a href="BuildPaths.scala.html#sbt.BuildPaths.getGlobalBase" title="(state: sbt.State)java.io.File">getGlobalBase</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.templateCommandParser.state" title="sbt.State">state</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Option[sbt.IvyScala]" id="sbt.TemplateCommandUtil.templateCommandParser.ivyScala">ivyScala</a> = <a href="#sbt.TemplateCommandUtil.templateCommandParser.extracted" title="sbt.Extracted">extracted</a>.<a href="Extracted.scala.html#sbt;Extracted.get(f02729f5b3)" title="(key: sbt.SettingKey[Option[sbt.IvyScala]])Option[sbt.IvyScala]">get</a><span class="delimiter">(</span><a href="Keys.scala.html#sbt.Keys" title="sbt.Keys.type">Keys</a>.<a href="Keys.scala.html#sbt.Keys.ivyScala" title="=&gt; sbt.SettingKey[Option[sbt.IvyScala]]">ivyScala</a> <a href="Structure.scala.html#sbt.Scoped;ScopingSetting.in(315a1cd030)" title="(t: sbt.Scoped)sbt.SettingKey[Option[sbt.IvyScala]]">in</a> <a href="Keys.scala.html#sbt.Keys" title="sbt.Keys.type">Keys</a>.<a href="Keys.scala.html#sbt.Keys.updateSbtClassifiers" title="=&gt; sbt.TaskKey[sbt.UpdateReport]">updateSbtClassifiers</a><span class="delimiter">)</span>
      <a href="Command.scala.html#sbt.Command.applyEffect(c40be35f50)" title="(p: sbt.complete.Parser[Seq[String]])(f: Seq[String] =&gt; sbt.State)sbt.complete.Parser[() =&gt; sbt.State]">applyEffect</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.templateCommandParser.p" title="sbt.complete.Parser[Seq[String]]">p</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">{</span> <a title="Seq[String]" id="sbt.TemplateCommandUtil.templateCommandParser.$anonfun.inputArg">inputArg</a> =&gt;
        <span class="keyword">val</span> <a title="List[String]" id="sbt.TemplateCommandUtil.templateCommandParser.$anonfun.arguments">arguments</a> = <a href="#sbt.TemplateCommandUtil.templateCommandParser.$anonfun.inputArg" title="Seq[String]">inputArg</a>.<span title="=&gt; List[String]">toList</span> <span title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">++</span>
          <span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.templateCommandParser.state" title="sbt.State">state</a>.<a href="State.scala.html#sbt;State.remainingCommands" title="=&gt; Seq[String]">remainingCommands</a>.<span title="=&gt; List[String]">toList</span> <span title="List[String]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="String(&quot;shell&quot;)" class="string">&quot;shell&quot;</span> :: <span title="scala.collection.immutable.Nil.type">Nil</span> =&gt; <span title="scala.collection.immutable.Nil.type">Nil</span>
            <span class="keyword">case</span> <a title="List[String]" id="sbt.TemplateCommandUtil.templateCommandParser.$anonfun.arguments.xs">xs</a>             =&gt; <a href="#sbt.TemplateCommandUtil.templateCommandParser.$anonfun.arguments.xs" title="List[String]">xs</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <a href="#sbt.TemplateCommandUtil.run" title="(infos: List[sbt.TemplateResolverInfo], arguments: List[String], config: xsbti.AppConfiguration, ivyConf: sbt.IvyConfiguration, globalBase: java.io.File, ivyScala: Option[sbt.IvyScala], log: sbt.Logger)Unit">run</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.templateCommandParser.infos" title="List[sbt.TemplateResolverInfo]">infos</a>, <a href="#sbt.TemplateCommandUtil.templateCommandParser.$anonfun.arguments" title="List[String]">arguments</a>, <a href="#sbt.TemplateCommandUtil.templateCommandParser.state" title="sbt.State">state</a>.<a href="State.scala.html#sbt;State.configuration" title="=&gt; xsbti.AppConfiguration">configuration</a>, <a href="#sbt.TemplateCommandUtil.templateCommandParser.ivyConf" title="sbt.IvyConfiguration">ivyConf</a>, <a href="#sbt.TemplateCommandUtil.templateCommandParser.globalBase" title="java.io.File">globalBase</a>, <a href="#sbt.TemplateCommandUtil.templateCommandParser.ivyScala" title="Option[sbt.IvyScala]">ivyScala</a>, <a href="#sbt.TemplateCommandUtil.templateCommandParser.log" title="sbt.Logger">log</a><span class="delimiter">)</span>
        <span title="String(&quot;exit&quot;)" class="string">&quot;exit&quot;</span> <a href="State.scala.html#sbt;StateOps.::" title="(command: String)sbt.State">::</a> <a href="#sbt.TemplateCommandUtil.templateCommandParser.s2" title="sbt.State">s2</a>.<a href="State.scala.html#sbt;State.copy$default$1" title="xsbti.AppConfiguration" id="sbt.TemplateCommandUtil.templateCommandParser.$anonfun.x$12">copy</a><a href="State.scala.html#sbt.State.stateOps" title="implicit sbt.State.stateOps : (s: sbt.State)sbt.StateOps" class="delimiter">(</a>remainingCommands = <a title="scala.collection.immutable.Nil.type" id="sbt.TemplateCommandUtil.templateCommandParser.$anonfun.x$4">Nil</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(infos: List[sbt.TemplateResolverInfo], arguments: List[String], config: xsbti.AppConfiguration, ivyConf: sbt.IvyConfiguration, globalBase: java.io.File, ivyScala: Option[sbt.IvyScala], log: sbt.Logger)Unit" id="sbt.TemplateCommandUtil.run">run</a><span class="delimiter">(</span><a title="List[sbt.TemplateResolverInfo]" id="sbt.TemplateCommandUtil.run.infos">infos</a>: <span title="List[sbt.TemplateResolverInfo]">List</span><span class="delimiter">[</span>TemplateResolverInfo<span class="delimiter">]</span>, <a title="List[String]" id="sbt.TemplateCommandUtil.run.arguments">arguments</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="xsbti.AppConfiguration" id="sbt.TemplateCommandUtil.run.config">config</a>: <span title="xsbti.AppConfiguration">AppConfiguration</span>,
    <a title="sbt.IvyConfiguration" id="sbt.TemplateCommandUtil.run.ivyConf">ivyConf</a>: <a href="IvyConfigurations.scala.html#sbt;IvyConfiguration" title="sbt.IvyConfiguration">IvyConfiguration</a>, <a title="java.io.File" id="sbt.TemplateCommandUtil.run.globalBase">globalBase</a>: <span title="java.io.File">File</span>, <a title="Option[sbt.IvyScala]" id="sbt.TemplateCommandUtil.run.ivyScala">ivyScala</a>: <span title="Option[sbt.IvyScala]">Option</span><span class="delimiter">[</span>IvyScala<span class="delimiter">]</span>, <a title="sbt.Logger" id="sbt.TemplateCommandUtil.run.log">log</a>: <a href="Logger.scala.html#sbt;Logger" title="sbt.Logger">Logger</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.TemplateCommandUtil.run.infos" title="List[sbt.TemplateResolverInfo]">infos</a> <span title="(p: sbt.TemplateResolverInfo =&gt; Boolean)Option[sbt.TemplateResolverInfo]">find</span> <span class="delimiter">{</span> <a title="sbt.TemplateResolverInfo" id="sbt.TemplateCommandUtil.run.$anonfun.info">info</a> =&gt;
      <span class="keyword">val</span> <a title="ClassLoader" id="sbt.TemplateCommandUtil.run.$anonfun.loader">loader</a> = <a href="#sbt.TemplateCommandUtil.infoLoader" title="(info: sbt.TemplateResolverInfo, config: xsbti.AppConfiguration, ivyConf: sbt.IvyConfiguration, globalBase: java.io.File, ivyScala: Option[sbt.IvyScala], log: sbt.Logger)ClassLoader">infoLoader</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.run.$anonfun.info" title="sbt.TemplateResolverInfo">info</a>, <a href="#sbt.TemplateCommandUtil.run.config" title="xsbti.AppConfiguration">config</a>, <a href="#sbt.TemplateCommandUtil.run.ivyConf" title="sbt.IvyConfiguration">ivyConf</a>, <a href="#sbt.TemplateCommandUtil.run.globalBase" title="java.io.File">globalBase</a>, <a href="#sbt.TemplateCommandUtil.run.ivyScala" title="Option[sbt.IvyScala]">ivyScala</a>, <a href="#sbt.TemplateCommandUtil.run.log" title="sbt.Logger">log</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="sbt.TemplateCommandUtil.run.$anonfun.hit">hit</a> = <a href="#sbt.TemplateCommandUtil.tryTemplate" title="(info: sbt.TemplateResolverInfo, arguments: List[String], loader: ClassLoader)Boolean">tryTemplate</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.run.$anonfun.info" title="sbt.TemplateResolverInfo">info</a>, <a href="#sbt.TemplateCommandUtil.run.arguments" title="List[String]">arguments</a>, <a href="#sbt.TemplateCommandUtil.run.$anonfun.loader" title="ClassLoader">loader</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.run.$anonfun.hit" title="Boolean">hit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#sbt.TemplateCommandUtil.runTemplate" title="(info: sbt.TemplateResolverInfo, arguments: List[String], loader: ClassLoader)Unit">runTemplate</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.run.$anonfun.info" title="sbt.TemplateResolverInfo">info</a>, <a href="#sbt.TemplateCommandUtil.run.arguments" title="List[String]">arguments</a>, <a href="#sbt.TemplateCommandUtil.run.$anonfun.loader" title="ClassLoader">loader</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#sbt.TemplateCommandUtil.run.$anonfun.hit" title="Boolean">hit</a>
    <span class="delimiter">}</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span class="comment">// do nothing</span>
      <span class="keyword">case</span> <span title="None.type">None</span>    =&gt; <span title="System.type">System</span>.<span title="java.io.PrintStream">err</span>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Template not found for: &quot;)" class="string">&quot;Template not found for: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.TemplateCommandUtil.run.arguments" title="List[String]">arguments</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info: sbt.TemplateResolverInfo, arguments: List[String], loader: ClassLoader)Boolean" id="sbt.TemplateCommandUtil.tryTemplate">tryTemplate</a><span class="delimiter">(</span><a title="sbt.TemplateResolverInfo" id="sbt.TemplateCommandUtil.tryTemplate.info">info</a>: <a href="State.scala.html#sbt;TemplateResolverInfo" title="sbt.TemplateResolverInfo">TemplateResolverInfo</a>, <a title="List[String]" id="sbt.TemplateCommandUtil.tryTemplate.arguments">arguments</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="ClassLoader" id="sbt.TemplateCommandUtil.tryTemplate.loader">loader</a>: <span title="ClassLoader">ClassLoader</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="AnyRef" id="sbt.TemplateCommandUtil.tryTemplate.resultObj">resultObj</a> = <a href="#sbt.TemplateCommandUtil.call" title="(interfaceClassName: String, methodName: String, loader: ClassLoader)(argTypes: Class[_]*)(args: AnyRef*)AnyRef">call</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.tryTemplate.info" title="sbt.TemplateResolverInfo">info</a>.<a href="State.scala.html#sbt;TemplateResolverInfo.implementationClass" title="=&gt; String">implementationClass</a>, <span title="String(&quot;isDefined&quot;)" class="string">&quot;isDefined&quot;</span>, <a href="#sbt.TemplateCommandUtil.tryTemplate.loader" title="ClassLoader">loader</a><span class="delimiter">)</span><span class="delimiter">(</span>
        classOf<span title="Class[Array[String]](classOf[[Ljava.lang.String;])" class="delimiter">[</span>Array<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.tryTemplate.arguments" title="List[String]">arguments</a>.<span title="(implicit evidence$1: scala.reflect.ClassTag[String])Array[String]">toArray</span><span class="delimiter">)</span>
      <a href="#sbt.TemplateCommandUtil.tryTemplate.resultObj" title="AnyRef">resultObj</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Boolean">Boolean</span><span class="delimiter">]</span>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info: sbt.TemplateResolverInfo, arguments: List[String], loader: ClassLoader)Unit" id="sbt.TemplateCommandUtil.runTemplate">runTemplate</a><span class="delimiter">(</span><a title="sbt.TemplateResolverInfo" id="sbt.TemplateCommandUtil.runTemplate.info">info</a>: <a href="State.scala.html#sbt;TemplateResolverInfo" title="sbt.TemplateResolverInfo">TemplateResolverInfo</a>, <a title="List[String]" id="sbt.TemplateCommandUtil.runTemplate.arguments">arguments</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="ClassLoader" id="sbt.TemplateCommandUtil.runTemplate.loader">loader</a>: <span title="ClassLoader">ClassLoader</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.TemplateCommandUtil.call" title="(interfaceClassName: String, methodName: String, loader: ClassLoader)(argTypes: Class[_]*)(args: AnyRef*)AnyRef">call</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.runTemplate.info" title="sbt.TemplateResolverInfo">info</a>.<a href="State.scala.html#sbt;TemplateResolverInfo.implementationClass" title="=&gt; String">implementationClass</a>, <span title="String(&quot;run&quot;)" class="string">&quot;run&quot;</span>, <a href="#sbt.TemplateCommandUtil.runTemplate.loader" title="ClassLoader">loader</a><span class="delimiter">)</span><span class="delimiter">(</span>classOf<span title="Class[Array[String]](classOf[[Ljava.lang.String;])" class="delimiter">[</span>Array<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span title="Unit" class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.runTemplate.arguments" title="List[String]">arguments</a>.<span title="(implicit evidence$1: scala.reflect.ClassTag[String])Array[String]">toArray</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info: sbt.TemplateResolverInfo, config: xsbti.AppConfiguration, ivyConf: sbt.IvyConfiguration, globalBase: java.io.File, ivyScala: Option[sbt.IvyScala], log: sbt.Logger)ClassLoader" id="sbt.TemplateCommandUtil.infoLoader">infoLoader</a><span class="delimiter">(</span><a title="sbt.TemplateResolverInfo" id="sbt.TemplateCommandUtil.infoLoader.info">info</a>: <a href="State.scala.html#sbt;TemplateResolverInfo" title="sbt.TemplateResolverInfo">TemplateResolverInfo</a>, <a title="xsbti.AppConfiguration" id="sbt.TemplateCommandUtil.infoLoader.config">config</a>: <span title="xsbti.AppConfiguration">AppConfiguration</span>,
    <a title="sbt.IvyConfiguration" id="sbt.TemplateCommandUtil.infoLoader.ivyConf">ivyConf</a>: <a href="IvyConfigurations.scala.html#sbt;IvyConfiguration" title="sbt.IvyConfiguration">IvyConfiguration</a>, <a title="java.io.File" id="sbt.TemplateCommandUtil.infoLoader.globalBase">globalBase</a>: <span title="java.io.File">File</span>, <a title="Option[sbt.IvyScala]" id="sbt.TemplateCommandUtil.infoLoader.ivyScala">ivyScala</a>: <span title="Option[sbt.IvyScala]">Option</span><span class="delimiter">[</span>IvyScala<span class="delimiter">]</span>, <a title="sbt.Logger" id="sbt.TemplateCommandUtil.infoLoader.log">log</a>: <a href="Logger.scala.html#sbt;Logger" title="sbt.Logger">Logger</a><span class="delimiter">)</span>: <span title="ClassLoader">ClassLoader</span> =
    <a href="classpath/ClasspathUtilities.scala.html#sbt.classpath.ClasspathUtilities" title="sbt.classpath.ClasspathUtilities.type">ClasspathUtilities</a>.<a href="classpath/ClasspathUtilities.scala.html#sbt.classpath.ClasspathUtilities.toLoader(2d36b85e4c)" title="(paths: Seq[java.io.File], parent: ClassLoader)ClassLoader">toLoader</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.classpathForInfo" title="(info: sbt.TemplateResolverInfo, ivyConf: sbt.IvyConfiguration, globalBase: java.io.File, ivyScala: Option[sbt.IvyScala], log: sbt.Logger)List[java.io.File]">classpathForInfo</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.infoLoader.info" title="sbt.TemplateResolverInfo">info</a>, <a href="#sbt.TemplateCommandUtil.infoLoader.ivyConf" title="sbt.IvyConfiguration">ivyConf</a>, <a href="#sbt.TemplateCommandUtil.infoLoader.globalBase" title="java.io.File">globalBase</a>, <a href="#sbt.TemplateCommandUtil.infoLoader.ivyScala" title="Option[sbt.IvyScala]">ivyScala</a>, <a href="#sbt.TemplateCommandUtil.infoLoader.log" title="sbt.Logger">log</a><span class="delimiter">)</span>, <a href="#sbt.TemplateCommandUtil.infoLoader.config" title="xsbti.AppConfiguration">config</a>.<span title="()xsbti.AppProvider">provider</span>.<span title="()ClassLoader">loader</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(interfaceClassName: String, methodName: String, loader: ClassLoader)(argTypes: Class[_]*)(args: AnyRef*)AnyRef" id="sbt.TemplateCommandUtil.call">call</a><span class="delimiter">(</span><a title="String" id="sbt.TemplateCommandUtil.call.interfaceClassName">interfaceClassName</a>: <span title="String">String</span>, <a title="String" id="sbt.TemplateCommandUtil.call.methodName">methodName</a>: <span title="String">String</span>, <a title="ClassLoader" id="sbt.TemplateCommandUtil.call.loader">loader</a>: <span title="ClassLoader">ClassLoader</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Class[_]*" id="sbt.TemplateCommandUtil.call.argTypes">argTypes</a>: <span title="Class[_]*">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="AnyRef*" id="sbt.TemplateCommandUtil.call.args">args</a>: <span title="AnyRef*">AnyRef</span>*<span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Class[_]" id="sbt.TemplateCommandUtil.call.interfaceClass">interfaceClass</a> = <a href="#sbt.TemplateCommandUtil.getInterfaceClass" title="(name: String, loader: ClassLoader)Class[_]">getInterfaceClass</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.call.interfaceClassName" title="String">interfaceClassName</a>, <a href="#sbt.TemplateCommandUtil.call.loader" title="ClassLoader">loader</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="AnyRef" id="sbt.TemplateCommandUtil.call.interface">interface</a> = <a href="#sbt.TemplateCommandUtil.call.interfaceClass" title="Class[_]">interfaceClass</a>.<span title="()?0">newInstance</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>
      <span class="keyword">val</span> <a title="java.lang.reflect.Method" id="sbt.TemplateCommandUtil.call.method">method</a> = <a href="#sbt.TemplateCommandUtil.call.interfaceClass" title="Class[_]">interfaceClass</a>.<span title="(x$1: String, x$2: &lt;repeated...&gt;[Class[_]])java.lang.reflect.Method">getMethod</span><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.call.methodName" title="String">methodName</a>, <a href="#sbt.TemplateCommandUtil.call.argTypes" title="Class[_]*">argTypes</a>: _*<span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#sbt.TemplateCommandUtil.call.method" title="java.lang.reflect.Method">method</a>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[Object])Object">invoke</span><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.call.interface" title="AnyRef">interface</a>, <a href="#sbt.TemplateCommandUtil.call.args" title="AnyRef*">args</a>: _*<span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="java.lang.reflect.InvocationTargetException" id="sbt.TemplateCommandUtil.call.e">e</a>: <span title="java.lang.reflect.InvocationTargetException">InvocationTargetException</span> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#sbt.TemplateCommandUtil.call.e" title="java.lang.reflect.InvocationTargetException">e</a>.<span title="()Throwable">getCause</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String, loader: ClassLoader)Class[_]" id="sbt.TemplateCommandUtil.getInterfaceClass">getInterfaceClass</a><span class="delimiter">(</span><a title="String" id="sbt.TemplateCommandUtil.getInterfaceClass.name">name</a>: <span title="String">String</span>, <a title="ClassLoader" id="sbt.TemplateCommandUtil.getInterfaceClass.loader">loader</a>: <span title="ClassLoader">ClassLoader</span><span class="delimiter">)</span> = <span title="Class.type">Class</span>.<span title="(x$1: String, x$2: Boolean, x$3: ClassLoader)Class[_]">forName</span><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.getInterfaceClass.name" title="String">name</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#sbt.TemplateCommandUtil.getInterfaceClass.loader" title="ClassLoader">loader</a><span class="delimiter">)</span>

  <span class="comment">// Cache files under ~/.sbt/0.13/templates/org_name_version</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info: sbt.TemplateResolverInfo, ivyConf: sbt.IvyConfiguration, globalBase: java.io.File, ivyScala: Option[sbt.IvyScala], log: sbt.Logger)List[java.io.File]" id="sbt.TemplateCommandUtil.classpathForInfo">classpathForInfo</a><span class="delimiter">(</span><a title="sbt.TemplateResolverInfo" id="sbt.TemplateCommandUtil.classpathForInfo.info">info</a>: <a href="State.scala.html#sbt;TemplateResolverInfo" title="sbt.TemplateResolverInfo">TemplateResolverInfo</a>, <a title="sbt.IvyConfiguration" id="sbt.TemplateCommandUtil.classpathForInfo.ivyConf">ivyConf</a>: <a href="IvyConfigurations.scala.html#sbt;IvyConfiguration" title="sbt.IvyConfiguration">IvyConfiguration</a>, <a title="java.io.File" id="sbt.TemplateCommandUtil.classpathForInfo.globalBase">globalBase</a>: <span title="java.io.File">File</span>, <a title="Option[sbt.IvyScala]" id="sbt.TemplateCommandUtil.classpathForInfo.ivyScala">ivyScala</a>: <span title="Option[sbt.IvyScala]">Option</span><span class="delimiter">[</span>IvyScala<span class="delimiter">]</span>, <a title="sbt.Logger" id="sbt.TemplateCommandUtil.classpathForInfo.log">log</a>: <a href="Logger.scala.html#sbt;Logger" title="sbt.Logger">Logger</a><span class="delimiter">)</span>: <span title="List[java.io.File]">List</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="sbt.UpdateUtil" id="sbt.TemplateCommandUtil.classpathForInfo.updateUtil">updateUtil</a> = <span title="sbt.UpdateUtil" class="keyword">new</span> <a href="UpdateUtil.scala.html#sbt;UpdateUtil" title="sbt.UpdateUtil">UpdateUtil</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.classpathForInfo.ivyConf" title="sbt.IvyConfiguration">ivyConf</a>, <a href="#sbt.TemplateCommandUtil.classpathForInfo.log" title="sbt.Logger">log</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.io.File" id="sbt.TemplateCommandUtil.classpathForInfo.templatesBaseDirectory">templatesBaseDirectory</a> = <span title="(x$1: java.io.File, x$2: String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.classpathForInfo.globalBase" title="java.io.File">globalBase</a>, <span title="String(&quot;templates&quot;)" class="string">&quot;templates&quot;</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="String" id="sbt.TemplateCommandUtil.classpathForInfo.templateId">templateId</a> = <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#sbt.TemplateCommandUtil.classpathForInfo.info" title="sbt.TemplateResolverInfo">info</a>.<a href="State.scala.html#sbt;TemplateResolverInfo.module" title="=&gt; sbt.ModuleID">module</a>.<a href="ModuleID.scala.html#sbt;ModuleID.organization" title="=&gt; String">organization</a><span class="delimiter">}</span><span title="String(&quot;_&quot;)">_$</span><span class="delimiter">{</span><a href="#sbt.TemplateCommandUtil.classpathForInfo.info" title="sbt.TemplateResolverInfo">info</a>.<a href="State.scala.html#sbt;TemplateResolverInfo.module" title="=&gt; sbt.ModuleID">module</a>.<a href="ModuleID.scala.html#sbt;ModuleID.name" title="=&gt; String">name</a><span class="delimiter">}</span><span title="String(&quot;_&quot;)">_$</span><span class="delimiter">{</span><a href="#sbt.TemplateCommandUtil.classpathForInfo.info" title="sbt.TemplateResolverInfo">info</a>.<a href="State.scala.html#sbt;TemplateResolverInfo.module" title="=&gt; sbt.ModuleID">module</a>.<a href="ModuleID.scala.html#sbt;ModuleID.revision" title="=&gt; String">revision</a><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span>
      <span class="keyword">val</span> <a title="java.io.File" id="sbt.TemplateCommandUtil.classpathForInfo.templateDirectory">templateDirectory</a> = <span title="(x$1: java.io.File, x$2: String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.classpathForInfo.templatesBaseDirectory" title="java.io.File">templatesBaseDirectory</a>, <a href="#sbt.TemplateCommandUtil.classpathForInfo.templateId" title="String">templateId</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Seq[java.io.File]" id="sbt.TemplateCommandUtil.classpathForInfo.jars">jars</a> = <span class="delimiter">(</span><a href="Path.scala.html#sbt;PathLow.singleFileFinder" title="implicit sbt.PathLow.singleFileFinder : (file: java.io.File)sbt.PathFinder">templateDirectory</a> <a href="Path.scala.html#sbt;PathFinder.**" title="(filter: sbt.FileFilter)sbt.PathFinder">**</a> <a href="NameFilter.scala.html#sbt;FileFilter.unary_-" title="=&gt; sbt.FileFilter">-</a><a href="NameFilter.scala.html#sbt.DirectoryFilter" title="sbt.DirectoryFilter.type">DirectoryFilter</a><span class="delimiter">)</span>.<a href="Path.scala.html#sbt;PathFinder.get" title="=&gt; Seq[java.io.File]">get</a>
      <span title="List[java.io.File]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.classpathForInfo.info" title="sbt.TemplateResolverInfo">info</a>.<a href="State.scala.html#sbt;TemplateResolverInfo.module" title="=&gt; sbt.ModuleID">module</a>.<a href="ModuleID.scala.html#sbt;ModuleID.revision" title="=&gt; String">revision</a> <span title="(x$1: String)Boolean">endsWith</span> <span title="String(&quot;-SNAPSHOT&quot;)" class="string">&quot;-SNAPSHOT&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#sbt.TemplateCommandUtil.classpathForInfo.jars" title="=&gt; Seq[java.io.File]">jars</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#sbt.TemplateCommandUtil.classpathForInfo.jars" title="=&gt; Seq[java.io.File]">jars</a>.<span title="=&gt; List[java.io.File]">toList</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="IO.scala.html#sbt.IO" title="sbt.IO.type">IO</a>.<a href="IO.scala.html#sbt.IO.createDirectory" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.classpathForInfo.templateDirectory" title="java.io.File">templateDirectory</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="updateUtil.ivySbt.Module" id="sbt.TemplateCommandUtil.classpathForInfo.m">m</a> = <a href="#sbt.TemplateCommandUtil.classpathForInfo.updateUtil" title="sbt.UpdateUtil">updateUtil</a>.<a href="UpdateUtil.scala.html#sbt;UpdateUtil.getModule(000b85b411)" title="(moduleId: sbt.ModuleID, ivyScala: Option[sbt.IvyScala])updateUtil.ivySbt.Module">getModule</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.classpathForInfo.info" title="sbt.TemplateResolverInfo">info</a>.<a href="State.scala.html#sbt;TemplateResolverInfo.module" title="=&gt; sbt.ModuleID">module</a>.<a href="ModuleID.scala.html#sbt;ModuleID.copy$default$1" title="String" id="sbt.TemplateCommandUtil.classpathForInfo.m.x$23">copy</a><span class="delimiter">(</span>configurations = <span title="(x: String)Some[String]">Some</span><a title="Some[String] @scala.reflect.internal.annotations.uncheckedBounds" id="sbt.TemplateCommandUtil.classpathForInfo.m.x$13" class="delimiter">(</a><span title="String(&quot;component&quot;)" class="string">&quot;component&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#sbt.TemplateCommandUtil.classpathForInfo.ivyScala" title="Option[sbt.IvyScala]">ivyScala</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[java.io.File]" id="sbt.TemplateCommandUtil.classpathForInfo.xs">xs</a> = <a href="#sbt.TemplateCommandUtil.classpathForInfo.updateUtil" title="sbt.UpdateUtil">updateUtil</a>.<a href="UpdateUtil.scala.html#sbt;UpdateUtil.update" title="(module: updateUtil.ivySbt.Module, retrieveDirectory: java.io.File)(predicate: java.io.File =&gt; Boolean)Option[Seq[java.io.File]]">update</a><span class="delimiter">(</span><a href="#sbt.TemplateCommandUtil.classpathForInfo.m" title="updateUtil.ivySbt.Module">m</a>, <a href="#sbt.TemplateCommandUtil.classpathForInfo.templateDirectory" title="java.io.File">templateDirectory</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.File" id="sbt.TemplateCommandUtil.classpathForInfo.xs.$anonfun.x$3">_</a> =&gt; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>.<span title="=&gt; List[Seq[java.io.File]]">toList</span>.<span title="(implicit asTraversable: Seq[java.io.File] =&gt; scala.collection.GenTraversableOnce[java.io.File])List[java.io.File]">flatten</span>
        <a href="#sbt.TemplateCommandUtil.classpathForInfo.xs" title="List[java.io.File]">xs</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
