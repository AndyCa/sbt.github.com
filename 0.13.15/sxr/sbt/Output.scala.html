<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/Output.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2011 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.util.regex.Pattern
<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> <a href="Keys.scala.html#sbt.Keys" title="sbt.Keys.type">Keys</a>.<span class="delimiter">{</span> Streams, TaskStreams <span class="delimiter">}</span>
<span class="keyword">import</span> <a href="Def.scala.html#sbt.Def" title="sbt.Def.type">Def</a>.ScopedKey
<span class="keyword">import</span> <a href="Aggregation.scala.html#sbt.Aggregation" title="sbt.Aggregation.type">Aggregation</a>.<span class="delimiter">{</span> KeyValue, Values <span class="delimiter">}</span>
<span class="keyword">import</span> <a href="Types.scala.html#sbt.Types" title="sbt.Types.type">Types</a>.idFun
<span class="keyword">import</span> <a href="Highlight.scala.html#sbt.Highlight" title="sbt.Highlight.type">Highlight</a>.<span class="delimiter">{</span> bold, showMatches <span class="delimiter">}</span>
<span class="keyword">import</span> annotation.tailrec

<span class="keyword">object</span> <a title="sbt.Output.type" id="sbt.Output">Output</a> <a href="#sbt.Output" title="sbt.Output.type" class="delimiter">{</a>
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="String(&quot;&gt; &quot;)" id="sbt.Output.DefaultTail">DefaultTail</a> = <span title="String(&quot;&gt; &quot;)" class="string">&quot;&gt; &quot;</span>

  @deprecated<span class="delimiter">(</span><span class="string">&quot;Explicitly provide None for the stream ID.&quot;</span>, <span class="string">&quot;0.13.0&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(keys: sbt.Aggregation.Values[_], streams: sbt.Keys.Streams, printLines: Seq[String] =&gt; Unit)(implicit display: sbt.Show[sbt.Def.ScopedKey[_]])Unit" id="sbt.Output.last(02a06fac79)">last</a><span class="delimiter">(</span><a title="sbt.Aggregation.Values[_]" id="sbt.Output.last(02a06fac79).keys">keys</a>: <span title="sbt.Aggregation.Values[_]">Values</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="sbt.Keys.Streams" id="sbt.Output.last(02a06fac79).streams">streams</a>: <a href="std/Streams.scala.html#sbt.std;Streams" title="sbt.Keys.Streams">Streams</a>, <a title="Seq[String] =&gt; Unit" id="sbt.Output.last(02a06fac79).printLines">printLines</a>: Seq<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Unit<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="sbt.Show[sbt.Def.ScopedKey[_]]" id="sbt.Output.last(02a06fac79).display">display</a>: <a href="Show.scala.html#sbt;Show" title="sbt.Show[sbt.Def.ScopedKey[_]]">Show</a><span class="delimiter">[</span>ScopedKey<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.Output.last(862587a19a)" title="(keys: sbt.Aggregation.Values[_], streams: sbt.Keys.Streams, printLines: Seq[String] =&gt; Unit, sid: Option[String])(implicit display: sbt.Show[sbt.Def.ScopedKey[_]])Unit">last</a><span class="delimiter">(</span><a href="#sbt.Output.last(02a06fac79).keys" title="sbt.Aggregation.Values[_]">keys</a>, <a href="#sbt.Output.last(02a06fac79).streams" title="sbt.Keys.Streams">streams</a>, <a href="#sbt.Output.last(02a06fac79).printLines" title="Seq[String] =&gt; Unit">printLines</a>, <span title="None.type">None</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.Output.last(02a06fac79).display" title="sbt.Show[sbt.Def.ScopedKey[_]]">display</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(keys: sbt.Aggregation.Values[_], streams: sbt.Keys.Streams, printLines: Seq[String] =&gt; Unit, sid: Option[String])(implicit display: sbt.Show[sbt.Def.ScopedKey[_]])Unit" id="sbt.Output.last(862587a19a)">last</a><span class="delimiter">(</span><a title="sbt.Aggregation.Values[_]" id="sbt.Output.last(862587a19a).keys">keys</a>: <span title="sbt.Aggregation.Values[_]">Values</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="sbt.Keys.Streams" id="sbt.Output.last(862587a19a).streams">streams</a>: <a href="std/Streams.scala.html#sbt.std;Streams" title="sbt.Keys.Streams">Streams</a>, <a title="Seq[String] =&gt; Unit" id="sbt.Output.last(862587a19a).printLines">printLines</a>: Seq<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Unit, <a title="Option[String]" id="sbt.Output.last(862587a19a).sid">sid</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="sbt.Show[sbt.Def.ScopedKey[_]]" id="sbt.Output.last(862587a19a).display">display</a>: <a href="Show.scala.html#sbt;Show" title="sbt.Show[sbt.Def.ScopedKey[_]]">Show</a><span class="delimiter">[</span>ScopedKey<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.Output.last(862587a19a).printLines" title="(v1: Seq[String])Unit">printLines</a><span class="delimiter">(</span><a href="#sbt.Output.flatLines" title="(outputs: sbt.Aggregation.Values[Seq[String]])(f: Seq[String] =&gt; Seq[String])(implicit display: sbt.Show[sbt.Def.ScopedKey[_]])Seq[String]">flatLines</a><span class="delimiter">(</span><a href="#sbt.Output.lastLines(5d877e2365)" title="(keys: sbt.Aggregation.Values[_], streams: sbt.Keys.Streams, sid: Option[String])sbt.Aggregation.Values[Seq[String]]">lastLines</a><span class="delimiter">(</span><a href="#sbt.Output.last(862587a19a).keys" title="sbt.Aggregation.Values[_]">keys</a>, <a href="#sbt.Output.last(862587a19a).streams" title="sbt.Keys.Streams">streams</a>, <a href="#sbt.Output.last(862587a19a).sid" title="Option[String]">sid</a><span class="delimiter">)</span><span class="delimiter">)</span><a href="#sbt.Output.last(862587a19a).display" title="sbt.Show[sbt.Def.ScopedKey[_]]" class="delimiter">(</a><a href="TypeFunctions.scala.html#sbt;TypeFunctions.idFun" title="Seq[String] =&gt; Seq[String]">idFun</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(file: java.io.File, printLines: Seq[String] =&gt; Unit, tailDelim: String)Unit" id="sbt.Output.last(e83f339bc5)">last</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.Output.last(e83f339bc5).file">file</a>: <span title="java.io.File">File</span>, <a title="Seq[String] =&gt; Unit" id="sbt.Output.last(e83f339bc5).printLines">printLines</a>: Seq<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Unit, <a title="String" id="sbt.Output.last$default$3">tailDelim</a>: <span title="String">String</span> = <span title="String(&quot;&gt; &quot;)">DefaultTail</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.Output.last(e83f339bc5).printLines" title="(v1: Seq[String])Unit">printLines</a><span class="delimiter">(</span><a href="#sbt.Output.tailLines" title="(file: java.io.File, tailDelim: String)Seq[String]">tailLines</a><span class="delimiter">(</span><a href="#sbt.Output.last(e83f339bc5).file" title="java.io.File">file</a>, <a href="#sbt.Output.last$default$3" title="String">tailDelim</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(keys: sbt.Aggregation.Values[_], streams: sbt.Keys.Streams, patternString: String, printLines: Seq[String] =&gt; Unit)(implicit display: sbt.Show[sbt.Def.ScopedKey[_]])Unit" id="sbt.Output.lastGrep(a4ffd42559)">lastGrep</a><span class="delimiter">(</span><a title="sbt.Aggregation.Values[_]" id="sbt.Output.lastGrep(a4ffd42559).keys">keys</a>: <span title="sbt.Aggregation.Values[_]">Values</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="sbt.Keys.Streams" id="sbt.Output.lastGrep(a4ffd42559).streams">streams</a>: <a href="std/Streams.scala.html#sbt.std;Streams" title="sbt.Keys.Streams">Streams</a>, <a title="String" id="sbt.Output.lastGrep(a4ffd42559).patternString">patternString</a>: <span title="String">String</span>, <a title="Seq[String] =&gt; Unit" id="sbt.Output.lastGrep(a4ffd42559).printLines">printLines</a>: Seq<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Unit<span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="sbt.Show[sbt.Def.ScopedKey[_]]" id="sbt.Output.lastGrep(a4ffd42559).display">display</a>: <a href="Show.scala.html#sbt;Show" title="sbt.Show[sbt.Def.ScopedKey[_]]">Show</a><span class="delimiter">[</span>ScopedKey<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.util.regex.Pattern" id="sbt.Output.lastGrep(a4ffd42559).pattern">pattern</a> = <span title="java.util.regex.Pattern.type">Pattern</span> <span title="(x$1: String)java.util.regex.Pattern">compile</span> <a href="#sbt.Output.lastGrep(a4ffd42559).patternString" title="String">patternString</a>
      <span class="keyword">val</span> <a title="Seq[String]" id="sbt.Output.lastGrep(a4ffd42559).lines">lines</a> = <a href="#sbt.Output.flatLines" title="(outputs: sbt.Aggregation.Values[Seq[String]])(f: Seq[String] =&gt; Seq[String])(implicit display: sbt.Show[sbt.Def.ScopedKey[_]])Seq[String]">flatLines</a><span class="delimiter">(</span><a href="#sbt.Output.lastLines(5d877e2365)" title="(keys: sbt.Aggregation.Values[_], streams: sbt.Keys.Streams, sid: Option[String])sbt.Aggregation.Values[Seq[String]]">lastLines</a><span class="delimiter">(</span><a href="#sbt.Output.lastGrep(a4ffd42559).keys" title="sbt.Aggregation.Values[_]">keys</a>, <a href="#sbt.Output.lastGrep(a4ffd42559).streams" title="sbt.Keys.Streams">streams</a><span class="delimiter">)</span><span class="delimiter">)</span><a href="#sbt.Output.lastGrep(a4ffd42559).display" title="sbt.Show[sbt.Def.ScopedKey[_]]" class="delimiter">(</a><a href="#sbt.Output.lastGrep(a4ffd42559).lines.$anonfun.x$1" title="Seq[String]">_</a> <span title="(f: String =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">flatMap</span> <a href="Highlight.scala.html#sbt.Highlight.showMatches" title="(pattern: java.util.regex.Pattern)(line: String)Option[String]">showMatches</a><a href="#sbt.Output.lastGrep(a4ffd42559).lines.$anonfun.$anonfun.line" title="(xo: Option[String])Iterable[String]" class="delimiter">(</a><a href="#sbt.Output.lastGrep(a4ffd42559).pattern" title="java.util.regex.Pattern">pattern</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#sbt.Output.lastGrep(a4ffd42559).printLines" title="(v1: Seq[String])Unit">printLines</a><span class="delimiter">(</span><a href="#sbt.Output.lastGrep(a4ffd42559).lines" title="Seq[String]">lines</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(file: java.io.File, patternString: String, printLines: Seq[String] =&gt; Unit, tailDelim: String)Unit" id="sbt.Output.lastGrep(894c5ef1a2)">lastGrep</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.Output.lastGrep(894c5ef1a2).file">file</a>: <span title="java.io.File">File</span>, <a title="String" id="sbt.Output.lastGrep(894c5ef1a2).patternString">patternString</a>: <span title="String">String</span>, <a title="Seq[String] =&gt; Unit" id="sbt.Output.lastGrep(894c5ef1a2).printLines">printLines</a>: Seq<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Unit, <a title="String" id="sbt.Output.lastGrep$default$4">tailDelim</a>: <span title="String">String</span> = <span title="String(&quot;&gt; &quot;)">DefaultTail</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.Output.lastGrep(894c5ef1a2).printLines" title="(v1: Seq[String])Unit">printLines</a><span class="delimiter">(</span><a href="#sbt.Output.grep" title="(lines: Seq[String], patternString: String)Seq[String]">grep</a><span class="delimiter">(</span><a href="#sbt.Output.tailLines" title="(file: java.io.File, tailDelim: String)Seq[String]">tailLines</a><span class="delimiter">(</span><a href="#sbt.Output.lastGrep(894c5ef1a2).file" title="java.io.File">file</a>, <a href="#sbt.Output.lastGrep$default$4" title="String">tailDelim</a><span class="delimiter">)</span>, <a href="#sbt.Output.lastGrep(894c5ef1a2).patternString" title="String">patternString</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(lines: Seq[String], patternString: String)Seq[String]" id="sbt.Output.grep">grep</a><span class="delimiter">(</span><a title="Seq[String]" id="sbt.Output.grep.lines">lines</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="String" id="sbt.Output.grep.patternString">patternString</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <a href="#sbt.Output.grep.lines" title="Seq[String]">lines</a> <span title="(f: String =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">flatMap</span> <a href="Highlight.scala.html#sbt.Highlight.showMatches" title="(pattern: java.util.regex.Pattern)(line: String)Option[String]">showMatches</a><a href="#sbt.Output.grep.$anonfun.line" title="(xo: Option[String])Iterable[String]" class="delimiter">(</a><span title="java.util.regex.Pattern.type">Pattern</span> <a href="#sbt.Output.grep.eta$0$1" title="(x$1: String)java.util.regex.Pattern">compile</a> <a href="#sbt.Output.grep.patternString" title="String">patternString</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(outputs: sbt.Aggregation.Values[Seq[String]])(f: Seq[String] =&gt; Seq[String])(implicit display: sbt.Show[sbt.Def.ScopedKey[_]])Seq[String]" id="sbt.Output.flatLines">flatLines</a><span class="delimiter">(</span><a title="sbt.Aggregation.Values[Seq[String]]" id="sbt.Output.flatLines.outputs">outputs</a>: <span title="sbt.Aggregation.Values[Seq[String]]">Values</span><span class="delimiter">[</span>Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Seq[String] =&gt; Seq[String]" id="sbt.Output.flatLines.f">f</a>: Seq<span class="delimiter">[</span>String<span class="delimiter">]</span> =&gt; Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="sbt.Show[sbt.Def.ScopedKey[_]]" id="sbt.Output.flatLines.display">display</a>: <a href="Show.scala.html#sbt;Show" title="sbt.Show[sbt.Def.ScopedKey[_]]">Show</a><span class="delimiter">[</span>ScopedKey<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="sbt.Output.flatLines.single">single</a> = <a href="#sbt.Output.flatLines.outputs" title="sbt.Aggregation.Values[Seq[String]]">outputs</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span>
      <a href="#sbt.Output.flatLines.outputs" title="sbt.Aggregation.Values[Seq[String]]">outputs</a> <span title="(f: sbt.Aggregation.KeyValue[Seq[String]] =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[sbt.Aggregation.KeyValue[Seq[String]]],String,Seq[String]])Seq[String]">flatMap</span> <a href="#sbt.Output.flatLines.$anonfun.x0$1" title="Seq[String]" class="delimiter">{</a>
        <span class="keyword">case</span> KeyValue<span class="delimiter">(</span><a title="sbt.Def.ScopedKey[_]" id="sbt.Output.flatLines.$anonfun.key">key</a>, <a title="Seq[String]" id="sbt.Output.flatLines.$anonfun.lines">lines</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Seq[String]" id="sbt.Output.flatLines.$anonfun.flines">flines</a> = <a href="#sbt.Output.flatLines.f" title="(v1: Seq[String])Seq[String]">f</a><span class="delimiter">(</span><a href="#sbt.Output.flatLines.$anonfun.lines" title="Seq[String]">lines</a><span class="delimiter">)</span>
          <span title="Seq[String]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#sbt.Output.flatLines.single" title="Boolean">single</a><span class="delimiter">)</span> <a href="Highlight.scala.html#sbt.Highlight.bold" title="(s: String)String">bold</a><span class="delimiter">(</span><a href="Show.scala.html#sbt;Show.apply" title="(t: sbt.Def.ScopedKey[_])String">display</a><span class="delimiter">(</span><a href="#sbt.Output.flatLines.$anonfun.key" title="sbt.Def.ScopedKey[_]">key</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#sbt.Output.flatLines.$anonfun.x$2" title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">+:</a> <a href="#sbt.Output.flatLines.$anonfun.flines" title="Seq[String]">flines</a> <span class="keyword">else</span> <a href="#sbt.Output.flatLines.$anonfun.flines" title="Seq[String]">flines</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(keys: sbt.Aggregation.Values[_], streams: sbt.Keys.Streams, sid: Option[String])sbt.Aggregation.Values[Seq[String]]" id="sbt.Output.lastLines(5d877e2365)">lastLines</a><span class="delimiter">(</span><a title="sbt.Aggregation.Values[_]" id="sbt.Output.lastLines(5d877e2365).keys">keys</a>: <span title="sbt.Aggregation.Values[_]">Values</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="sbt.Keys.Streams" id="sbt.Output.lastLines(5d877e2365).streams">streams</a>: <a href="std/Streams.scala.html#sbt.std;Streams" title="sbt.Keys.Streams">Streams</a>, <a title="Option[String]" id="sbt.Output.lastLines$default$3">sid</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="None.type">None</span><span class="delimiter">)</span>: <span title="sbt.Aggregation.Values[Seq[String]]">Values</span><span class="delimiter">[</span>Seq<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Seq[sbt.Aggregation.KeyValue[Seq[String]]]" id="sbt.Output.lastLines(5d877e2365).outputs">outputs</a> = <a href="#sbt.Output.lastLines(5d877e2365).keys" title="sbt.Aggregation.Values[_]">keys</a> <span title="(f: sbt.Aggregation.KeyValue[_$8] =&gt; sbt.Aggregation.KeyValue[Seq[String]])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[sbt.Aggregation.KeyValue[_$8]],sbt.Aggregation.KeyValue[Seq[String]],Seq[sbt.Aggregation.KeyValue[Seq[String]]]])Seq[sbt.Aggregation.KeyValue[Seq[String]]]">map</span> <span class="delimiter">{</span> <span class="delimiter">(</span>kv: <a href="Aggregation.scala.html#sbt.Aggregation;KeyValue" title="sbt.Aggregation.KeyValue[_]">KeyValue</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="Aggregation.scala.html#sbt.Aggregation;KeyValue" title="(key: sbt.Def.ScopedKey[_], value: Seq[String])sbt.Aggregation.KeyValue[Seq[String]]">KeyValue</a><span class="delimiter">(</span><a href="#sbt.Output.lastLines(5d877e2365).outputs.$anonfun.kv" title="sbt.Aggregation.KeyValue[_]">kv</a>.<a href="Aggregation.scala.html#sbt.Aggregation;KeyValue.key" title="=&gt; sbt.Def.ScopedKey[_]">key</a>, <a href="#sbt.Output.lastLines(51caab96b9)" title="(key: sbt.Def.ScopedKey[_], mgr: sbt.Keys.Streams, sid: Option[String])Seq[String]">lastLines</a><span class="delimiter">(</span><a href="#sbt.Output.lastLines(5d877e2365).outputs.$anonfun.kv" title="sbt.Aggregation.KeyValue[_]">kv</a>.<a href="Aggregation.scala.html#sbt.Aggregation;KeyValue.key" title="=&gt; sbt.Def.ScopedKey[_]">key</a>, <a href="#sbt.Output.lastLines(5d877e2365).streams" title="sbt.Keys.Streams">streams</a>, <a href="#sbt.Output.lastLines$default$3" title="Option[String]">sid</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
      <a href="#sbt.Output.lastLines(5d877e2365).outputs" title="Seq[sbt.Aggregation.KeyValue[Seq[String]]]">outputs</a>.<span title="(p: sbt.Aggregation.KeyValue[Seq[String]] =&gt; Boolean)Seq[sbt.Aggregation.KeyValue[Seq[String]]]">filterNot</span><span class="delimiter">(</span><a href="#sbt.Output.lastLines(5d877e2365).$anonfun.x$3" title="sbt.Aggregation.KeyValue[Seq[String]]">_</a>.<a href="Aggregation.scala.html#sbt.Aggregation;KeyValue.value" title="=&gt; Seq[String]">value</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  @deprecated<span class="delimiter">(</span><span class="string">&quot;Explicitly provide None for the stream ID.&quot;</span>, <span class="string">&quot;0.13.0&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(key: sbt.Def.ScopedKey[_], mgr: sbt.Keys.Streams)Seq[String]" id="sbt.Output.lastLines(2cae48404d)">lastLines</a><span class="delimiter">(</span><a title="sbt.Def.ScopedKey[_]" id="sbt.Output.lastLines(2cae48404d).key">key</a>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[_]">ScopedKey</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="sbt.Keys.Streams" id="sbt.Output.lastLines(2cae48404d).mgr">mgr</a>: <a href="std/Streams.scala.html#sbt.std;Streams" title="sbt.Keys.Streams">Streams</a><span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#sbt.Output.lastLines(51caab96b9)" title="(key: sbt.Def.ScopedKey[_], mgr: sbt.Keys.Streams, sid: Option[String])Seq[String]">lastLines</a><span class="delimiter">(</span><a href="#sbt.Output.lastLines(2cae48404d).key" title="sbt.Def.ScopedKey[_]">key</a>, <a href="#sbt.Output.lastLines(2cae48404d).mgr" title="sbt.Keys.Streams">mgr</a>, <span title="None.type">None</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(key: sbt.Def.ScopedKey[_], mgr: sbt.Keys.Streams, sid: Option[String])Seq[String]" id="sbt.Output.lastLines(51caab96b9)">lastLines</a><span class="delimiter">(</span><a title="sbt.Def.ScopedKey[_]" id="sbt.Output.lastLines(51caab96b9).key">key</a>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[_]">ScopedKey</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="sbt.Keys.Streams" id="sbt.Output.lastLines(51caab96b9).mgr">mgr</a>: <a href="std/Streams.scala.html#sbt.std;Streams" title="sbt.Keys.Streams">Streams</a>, <a title="Option[String]" id="sbt.Output.lastLines(51caab96b9).sid">sid</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <a href="#sbt.Output.lastLines(51caab96b9).mgr" title="sbt.Keys.Streams">mgr</a>.<a href="std/Streams.scala.html#sbt.std;Streams.use" title="(key: sbt.Def.ScopedKey[_])(f: sbt.std.TaskStreams[sbt.Def.ScopedKey[_]] =&gt; List[String])List[String]">use</a><span class="delimiter">(</span><a href="#sbt.Output.lastLines(51caab96b9).key" title="sbt.Def.ScopedKey[_]">key</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="sbt.std.TaskStreams[sbt.Def.ScopedKey[_]]" id="sbt.Output.lastLines(51caab96b9).$anonfun.s">s</a> =&gt;
      <span class="comment">// Workaround for #1155 - Keys.streams are always scoped by the task they're included in</span>
      <span class="comment">// but are keyed by the Keys.streams key.  I think this isn't actually a workaround, but</span>
      <span class="comment">// is how things are expected to work now.</span>
      <span class="comment">// You can see where streams are injected using their own key scope in </span>
      <span class="comment">// EvaluateTask.injectStreams.</span>
      <span class="keyword">val</span> <a title="sbt.Def.ScopedKey[_]" id="sbt.Output.lastLines(51caab96b9).$anonfun.streamScopedKey">streamScopedKey</a>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[_]">ScopedKey</a><span class="delimiter">[</span>_<span class="delimiter">]</span> = <a href="Settings.scala.html#sbt;Init;ScopedKey" title="(scope: sbt.Scope, key: sbt.AttributeKey[sbt.Task[sbt.Keys.TaskStreams]])sbt.Def.ScopedKey[sbt.Task[sbt.Keys.TaskStreams]]">ScopedKey</a><span class="delimiter">(</span><a href="Project.scala.html#sbt.Project" title="sbt.Project.type">Project</a>.<a href="Project.scala.html#sbt.Project.fillTaskAxis" title="(scoped: sbt.Def.ScopedKey[_])sbt.Def.ScopedKey[_]">fillTaskAxis</a><span class="delimiter">(</span><a href="#sbt.Output.lastLines(51caab96b9).key" title="sbt.Def.ScopedKey[_]">key</a><span class="delimiter">)</span>.<a href="Settings.scala.html#sbt;Init;ScopedKey.scope" title="=&gt; sbt.Scope">scope</a>, <a href="Keys.scala.html#sbt.Keys" title="sbt.Keys.type">Keys</a>.<a href="Keys.scala.html#sbt.Keys.streams" title="=&gt; sbt.TaskKey[sbt.Keys.TaskStreams]">streams</a>.<a href="Structure.scala.html#sbt;TaskKey.key" title="=&gt; sbt.AttributeKey[sbt.Task[sbt.Keys.TaskStreams]]">key</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.io.BufferedReader" id="sbt.Output.lastLines(51caab96b9).$anonfun.tmp">tmp</a> = <a href="#sbt.Output.lastLines(51caab96b9).$anonfun.s" title="sbt.std.TaskStreams[sbt.Def.ScopedKey[_]]">s</a>.<a href="std/Streams.scala.html#sbt.std;TaskStreams.readText(caa0f6783a)" title="(a: sbt.Def.ScopedKey[_], sid: Option[String])java.io.BufferedReader">readText</a><span class="delimiter">(</span><a href="#sbt.Output.lastLines(51caab96b9).$anonfun.streamScopedKey" title="sbt.Def.ScopedKey[_]">streamScopedKey</a>, <a href="#sbt.Output.lastLines(51caab96b9).sid" title="Option[String]">sid</a><span class="delimiter">)</span>
      <a href="IO.scala.html#sbt.IO" title="sbt.IO.type">IO</a>.<a href="IO.scala.html#sbt.IO.readLines(3e4445422c)" title="(in: java.io.BufferedReader)List[String]">readLines</a><span class="delimiter">(</span><a href="#sbt.Output.lastLines(51caab96b9).$anonfun.tmp" title="java.io.BufferedReader">tmp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(file: java.io.File, tailDelim: String)Seq[String]" id="sbt.Output.tailLines">tailLines</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.Output.tailLines.file">file</a>: <span title="java.io.File">File</span>, <a title="String" id="sbt.Output.tailLines.tailDelim">tailDelim</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#sbt.Output.headLines" title="(lines: Seq[String], tailDelim: String)Seq[String]">headLines</a><span class="delimiter">(</span><a href="IO.scala.html#sbt.IO" title="sbt.IO.type">IO</a>.<a href="IO.scala.html#sbt.IO.readLines(50ee8d6d9c)" title="(file: java.io.File, charset: java.nio.charset.Charset)List[String]">readLines</a><span class="delimiter">(</span><a href="#sbt.Output.tailLines.file" title="java.io.File">file</a><span class="delimiter">)</span>.<span title="=&gt; List[String]">reverse</span>, <a href="#sbt.Output.tailLines.tailDelim" title="String">tailDelim</a><span class="delimiter">)</span>.<span title="=&gt; Seq[String]">reverse</span>

  @tailrec <span class="keyword">def</span> <a title="(lines: Seq[String], tailDelim: String)Seq[String]" id="sbt.Output.headLines">headLines</a><span class="delimiter">(</span><a title="Seq[String]" id="sbt.Output.headLines.lines">lines</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="String" id="sbt.Output.headLines.tailDelim">tailDelim</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span title="Seq[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.Output.headLines.lines" title="Seq[String]">lines</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
      <a href="#sbt.Output.headLines.lines" title="Seq[String]">lines</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#sbt.Output.headLines.first" title="(Seq[String], Seq[String])" class="delimiter">(</a><a href="#sbt.Output.headLines.x$4" title="Seq[String]" id="sbt.Output.headLines.first">first</a>, <a href="#sbt.Output.headLines.x$4" title="Seq[String]" id="sbt.Output.headLines.tail">tail</a><span class="delimiter">)</span> = <a href="#sbt.Output.headLines.lines" title="Seq[String]">lines</a>.<span title="(p: String =&gt; Boolean)(Seq[String], Seq[String])">span</span> <span title="(Seq[String], Seq[String]) @unchecked" class="delimiter">{</span> <a title="String" id="sbt.Output.headLines.x$4.$anonfun.line">line</a> =&gt; <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#sbt.Output.headLines.x$4.$anonfun.line" title="String">line</a> <span title="(x$1: String)Boolean">startsWith</span> <a href="#sbt.Output.headLines.tailDelim" title="String">tailDelim</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span title="Seq[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.Output.headLines.first" title="Seq[String]">first</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#sbt.Output.headLines" title="(lines: Seq[String], tailDelim: String)Seq[String]">headLines</a><span class="delimiter">(</span><a href="#sbt.Output.headLines.tail" title="Seq[String]">tail</a> <span title="(n: Int)Seq[String]">drop</span> <span title="Int(1)" class="int">1</span>, <a href="#sbt.Output.headLines.tailDelim" title="String">tailDelim</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#sbt.Output.headLines.first" title="Seq[String]">first</a>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
