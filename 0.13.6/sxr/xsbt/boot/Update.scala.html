<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>xsbt/boot/Update.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2009, 2010, 2011  Mark Harrah
 */</span>
<span class="keyword">package</span> xsbt.boot

<span class="keyword">import</span> <a href="Pre.scala.html#xsbt.boot.Pre" title="xsbt.boot.Pre.type">Pre</a>._
<span class="keyword">import</span> java.io.<span class="delimiter">{</span> File, FileWriter, PrintWriter, Writer <span class="delimiter">}</span>
<span class="keyword">import</span> java.util.concurrent.Callable
<span class="keyword">import</span> java.util.regex.Pattern
<span class="keyword">import</span> java.util.Properties

<span class="keyword">import</span> org.apache.ivy.<span class="delimiter">{</span> core, plugins, util, Ivy <span class="delimiter">}</span>
<span class="keyword">import</span> core.LogOptions
<span class="keyword">import</span> core.cache.<span class="delimiter">{</span> CacheMetadataOptions, DefaultRepositoryCacheManager, DefaultResolutionCacheManager <span class="delimiter">}</span>
<span class="keyword">import</span> core.event.EventManager
<span class="keyword">import</span> core.module.id.<span class="delimiter">{</span> ArtifactId, ModuleId, ModuleRevisionId <span class="delimiter">}</span>
<span class="keyword">import</span> core.module.descriptor.<span class="delimiter">{</span> Configuration =&gt; IvyConfiguration, DefaultDependencyArtifactDescriptor, DefaultDependencyDescriptor, DefaultModuleDescriptor, ModuleDescriptor <span class="delimiter">}</span>
<span class="keyword">import</span> core.module.descriptor.<span class="delimiter">{</span> Artifact =&gt; IArtifact, DefaultExcludeRule, DependencyDescriptor, ExcludeRule <span class="delimiter">}</span>
<span class="keyword">import</span> core.report.ResolveReport
<span class="keyword">import</span> core.resolve.<span class="delimiter">{</span> ResolveEngine, ResolveOptions <span class="delimiter">}</span>
<span class="keyword">import</span> core.retrieve.<span class="delimiter">{</span> RetrieveEngine, RetrieveOptions <span class="delimiter">}</span>
<span class="keyword">import</span> core.sort.SortEngine
<span class="keyword">import</span> core.settings.IvySettings
<span class="keyword">import</span> plugins.matcher.<span class="delimiter">{</span> ExactPatternMatcher, PatternMatcher <span class="delimiter">}</span>
<span class="keyword">import</span> plugins.resolver.<span class="delimiter">{</span> BasicResolver, ChainResolver, FileSystemResolver, IBiblioResolver, URLResolver <span class="delimiter">}</span>
<span class="keyword">import</span> util.<span class="delimiter">{</span> DefaultMessageLogger, filter, Message, MessageLoggerEngine, url <span class="delimiter">}</span>
<span class="keyword">import</span> filter.Filter
<span class="keyword">import</span> url.CredentialsStore

<span class="keyword">import</span> <a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration" title="xsbt.boot.BootConfiguration.type">BootConfiguration</a>._

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait UpdateTarget extends AnyRef" id="xsbt.boot;UpdateTarget">UpdateTarget</a> <span class="delimiter">{</span> <span class="keyword">def</span> <a title="=&gt; String" id="xsbt.boot;UpdateTarget.tpe">tpe</a>: <span title="String">String</span>; <span class="keyword">def</span> <a title="=&gt; List[String]" id="xsbt.boot;UpdateTarget.classifiers">classifiers</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> <span class="delimiter">}</span>
<span title="AnyRef" class="keyword">final</span> <span class="keyword">class</span> <a title="class UpdateScala extends AnyRef with xsbt.boot.UpdateTarget" id="xsbt.boot;UpdateScala">UpdateScala</a><a href="#xsbt.boot;UpdateScala" title="xsbt.boot.UpdateScala" class="delimiter">(</a><span class="keyword">val</span> <a title="List[String]" id="xsbt.boot;UpdateScala.classifiers">classifiers</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#xsbt.boot;UpdateTarget" title="xsbt.boot.UpdateTarget">UpdateTarget</a> <span class="delimiter">{</span> <span class="keyword">def</span> <a title="=&gt; String" id="xsbt.boot;UpdateScala.tpe">tpe</a> = <span title="String(&quot;scala&quot;)" class="string">&quot;scala&quot;</span> <span class="delimiter">}</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class UpdateApp extends AnyRef with xsbt.boot.UpdateTarget" id="xsbt.boot;UpdateApp">UpdateApp</a><a href="#xsbt.boot;UpdateApp" title="xsbt.boot.UpdateApp" class="delimiter">(</a><span class="keyword">val</span> <a title="xsbt.boot.Application" id="xsbt.boot;UpdateApp.id">id</a>: <a href="LaunchConfiguration.scala.html#xsbt.boot;Application" title="xsbt.boot.Application">Application</a>, <span class="keyword">val</span> <a title="List[String]" id="xsbt.boot;UpdateApp.classifiers">classifiers</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="String" id="xsbt.boot;UpdateApp.tpe">tpe</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#xsbt.boot;UpdateTarget" title="xsbt.boot.UpdateTarget">UpdateTarget</a>

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class UpdateConfiguration extends AnyRef" id="xsbt.boot;UpdateConfiguration">UpdateConfiguration</a><a href="#xsbt.boot;UpdateConfiguration" title="xsbt.boot.UpdateConfiguration" class="delimiter">(</a><span class="keyword">val</span> <a title="java.io.File" id="xsbt.boot;UpdateConfiguration.bootDirectory">bootDirectory</a>: <span title="java.io.File">File</span>, <span class="keyword">val</span> <a title="Option[java.io.File]" id="xsbt.boot;UpdateConfiguration.ivyHome">ivyHome</a>: <span title="Option[java.io.File]">Option</span><span class="delimiter">[</span>File<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="String" id="xsbt.boot;UpdateConfiguration.scalaOrg">scalaOrg</a>: <span title="String">String</span>,
    <span class="keyword">val</span> <a title="Option[String]" id="xsbt.boot;UpdateConfiguration.scalaVersion">scalaVersion</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="List[xsbti.Repository]" id="xsbt.boot;UpdateConfiguration.repositories">repositories</a>: <span title="List[xsbti.Repository]">List</span><span class="delimiter">[</span>xsbti.Repository<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="List[String]" id="xsbt.boot;UpdateConfiguration.checksums">checksums</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="java.io.File" id="xsbt.boot;UpdateConfiguration.resolutionCacheBase">resolutionCacheBase</a> = <span title="(x$1: java.io.File, x$2: String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#xsbt.boot;UpdateConfiguration.bootDirectory" title="=&gt; java.io.File">bootDirectory</a>, <span title="String(&quot;resolution-cache&quot;)" class="string">&quot;resolution-cache&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="xsbt.boot;UpdateConfiguration.getScalaVersion">getScalaVersion</a> = <a href="#xsbt.boot;UpdateConfiguration.scalaVersion" title="=&gt; Option[String]">scalaVersion</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="String" id="xsbt.boot;UpdateConfiguration.getScalaVersion.sv">sv</a><span class="delimiter">)</span> =&gt; <a href="#xsbt.boot;UpdateConfiguration.getScalaVersion.sv" title="String">sv</a>; <span class="keyword">case</span> <span title="None.type">None</span> =&gt; <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">final</span> <span class="keyword">class</span> <a title="class UpdateResult extends AnyRef" id="xsbt.boot;UpdateResult">UpdateResult</a><a href="#xsbt.boot;UpdateResult" title="xsbt.boot.UpdateResult" class="delimiter">(</a><span class="keyword">val</span> <a title="Boolean" id="xsbt.boot;UpdateResult.success">success</a>: <span title="Boolean">Boolean</span>, <span class="keyword">val</span> <a title="Option[String]" id="xsbt.boot;UpdateResult.scalaVersion">scalaVersion</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="Option[String]" id="xsbt.boot;UpdateResult.appVersion">appVersion</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Please use the other constructor providing appVersion.&quot;</span>, <span class="string">&quot;0.13.2&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(success: Boolean, scalaVersion: Option[String])xsbt.boot.UpdateResult" id="xsbt.boot;UpdateResult.<init>(a4e2ebd59b)" class="keyword">this</a><span class="delimiter">(</span><a title="Boolean" id="xsbt.boot;UpdateResult.<init>(a4e2ebd59b).success">success</a>: <span title="Boolean">Boolean</span>, <a title="Option[String]" id="xsbt.boot;UpdateResult.<init>(a4e2ebd59b).scalaVersion">scalaVersion</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#xsbt.boot;UpdateResult" title="UpdateResult.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#xsbt.boot;UpdateResult.<init>(a4e2ebd59b).success" title="Boolean">success</a>, <a href="#xsbt.boot;UpdateResult.<init>(a4e2ebd59b).scalaVersion" title="Option[String]">scalaVersion</a>, <span title="None.type">None</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/** Ensures that the Scala and application jars exist for the given versions or else downloads them.*/</span>
<span title="AnyRef" class="keyword">final</span> <span class="keyword">class</span> <a title="class Update extends AnyRef" id="xsbt.boot;Update">Update</a><a href="#xsbt.boot;Update" title="xsbt.boot.Update" class="delimiter">(</a><a title="xsbt.boot.UpdateConfiguration" id="xsbt.boot;Update.config">config</a>: <a href="#xsbt.boot;UpdateConfiguration" title="xsbt.boot.UpdateConfiguration">UpdateConfiguration</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#xsbt.boot;Update.config" title="xsbt.boot.UpdateConfiguration">config</a>.<span class="delimiter">{</span> bootDirectory, checksums, getScalaVersion, ivyHome, repositories, resolutionCacheBase, scalaVersion, scalaOrg <span class="delimiter">}</span>
  <a href="#xsbt.boot;UpdateConfiguration.bootDirectory" title="=&gt; java.io.File">bootDirectory</a>.<span title="()Boolean">mkdirs</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; java.io.File" id="xsbt.boot;Update.logFile">logFile</a> = <span title="(x$1: java.io.File, x$2: String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#xsbt.boot;UpdateConfiguration.bootDirectory" title="=&gt; java.io.File">bootDirectory</a>, <a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.UpdateLogName" title="=&gt; String">UpdateLogName</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.io.PrintWriter" id="xsbt.boot;Update.logWriter">logWriter</a> = <span title="java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span><span title="(x$1: java.io.File)java.io.FileWriter" class="keyword">new</span> <span title="java.io.FileWriter">FileWriter</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.logFile" title="=&gt; java.io.File">logFile</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="xsbt.boot;Update.addCredentials">addCredentials</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Option[java.util.Properties]" id="xsbt.boot;Update.addCredentials.optionProps">optionProps</a> =
      <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;sbt.boot.credentials&quot;)" class="string">&quot;sbt.boot.credentials&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(alternative: =&gt; Option[String])Option[String]">orElse</span>
        <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getenv</span><span class="delimiter">(</span><span title="String(&quot;SBT_CREDENTIALS&quot;)" class="string">&quot;SBT_CREDENTIALS&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: String =&gt; java.util.Properties)Option[java.util.Properties]">map</span> <span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.addCredentials.optionProps.$anonfun.path">path</a> =&gt;
          <a href="Pre.scala.html#xsbt.boot.Pre" title="xsbt.boot.Pre.type">Pre</a>.<a href="Pre.scala.html#xsbt.boot.Pre.readProperties" title="(propertiesFile: java.io.File)java.util.Properties">readProperties</a><span class="delimiter">(</span><span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.addCredentials.optionProps.$anonfun.path" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
    <a href="#xsbt.boot;Update.addCredentials.optionProps" title="Option[java.util.Properties]">optionProps</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="java.util.Properties" id="xsbt.boot;Update.addCredentials.props">props</a><span class="delimiter">)</span> =&gt; <a href="#xsbt.boot;Update.extractCredentials" title="(keys: (String, String, String, String))(props: java.util.Properties)Unit">extractCredentials</a><span title="(_1: String, _2: String, _3: String, _4: String)(String, String, String, String)" class="delimiter">(</span><span title="String(&quot;realm&quot;)" class="string">&quot;realm&quot;</span>, <span title="String(&quot;host&quot;)" class="string">&quot;host&quot;</span>, <span title="String(&quot;user&quot;)" class="string">&quot;user&quot;</span>, <span title="String(&quot;password&quot;)" class="string">&quot;password&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.addCredentials.props" title="java.util.Properties">props</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="None.type">None</span>        =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#xsbt.boot;Update.extractCredentials" title="(keys: (String, String, String, String))(props: java.util.Properties)Unit">extractCredentials</a><span title="(_1: String, _2: String, _3: String, _4: String)(String, String, String, String)" class="delimiter">(</span><span title="String(&quot;sbt.boot.realm&quot;)" class="string">&quot;sbt.boot.realm&quot;</span>, <span title="String(&quot;sbt.boot.host&quot;)" class="string">&quot;sbt.boot.host&quot;</span>, <span title="String(&quot;sbt.boot.user&quot;)" class="string">&quot;sbt.boot.user&quot;</span>, <span title="String(&quot;sbt.boot.password&quot;)" class="string">&quot;sbt.boot.password&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="()java.util.Properties">getProperties</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(keys: (String, String, String, String))(props: java.util.Properties)Unit" id="xsbt.boot;Update.extractCredentials">extractCredentials</a><span class="delimiter">(</span><a title="(String, String, String, String)" id="xsbt.boot;Update.extractCredentials.keys">keys</a>: <span title="(String, String, String, String)" class="delimiter">(</span>String, String, String, String<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.util.Properties" id="xsbt.boot;Update.extractCredentials.props">props</a>: <span title="java.util.Properties">Properties</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a href="#xsbt.boot;Update.extractCredentials.x$1.<unapply-selector>" title="(x: List[String])Some[List[String]]">List</a><a href="#xsbt.boot;Update.extractCredentials.realm" title="(String, String, String, String)" class="delimiter">(</a><a href="#xsbt.boot;Update.extractCredentials.x$1" title="String" id="xsbt.boot;Update.extractCredentials.realm">realm</a>, <a href="#xsbt.boot;Update.extractCredentials.x$1" title="String" id="xsbt.boot;Update.extractCredentials.host">host</a>, <a href="#xsbt.boot;Update.extractCredentials.x$1" title="String" id="xsbt.boot;Update.extractCredentials.user">user</a>, <a href="#xsbt.boot;Update.extractCredentials.x$1" title="String" id="xsbt.boot;Update.extractCredentials.password">password</a><span class="delimiter">)</span> = <a href="#xsbt.boot;Update.extractCredentials.keys" title="(String, String, String, String)">keys</a>.<span title="=&gt; Iterator[Any]">productIterator</span>.<span title="(f: Any =&gt; String)Iterator[String]">map</span><span class="delimiter">(</span><a title="Any" id="xsbt.boot;Update.extractCredentials.x$1.$anonfun.key">key</a> =&gt; <a href="#xsbt.boot;Update.extractCredentials.props" title="java.util.Properties">props</a>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.extractCredentials.x$1.$anonfun.key" title="Any">key</a>.<span title="()String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[String]">toList</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#xsbt.boot;Update.extractCredentials.realm" title="String">realm</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#xsbt.boot;Update.extractCredentials.host" title="String">host</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#xsbt.boot;Update.extractCredentials.user" title="String">user</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#xsbt.boot;Update.extractCredentials.password" title="String">password</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
      <span title="org.apache.ivy.util.url.CredentialsStore.type">CredentialsStore</span>.<span title="org.apache.ivy.util.url.CredentialsStore">INSTANCE</span>.<span title="(x$1: String, x$2: String, x$3: String, x$4: String)Unit">addCredentials</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.extractCredentials.realm" title="String">realm</a>, <a href="#xsbt.boot;Update.extractCredentials.host" title="String">host</a>, <a href="#xsbt.boot;Update.extractCredentials.user" title="String">user</a>, <a href="#xsbt.boot;Update.extractCredentials.password" title="String">password</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="org.apache.ivy.core.settings.IvySettings" id="xsbt.boot;Update.settings">settings</a> =
    <span class="delimiter">{</span>
      <a href="#xsbt.boot;Update.addCredentials" title="()Unit">addCredentials</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="org.apache.ivy.core.settings.IvySettings" id="xsbt.boot;Update.settings.settings">settings</a> = <span title="org.apache.ivy.core.settings.IvySettings" class="keyword">new</span> <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>
      <a href="#xsbt.boot;UpdateConfiguration.ivyHome" title="=&gt; Option[java.io.File]">ivyHome</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="java.io.File" id="xsbt.boot;Update.settings.dir">dir</a><span class="delimiter">)</span> =&gt; <a href="#xsbt.boot;Update.settings.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: java.io.File)Unit">setDefaultIvyUserDir</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.settings.dir" title="java.io.File">dir</a><span class="delimiter">)</span>; <span class="keyword">case</span> <span title="None.type">None</span> =&gt; <span class="delimiter">}</span>
      <a href="#xsbt.boot;Update.addResolvers" title="(settings: org.apache.ivy.core.settings.IvySettings)Unit">addResolvers</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.settings.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.settings.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: String, x$2: String)Unit">setVariable</span><span class="delimiter">(</span><span title="String(&quot;ivy.checksums&quot;)" class="string">&quot;ivy.checksums&quot;</span>, <a href="#xsbt.boot;UpdateConfiguration.checksums" title="=&gt; List[String]">checksums</a> <span title="(sep: String)String">mkString</span> <span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.settings.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: org.apache.ivy.plugins.conflict.ConflictManager)Unit">setDefaultConflictManager</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.settings.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: String)org.apache.ivy.plugins.conflict.ConflictManager">getConflictManager</span><span class="delimiter">(</span><a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.ConflictManagerName" title="=&gt; String">ConflictManagerName</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.settings.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: java.io.File)Unit">setBaseDir</span><span class="delimiter">(</span><a href="#xsbt.boot;UpdateConfiguration.bootDirectory" title="=&gt; java.io.File">bootDirectory</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.setScalaVariable" title="(settings: org.apache.ivy.core.settings.IvySettings, scalaVersion: Option[String])Unit">setScalaVariable</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.settings.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#xsbt.boot;UpdateConfiguration.scalaVersion" title="=&gt; Option[String]">scalaVersion</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.settings.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>
    <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(settings: org.apache.ivy.core.settings.IvySettings, scalaVersion: Option[String])Unit" id="xsbt.boot;Update.setScalaVariable">setScalaVariable</a><span class="delimiter">(</span><a title="org.apache.ivy.core.settings.IvySettings" id="xsbt.boot;Update.setScalaVariable.settings">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="Option[String]" id="xsbt.boot;Update.setScalaVariable.scalaVersion">scalaVersion</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#xsbt.boot;Update.setScalaVariable.scalaVersion" title="Option[String]">scalaVersion</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.setScalaVariable.sv">sv</a><span class="delimiter">)</span> =&gt; <a href="#xsbt.boot;Update.setScalaVariable.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: String, x$2: String)Unit">setVariable</span><span class="delimiter">(</span><span title="String(&quot;scala&quot;)" class="string">&quot;scala&quot;</span>, <a href="#xsbt.boot;Update.setScalaVariable.sv" title="String">sv</a><span class="delimiter">)</span>; <span class="keyword">case</span> <span title="None.type">None</span> =&gt; <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ivy extends org.apache.ivy.Ivy" id="xsbt.boot;Update.ivy">ivy</a> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ivy extends org.apache.ivy.Ivy" id="xsbt.boot;Update.ivy.ivy">ivy</a> = <a href="#xsbt.boot;Update.ivy.ivy;$anon" title="org.apache.ivy.Ivy{}" class="keyword">new</a> <a title="anonymous class $anon extends org.apache.ivy.Ivy" id="xsbt.boot;Update.ivy.ivy;$anon">Ivy</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="keyword">private</span> <span class="keyword">val</span> <a title="xsbt.boot.SbtMessageLoggerEngine" id="xsbt.boot;Update.ivy.ivy;$anon.loggerEngine">loggerEngine</a> = <span title="xsbt.boot.SbtMessageLoggerEngine" class="keyword">new</span> <a href="#xsbt.boot;SbtMessageLoggerEngine" title="xsbt.boot.SbtMessageLoggerEngine">SbtMessageLoggerEngine</a>; <span class="keyword">override</span> <span class="keyword">def</span> <a title="()xsbt.boot.SbtMessageLoggerEngine" id="xsbt.boot;Update.ivy.ivy;$anon.getLoggerEngine">getLoggerEngine</a> = <a href="#xsbt.boot;Update.ivy.ivy;$anon.loggerEngine" title="=&gt; xsbt.boot.SbtMessageLoggerEngine">loggerEngine</a> <span class="delimiter">}</span>
      <a href="#xsbt.boot;Update.ivy.ivy" title="ivy extends org.apache.ivy.Ivy">ivy</a>.<span title="(x$1: org.apache.ivy.core.settings.IvySettings)Unit">setSettings</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.settings" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.ivy.ivy" title="ivy extends org.apache.ivy.Ivy">ivy</a>.<span title="()Unit">bind</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.ivy.ivy" title="ivy extends org.apache.ivy.Ivy">ivy</a>
    <span class="delimiter">}</span>
  <span class="comment">// should be the same file as is used in the Ivy module</span>
  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.File" id="xsbt.boot;Update.ivyLockFile">ivyLockFile</a> = <span title="(x$1: java.io.File, x$2: String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.settings" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="()java.io.File">getDefaultIvyUserDir</span>, <span title="String(&quot;.sbt.ivy.lock&quot;)" class="string">&quot;.sbt.ivy.lock&quot;</span><span class="delimiter">)</span>

  <span class="comment">/** The main entry point of this class for use by the Update module.  It runs Ivy */</span>
  <span class="keyword">def</span> <a title="(target: xsbt.boot.UpdateTarget, reason: String)xsbt.boot.UpdateResult" id="xsbt.boot;Update.apply">apply</a><span class="delimiter">(</span><a title="xsbt.boot.UpdateTarget" id="xsbt.boot;Update.apply.target">target</a>: <a href="#xsbt.boot;UpdateTarget" title="xsbt.boot.UpdateTarget">UpdateTarget</a>, <a title="String" id="xsbt.boot;Update.apply.reason">reason</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#xsbt.boot;UpdateResult" title="xsbt.boot.UpdateResult">UpdateResult</a> =
    <span class="delimiter">{</span>
      <span title="org.apache.ivy.util.Message.type">Message</span>.<span title="(x$1: org.apache.ivy.util.MessageLogger)Unit">setDefaultLogger</span><span class="delimiter">(</span><span title="xsbt.boot.SbtIvyLogger" class="keyword">new</span> <a href="#xsbt.boot;SbtIvyLogger" title="xsbt.boot.SbtIvyLogger">SbtIvyLogger</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.logWriter" title="=&gt; java.io.PrintWriter">logWriter</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="action extends Object with java.util.concurrent.Callable[xsbt.boot.UpdateResult]" id="xsbt.boot;Update.apply.action">action</a> = <a href="#xsbt.boot;Update.apply.action;$anon" title="java.util.concurrent.Callable[xsbt.boot.UpdateResult]" class="keyword">new</a> <a title="anonymous class $anon extends Object with java.util.concurrent.Callable[xsbt.boot.UpdateResult]" id="xsbt.boot;Update.apply.action;$anon">Callable</a><span class="delimiter">[</span>UpdateResult<span class="delimiter">]</span> <span class="delimiter">{</span> <span class="keyword">def</span> <a title="()xsbt.boot.UpdateResult" id="xsbt.boot;Update.apply.action;$anon.call">call</a> = <a href="#xsbt.boot;Update.lockedApply" title="(target: xsbt.boot.UpdateTarget, reason: String)xsbt.boot.UpdateResult">lockedApply</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.apply.target" title="xsbt.boot.UpdateTarget">target</a>, <a href="#xsbt.boot;Update.apply.reason" title="String">reason</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <a href="Locks.scala.html#xsbt.boot.Locks.apply" title="(file: java.io.File, action: java.util.concurrent.Callable[xsbt.boot.UpdateResult])xsbt.boot.UpdateResult">Locks</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.ivyLockFile" title="=&gt; java.io.File">ivyLockFile</a>, <a href="#xsbt.boot;Update.apply.action" title="action extends Object with java.util.concurrent.Callable[xsbt.boot.UpdateResult]">action</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(target: xsbt.boot.UpdateTarget, reason: String)xsbt.boot.UpdateResult" id="xsbt.boot;Update.lockedApply">lockedApply</a><span class="delimiter">(</span><a title="xsbt.boot.UpdateTarget" id="xsbt.boot;Update.lockedApply.target">target</a>: <a href="#xsbt.boot;UpdateTarget" title="xsbt.boot.UpdateTarget">UpdateTarget</a>, <a title="String" id="xsbt.boot;Update.lockedApply.reason">reason</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#xsbt.boot;UpdateResult" title="xsbt.boot.UpdateResult">UpdateResult</a> =
    <span class="delimiter">{</span>
      <a href="#xsbt.boot;Update.ivy" title="=&gt; org.apache.ivy.Ivy{def getLoggerEngine(): xsbt.boot.SbtMessageLoggerEngine}">ivy</a>.<span title="()Unit">pushContext</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#xsbt.boot;Update.update(539b47c7b5)" title="(target: xsbt.boot.UpdateTarget, reason: String)xsbt.boot.UpdateResult">update</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.lockedApply.target" title="xsbt.boot.UpdateTarget">target</a>, <a href="#xsbt.boot;Update.lockedApply.reason" title="String">reason</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Exception" id="xsbt.boot;Update.lockedApply.e">e</a>: <span title="Exception">Exception</span> =&gt;
          <a href="#xsbt.boot;Update.lockedApply.e" title="Exception">e</a>.<span title="(x$1: java.io.PrintWriter)Unit">printStackTrace</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.logWriter" title="=&gt; java.io.PrintWriter">logWriter</a><span class="delimiter">)</span>
          <a href="#xsbt.boot;Update.log" title="(msg: String)Unit">log</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.lockedApply.e" title="Exception">e</a>.<span title="()String">toString</span><span class="delimiter">)</span>
          <span title="System.type">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;  (see &quot;)" class="string">&quot;  (see &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;Update.logFile" title="=&gt; java.io.File">logFile</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; for complete log)&quot;)" class="string">&quot; for complete log)&quot;</span><span class="delimiter">)</span>
          <span title="xsbt.boot.UpdateResult" class="keyword">new</span> <a href="#xsbt.boot;UpdateResult" title="xsbt.boot.UpdateResult">UpdateResult</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="None.type">None</span>, <span title="None.type">None</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#xsbt.boot;Update.logWriter" title="=&gt; java.io.PrintWriter">logWriter</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#xsbt.boot;Update.ivy" title="=&gt; org.apache.ivy.Ivy{def getLoggerEngine(): xsbt.boot.SbtMessageLoggerEngine}">ivy</a>.<span title="()Unit">popContext</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="Pre.scala.html#xsbt.boot.Pre.delete" title="(f: java.io.File)Unit">delete</a><span class="delimiter">(</span><a href="#xsbt.boot;UpdateConfiguration.resolutionCacheBase" title="=&gt; java.io.File">resolutionCacheBase</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="comment">/** Runs update for the specified target (updates either the scala or appliciation jars for building the project) */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(target: xsbt.boot.UpdateTarget, reason: String)xsbt.boot.UpdateResult" id="xsbt.boot;Update.update(539b47c7b5)">update</a><span class="delimiter">(</span><a title="xsbt.boot.UpdateTarget" id="xsbt.boot;Update.update(539b47c7b5).target">target</a>: <a href="#xsbt.boot;UpdateTarget" title="xsbt.boot.UpdateTarget">UpdateTarget</a>, <a title="String" id="xsbt.boot;Update.update(539b47c7b5).reason">reason</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#xsbt.boot;UpdateResult" title="xsbt.boot.UpdateResult">UpdateResult</a> =
    <span class="delimiter">{</span>
      <span class="keyword">import</span> <span title="org.apache.ivy.core.module.descriptor.Configuration.type">IvyConfiguration</span>.<span title="org.apache.ivy.core.module.descriptor.Configuration.Visibility.type">Visibility</span>.PUBLIC
      <span class="comment">// the actual module id here is not that important</span>
      <span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="xsbt.boot;Update.update(539b47c7b5).moduleID">moduleID</a> = <span title="(x$1: org.apache.ivy.core.module.id.ModuleRevisionId, x$2: String, x$3: java.util.Date, x$4: Boolean)org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.createID" title="(organization: String, name: String, revision: String)org.apache.ivy.core.module.id.ModuleRevisionId">createID</a><span class="delimiter">(</span><a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.SbtOrg" title="=&gt; String">SbtOrg</a>, <span title="String(&quot;boot-&quot;)" class="string">&quot;boot-&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;Update.update(539b47c7b5).target" title="xsbt.boot.UpdateTarget">target</a>.<a href="#xsbt.boot;UpdateTarget.tpe" title="=&gt; String">tpe</a>, <span title="String(&quot;1.0&quot;)" class="string">&quot;1.0&quot;</span><span class="delimiter">)</span>, <span title="String(&quot;release&quot;)" class="string">&quot;release&quot;</span>, <span title="Null(null)" class="keyword">null</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.update(539b47c7b5).moduleID" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<span title="(x$1: Long)Unit">setLastModified</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.update(539b47c7b5).moduleID" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<span title="(x$1: org.apache.ivy.core.module.descriptor.Configuration)Unit">addConfiguration</span><span class="delimiter">(</span><span title="(x$1: String, x$2: org.apache.ivy.core.module.descriptor.Configuration.Visibility, x$3: String, x$4: Array[String], x$5: Boolean, x$6: String)org.apache.ivy.core.module.descriptor.Configuration" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.Configuration">IvyConfiguration</span><span class="delimiter">(</span><a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.DefaultIvyConfiguration" title="=&gt; String">DefaultIvyConfiguration</a>, <span title="org.apache.ivy.core.module.descriptor.Configuration.Visibility">PUBLIC</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Array[String]" class="keyword">new</span> <span title="Array[String]">Array</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="comment">// add dependencies based on which target needs updating</span>
      <span class="keyword">val</span> <a title="org.apache.ivy.core.module.id.ModuleId" id="xsbt.boot;Update.update(539b47c7b5).dep">dep</a> = <a href="#xsbt.boot;Update.update(539b47c7b5).target" title="xsbt.boot.UpdateTarget">target</a> <span title="org.apache.ivy.core.module.id.ModuleId" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="xsbt.boot.UpdateScala">u</span>: <a href="#xsbt.boot;UpdateScala" title="xsbt.boot.UpdateScala">UpdateScala</a> =&gt;
          <span class="keyword">val</span> <a title="String" id="xsbt.boot;Update.update(539b47c7b5).dep.scalaVersion">scalaVersion</a> = <a href="#xsbt.boot;UpdateConfiguration.getScalaVersion" title="=&gt; String">getScalaVersion</a>
          <a href="#xsbt.boot;Update.addDependency" title="(moduleID: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, organization: String, name: String, revision: String, conf: String, classifiers: List[String])org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">addDependency</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.update(539b47c7b5).moduleID" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#xsbt.boot;UpdateConfiguration.scalaOrg" title="=&gt; String">scalaOrg</a>, <a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.CompilerModuleName" title="=&gt; String">CompilerModuleName</a>, <a href="#xsbt.boot;Update.update(539b47c7b5).dep.scalaVersion" title="String">scalaVersion</a>, <span title="String(&quot;default;optional(default)&quot;)" class="string">&quot;default;optional(default)&quot;</span>, <span title="xsbt.boot.UpdateScala">u</span>.<a href="#xsbt.boot;UpdateScala.classifiers" title="=&gt; List[String]">classifiers</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">ddesc</span> = <a href="#xsbt.boot;Update.addDependency" title="(moduleID: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, organization: String, name: String, revision: String, conf: String, classifiers: List[String])org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">addDependency</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.update(539b47c7b5).moduleID" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#xsbt.boot;UpdateConfiguration.scalaOrg" title="=&gt; String">scalaOrg</a>, <a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.LibraryModuleName" title="=&gt; String">LibraryModuleName</a>, <a href="#xsbt.boot;Update.update(539b47c7b5).dep.scalaVersion" title="String">scalaVersion</a>, <span title="String(&quot;default&quot;)" class="string">&quot;default&quot;</span>, <span title="xsbt.boot.UpdateScala">u</span>.<a href="#xsbt.boot;UpdateScala.classifiers" title="=&gt; List[String]">classifiers</a><span class="delimiter">)</span>
          <a href="#xsbt.boot;Update.excludeJUnit" title="(module: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit">excludeJUnit</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.update(539b47c7b5).moduleID" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="String" id="xsbt.boot;Update.update(539b47c7b5).dep.scalaOrgString">scalaOrgString</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#xsbt.boot;UpdateConfiguration.scalaOrg" title="=&gt; String">scalaOrg</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.ScalaOrg" title="=&gt; String">ScalaOrg</a><span class="delimiter">)</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;UpdateConfiguration.scalaOrg" title="=&gt; String">scalaOrg</a> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
          <span title="System.type">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Getting&quot;)" class="string">&quot;Getting&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;Update.update(539b47c7b5).dep.scalaOrgString" title="String">scalaOrgString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; Scala &quot;)" class="string">&quot; Scala &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;Update.update(539b47c7b5).dep.scalaVersion" title="String">scalaVersion</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;Update.update(539b47c7b5).reason" title="String">reason</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;...&quot;)" class="string">&quot;...&quot;</span><span class="delimiter">)</span>
          <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">ddesc</span>.<span title="()org.apache.ivy.core.module.id.ModuleId">getDependencyId</span>
        <span class="keyword">case</span> <span title="xsbt.boot.UpdateApp">u</span>: <a href="#xsbt.boot;UpdateApp" title="xsbt.boot.UpdateApp">UpdateApp</a> =&gt;
          <span class="keyword">val</span> <a title="xsbt.boot.Application" id="xsbt.boot;Update.update(539b47c7b5).dep.app">app</a> = <span title="xsbt.boot.UpdateApp">u</span>.<a href="#xsbt.boot;UpdateApp.id" title="=&gt; xsbt.boot.Application">id</a>
          <span class="keyword">val</span> <a title="String" id="xsbt.boot;Update.update(539b47c7b5).dep.resolvedName">resolvedName</a> = <span title="(_1: xsbti.CrossValue, _2: Option[String])(xsbti.CrossValue, Option[String])" class="delimiter">(</span><a href="#xsbt.boot;Update.update(539b47c7b5).dep.app" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#xsbt.boot;Application.crossVersioned" title="=&gt; xsbti.CrossValue">crossVersioned</a>, <a href="#xsbt.boot;UpdateConfiguration.scalaVersion" title="=&gt; Option[String]">scalaVersion</a><span class="delimiter">)</span> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span class="delimiter">(</span>xsbti.CrossValue.<span title="xsbti.CrossValue(Full)">Full</span>, Some<span class="delimiter">(</span><span title="String">sv</span><span class="delimiter">)</span><span class="delimiter">)</span>   =&gt; <a href="#xsbt.boot;Update.update(539b47c7b5).dep.app" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#xsbt.boot;Application.name" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;_&quot;)" class="string">&quot;_&quot;</span> <span title="(x$1: Any)String">+</span> <span title="String">sv</span>
            <span class="keyword">case</span> <span class="delimiter">(</span>xsbti.CrossValue.<span title="xsbti.CrossValue(Binary)">Binary</span>, Some<span class="delimiter">(</span><span title="String">sv</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#xsbt.boot;Update.update(539b47c7b5).dep.app" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#xsbt.boot;Application.name" title="=&gt; String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;_&quot;)" class="string">&quot;_&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../CrossVersionUtil.scala.html#xsbt.boot.CrossVersionUtil" title="xsbt.boot.CrossVersionUtil.type">CrossVersionUtil</a>.<a href="../../CrossVersionUtil.scala.html#xsbt.boot.CrossVersionUtil.binaryScalaVersion" title="(full: String)String">binaryScalaVersion</a><span class="delimiter">(</span><span title="String">sv</span><span class="delimiter">)</span>
            <span class="keyword">case</span> _                                   =&gt; <a href="#xsbt.boot;Update.update(539b47c7b5).dep.app" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#xsbt.boot;Application.name" title="=&gt; String">name</a>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">ddesc</span> = <a href="#xsbt.boot;Update.addDependency" title="(moduleID: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, organization: String, name: String, revision: String, conf: String, classifiers: List[String])org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">addDependency</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.update(539b47c7b5).moduleID" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#xsbt.boot;Update.update(539b47c7b5).dep.app" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#xsbt.boot;Application.groupID" title="=&gt; String">groupID</a>, <a href="#xsbt.boot;Update.update(539b47c7b5).dep.resolvedName" title="String">resolvedName</a>, <a href="#xsbt.boot;Update.update(539b47c7b5).dep.app" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#xsbt.boot;Application.getVersion" title="=&gt; String">getVersion</a>, <span title="String(&quot;default(compile)&quot;)" class="string">&quot;default(compile)&quot;</span>, <span title="xsbt.boot.UpdateApp">u</span>.<a href="#xsbt.boot;UpdateApp.classifiers" title="=&gt; List[String]">classifiers</a><span class="delimiter">)</span>
          <span title="System.type">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Getting &quot;)" class="string">&quot;Getting &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;Update.update(539b47c7b5).dep.app" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#xsbt.boot;Application.groupID" title="=&gt; String">groupID</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;Update.update(539b47c7b5).dep.resolvedName" title="String">resolvedName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;Update.update(539b47c7b5).dep.app" title="xsbt.boot.Application">app</a>.<a href="LaunchConfiguration.scala.html#xsbt.boot;Application.getVersion" title="=&gt; String">getVersion</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;Update.update(539b47c7b5).reason" title="String">reason</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;...&quot;)" class="string">&quot;...&quot;</span><span class="delimiter">)</span>
          <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">ddesc</span>.<span title="()org.apache.ivy.core.module.id.ModuleId">getDependencyId</span>
      <span class="delimiter">}</span>
      <a href="#xsbt.boot;Update.update(d2fe0dfba6)" title="(moduleID: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, target: xsbt.boot.UpdateTarget, dep: org.apache.ivy.core.module.id.ModuleId)xsbt.boot.UpdateResult">update</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.update(539b47c7b5).moduleID" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#xsbt.boot;Update.update(539b47c7b5).target" title="xsbt.boot.UpdateTarget">target</a>, <a href="#xsbt.boot;Update.update(539b47c7b5).dep" title="org.apache.ivy.core.module.id.ModuleId">dep</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="comment">/** Runs the resolve and retrieve for the given moduleID, which has had its dependencies added already. */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(moduleID: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, target: xsbt.boot.UpdateTarget, dep: org.apache.ivy.core.module.id.ModuleId)xsbt.boot.UpdateResult" id="xsbt.boot;Update.update(d2fe0dfba6)">update</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="xsbt.boot;Update.update(d2fe0dfba6).moduleID">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="xsbt.boot.UpdateTarget" id="xsbt.boot;Update.update(d2fe0dfba6).target">target</a>: <a href="#xsbt.boot;UpdateTarget" title="xsbt.boot.UpdateTarget">UpdateTarget</a>, <a title="org.apache.ivy.core.module.id.ModuleId" id="xsbt.boot;Update.update(d2fe0dfba6).dep">dep</a>: <span title="org.apache.ivy.core.module.id.ModuleId">ModuleId</span><span class="delimiter">)</span>: <a href="#xsbt.boot;UpdateResult" title="xsbt.boot.UpdateResult">UpdateResult</a> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.ivy.core.event.EventManager" id="xsbt.boot;Update.update(d2fe0dfba6).eventManager">eventManager</a> = <span title="org.apache.ivy.core.event.EventManager" class="keyword">new</span> <span title="org.apache.ivy.core.event.EventManager">EventManager</span>
      <span class="keyword">val</span> <a href="#xsbt.boot;Update.update(d2fe0dfba6).autoScalaVersion" title="(Option[String], Option[String])" class="delimiter">(</a><a href="#xsbt.boot;Update.update(d2fe0dfba6).x$2" title="Option[String]" id="xsbt.boot;Update.update(d2fe0dfba6).autoScalaVersion">autoScalaVersion</a>, <a href="#xsbt.boot;Update.update(d2fe0dfba6).x$2" title="Option[String]" id="xsbt.boot;Update.update(d2fe0dfba6).depVersion">depVersion</a><span class="delimiter">)</span> = <a href="#xsbt.boot;Update.resolve" title="(eventManager: org.apache.ivy.core.event.EventManager, module: org.apache.ivy.core.module.descriptor.ModuleDescriptor, dep: org.apache.ivy.core.module.id.ModuleId)(Option[String], Option[String])">resolve</a><span title="(Option[String], Option[String]) @unchecked" class="delimiter">(</span><a href="#xsbt.boot;Update.update(d2fe0dfba6).eventManager" title="org.apache.ivy.core.event.EventManager">eventManager</a>, <a href="#xsbt.boot;Update.update(d2fe0dfba6).moduleID" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#xsbt.boot;Update.update(d2fe0dfba6).dep" title="org.apache.ivy.core.module.id.ModuleId">dep</a><span class="delimiter">)</span>
      <span class="comment">// Fix up target.id with the depVersion that we know for sure is resolved (not dynamic) -- this way, `retrieve`</span>
      <span class="comment">// will put them in the right version directory.</span>
      <span class="keyword">val</span> <a title="xsbt.boot.UpdateTarget" id="xsbt.boot;Update.update(d2fe0dfba6).target1">target1</a> = <span title="(_1: Option[String], _2: xsbt.boot.UpdateTarget)(Option[String], xsbt.boot.UpdateTarget)" class="delimiter">(</span><a href="#xsbt.boot;Update.update(d2fe0dfba6).depVersion" title="Option[String]">depVersion</a>, <a href="#xsbt.boot;Update.update(d2fe0dfba6).target" title="xsbt.boot.UpdateTarget">target</a><span class="delimiter">)</span> <span title="xsbt.boot.UpdateTarget" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span class="delimiter">(</span>Some<span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.update(d2fe0dfba6).target1.dv">dv</a><span class="delimiter">)</span>, <a title="xsbt.boot.UpdateApp" id="xsbt.boot;Update.update(d2fe0dfba6).target1.u">u</a>: <a href="#xsbt.boot;UpdateApp" title="xsbt.boot.UpdateApp">UpdateApp</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">import</span> <a href="#xsbt.boot;Update.update(d2fe0dfba6).target1.u" title="xsbt.boot.UpdateApp">u</a>._; <span title="xsbt.boot.UpdateApp" class="keyword">new</span> <a href="#xsbt.boot;UpdateApp" title="xsbt.boot.UpdateApp">UpdateApp</a><span class="delimiter">(</span><a href="#xsbt.boot;UpdateApp.id" title="=&gt; xsbt.boot.Application">id</a>.<a href="LaunchConfiguration.scala.html#xsbt.boot;Application.copy$default$1" title="String" id="xsbt.boot;Update.update(d2fe0dfba6).target1.x$13">copy</a><span class="delimiter">(</span>version = <a title="xsbt.boot.Explicit[String] @scala.reflect.internal.annotations.uncheckedBounds" id="xsbt.boot;Update.update(d2fe0dfba6).target1.x$7" class="keyword">new</a> <a href="LaunchConfiguration.scala.html#xsbt.boot;Explicit" title="xsbt.boot.Explicit[String]">Explicit</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.update(d2fe0dfba6).target1.dv" title="String">dv</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#xsbt.boot;UpdateApp.classifiers" title="=&gt; List[String]">classifiers</a>, <a href="#xsbt.boot;UpdateApp.tpe" title="=&gt; String">tpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt; <a href="#xsbt.boot;Update.update(d2fe0dfba6).target" title="xsbt.boot.UpdateTarget">target</a>
      <span class="delimiter">}</span>
      <a href="#xsbt.boot;Update.setScalaVariable" title="(settings: org.apache.ivy.core.settings.IvySettings, scalaVersion: Option[String])Unit">setScalaVariable</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.settings" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#xsbt.boot;Update.update(d2fe0dfba6).autoScalaVersion" title="Option[String]">autoScalaVersion</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.retrieve" title="(eventManager: org.apache.ivy.core.event.EventManager, module: org.apache.ivy.core.module.descriptor.ModuleDescriptor, target: xsbt.boot.UpdateTarget, autoScalaVersion: Option[String])Unit">retrieve</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.update(d2fe0dfba6).eventManager" title="org.apache.ivy.core.event.EventManager">eventManager</a>, <a href="#xsbt.boot;Update.update(d2fe0dfba6).moduleID" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#xsbt.boot;Update.update(d2fe0dfba6).target1" title="xsbt.boot.UpdateTarget">target1</a>, <a href="#xsbt.boot;Update.update(d2fe0dfba6).autoScalaVersion" title="Option[String]">autoScalaVersion</a><span class="delimiter">)</span>
      <span title="xsbt.boot.UpdateResult" class="keyword">new</span> <a href="#xsbt.boot;UpdateResult" title="xsbt.boot.UpdateResult">UpdateResult</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <a href="#xsbt.boot;Update.update(d2fe0dfba6).autoScalaVersion" title="Option[String]">autoScalaVersion</a>, <a href="#xsbt.boot;Update.update(d2fe0dfba6).depVersion" title="Option[String]">depVersion</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(organization: String, name: String, revision: String)org.apache.ivy.core.module.id.ModuleRevisionId" id="xsbt.boot;Update.createID">createID</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.createID.organization">organization</a>: <span title="String">String</span>, <a title="String" id="xsbt.boot;Update.createID.name">name</a>: <span title="String">String</span>, <a title="String" id="xsbt.boot;Update.createID.revision">revision</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <span title="org.apache.ivy.core.module.id.ModuleRevisionId.type">ModuleRevisionId</span>.<span title="(x$1: String, x$2: String, x$3: String)org.apache.ivy.core.module.id.ModuleRevisionId">newInstance</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.createID.organization" title="String">organization</a>, <a href="#xsbt.boot;Update.createID.name" title="String">name</a>, <a href="#xsbt.boot;Update.createID.revision" title="String">revision</a><span class="delimiter">)</span>
  <span class="comment">/** Adds the given dependency to the default configuration of 'moduleID'. */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(moduleID: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor, organization: String, name: String, revision: String, conf: String, classifiers: List[String])org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" id="xsbt.boot;Update.addDependency">addDependency</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="xsbt.boot;Update.addDependency.moduleID">moduleID</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span>, <a title="String" id="xsbt.boot;Update.addDependency.organization">organization</a>: <span title="String">String</span>, <a title="String" id="xsbt.boot;Update.addDependency.name">name</a>: <span title="String">String</span>, <a title="String" id="xsbt.boot;Update.addDependency.revision">revision</a>: <span title="String">String</span>, <a title="String" id="xsbt.boot;Update.addDependency.conf">conf</a>: <span title="String">String</span>, <a title="List[String]" id="xsbt.boot;Update.addDependency.classifiers">classifiers</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" id="xsbt.boot;Update.addDependency.dep">dep</a> = <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">DefaultDependencyDescriptor</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.addDependency.moduleID" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>, <a href="#xsbt.boot;Update.createID" title="(organization: String, name: String, revision: String)org.apache.ivy.core.module.id.ModuleRevisionId">createID</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.addDependency.organization" title="String">organization</a>, <a href="#xsbt.boot;Update.addDependency.name" title="String">name</a>, <a href="#xsbt.boot;Update.addDependency.revision" title="String">revision</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.addDependency.$anonfun.c">c</a> &lt;- <a href="#xsbt.boot;Update.addDependency.conf" title="String">conf</a>.<span title="(x$1: String)Array[String]">split</span><span title="(f: String =&gt; Unit)Unit" class="delimiter">(</span><span title="String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#xsbt.boot;Update.addDependency.dep" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dep</a>.<span title="(x$1: String, x$2: String)Unit">addDependencyConfiguration</span><span class="delimiter">(</span><a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.DefaultIvyConfiguration" title="=&gt; String">DefaultIvyConfiguration</a>, <a href="#xsbt.boot;Update.addDependency.$anonfun.c" title="String">c</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.addDependency.$anonfun.classifier">classifier</a> &lt;- <a href="#xsbt.boot;Update.addDependency.classifiers" title="(f: String =&gt; Unit)Unit">classifiers</a><span class="delimiter">)</span>
        <a href="#xsbt.boot;Update.addClassifier" title="(dep: org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor, name: String, classifier: String)Unit">addClassifier</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.addDependency.dep" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dep</a>, <a href="#xsbt.boot;Update.addDependency.name" title="String">name</a>, <a href="#xsbt.boot;Update.addDependency.$anonfun.classifier" title="String">classifier</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.addDependency.moduleID" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">moduleID</a>.<span title="(x$1: org.apache.ivy.core.module.descriptor.DependencyDescriptor)Unit">addDependency</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.addDependency.dep" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dep</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.addDependency.dep" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dep</a>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(dep: org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor, name: String, classifier: String)Unit" id="xsbt.boot;Update.addClassifier">addClassifier</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor" id="xsbt.boot;Update.addClassifier.dep">dep</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">DefaultDependencyDescriptor</span>, <a title="String" id="xsbt.boot;Update.addClassifier.name">name</a>: <span title="String">String</span>, <a title="String" id="xsbt.boot;Update.addClassifier.classifier">classifier</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.util.HashMap[String,String]" id="xsbt.boot;Update.addClassifier.extraMap">extraMap</a> = <span title="()java.util.HashMap[String,String]" class="keyword">new</span> java.util.<span title="java.util.HashMap[String,String]">HashMap</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Pre.scala.html#xsbt.boot.Pre.isEmpty" title="(line: String)Boolean">isEmpty</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.addClassifier.classifier" title="String">classifier</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.addClassifier.extraMap" title="java.util.HashMap[String,String]">extraMap</a>.<span title="(x$1: String, x$2: String)String">put</span><span class="delimiter">(</span><span title="String(&quot;e:classifier&quot;)" class="string">&quot;e:classifier&quot;</span>, <a href="#xsbt.boot;Update.addClassifier.classifier" title="String">classifier</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" id="xsbt.boot;Update.addClassifier.ivyArtifact">ivyArtifact</a> = <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor">DefaultDependencyArtifactDescriptor</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.addClassifier.dep" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dep</a>, <a href="#xsbt.boot;Update.addClassifier.name" title="String">name</a>, <a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.artifactType" title="(classifier: String)String">artifactType</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.addClassifier.classifier" title="String">classifier</a><span class="delimiter">)</span>, <span title="String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span>, <span title="Null(null)" class="keyword">null</span>, <a href="#xsbt.boot;Update.addClassifier.extraMap" title="java.util.HashMap[String,String]">extraMap</a><span class="delimiter">)</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.addClassifier.$anonfun.conf">conf</a> &lt;- <a href="#xsbt.boot;Update.addClassifier.dep" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dep</a>.<span title="(f: String =&gt; Unit)Unit">getModuleConfigurations</span><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.addClassifier.dep" title="org.apache.ivy.core.module.descriptor.DefaultDependencyDescriptor">dep</a>.<span title="(x$1: String, x$2: org.apache.ivy.core.module.descriptor.DependencyArtifactDescriptor)Unit">addDependencyArtifact</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.addClassifier.$anonfun.conf" title="String">conf</a>, <a href="#xsbt.boot;Update.addClassifier.ivyArtifact" title="org.apache.ivy.core.module.descriptor.DefaultDependencyArtifactDescriptor">ivyArtifact</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(module: org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor)Unit" id="xsbt.boot;Update.excludeJUnit">excludeJUnit</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor" id="xsbt.boot;Update.excludeJUnit.module">module</a>: <span title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">DefaultModuleDescriptor</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#xsbt.boot;Update.excludeJUnit.module" title="org.apache.ivy.core.module.descriptor.DefaultModuleDescriptor">module</a>.<span title="(x$1: org.apache.ivy.core.module.descriptor.ExcludeRule)Unit">addExcludeRule</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.excludeRule" title="(organization: String, name: String)org.apache.ivy.core.module.descriptor.ExcludeRule">excludeRule</a><span class="delimiter">(</span><a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.JUnitName" title="=&gt; String">JUnitName</a>, <a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.JUnitName" title="=&gt; String">JUnitName</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(organization: String, name: String)org.apache.ivy.core.module.descriptor.ExcludeRule" id="xsbt.boot;Update.excludeRule">excludeRule</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.excludeRule.organization">organization</a>: <span title="String">String</span>, <a title="String" id="xsbt.boot;Update.excludeRule.name">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="org.apache.ivy.core.module.descriptor.ExcludeRule">ExcludeRule</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.ivy.core.module.id.ArtifactId" id="xsbt.boot;Update.excludeRule.artifact">artifact</a> = <span title="org.apache.ivy.core.module.id.ArtifactId" class="keyword">new</span> <span title="org.apache.ivy.core.module.id.ArtifactId">ArtifactId</span><span class="delimiter">(</span><span title="org.apache.ivy.core.module.id.ModuleId.type">ModuleId</span>.<span title="(x$1: String, x$2: String)org.apache.ivy.core.module.id.ModuleId">newInstance</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.excludeRule.organization" title="String">organization</a>, <a href="#xsbt.boot;Update.excludeRule.name" title="String">name</a><span class="delimiter">)</span>, <span title="String(&quot;*&quot;)" class="string">&quot;*&quot;</span>, <span title="String(&quot;*&quot;)" class="string">&quot;*&quot;</span>, <span title="String(&quot;*&quot;)" class="string">&quot;*&quot;</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.DefaultExcludeRule" id="xsbt.boot;Update.excludeRule.rule">rule</a> = <span title="org.apache.ivy.core.module.descriptor.DefaultExcludeRule" class="keyword">new</span> <span title="org.apache.ivy.core.module.descriptor.DefaultExcludeRule">DefaultExcludeRule</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.excludeRule.artifact" title="org.apache.ivy.core.module.id.ArtifactId">artifact</a>, <span title="org.apache.ivy.plugins.matcher.ExactPatternMatcher.type">ExactPatternMatcher</span>.<span title="org.apache.ivy.plugins.matcher.ExactPatternMatcher">INSTANCE</span>, java.util.<span title="java.util.Collections.type">Collections</span>.<span title="[K, V]()java.util.Map[K,V]">emptyMap</span><span title="()java.util.Map[AnyRef,AnyRef]" class="delimiter">[</span><span title="AnyRef">AnyRef</span>, <span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.excludeRule.rule" title="org.apache.ivy.core.module.descriptor.DefaultExcludeRule">rule</a>.<span title="(x$1: String)Unit">addConfiguration</span><span class="delimiter">(</span><a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.DefaultIvyConfiguration" title="=&gt; String">DefaultIvyConfiguration</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.excludeRule.rule" title="org.apache.ivy.core.module.descriptor.DefaultExcludeRule">rule</a>
    <span class="delimiter">}</span>
  <span class="keyword">val</span> <a title="org.apache.ivy.core.module.id.ModuleId" id="xsbt.boot;Update.scalaLibraryId">scalaLibraryId</a> = <span title="org.apache.ivy.core.module.id.ModuleId.type">ModuleId</span>.<span title="(x$1: String, x$2: String)org.apache.ivy.core.module.id.ModuleId">newInstance</span><span class="delimiter">(</span><a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.ScalaOrg" title="=&gt; String">ScalaOrg</a>, <a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.LibraryModuleName" title="=&gt; String">LibraryModuleName</a><span class="delimiter">)</span>
  <span class="comment">// Returns the version of the scala library, as well as `dep` (a dependency of `module`) after it's been resolved</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(eventManager: org.apache.ivy.core.event.EventManager, module: org.apache.ivy.core.module.descriptor.ModuleDescriptor, dep: org.apache.ivy.core.module.id.ModuleId)(Option[String], Option[String])" id="xsbt.boot;Update.resolve">resolve</a><span class="delimiter">(</span><a title="org.apache.ivy.core.event.EventManager" id="xsbt.boot;Update.resolve.eventManager">eventManager</a>: <span title="org.apache.ivy.core.event.EventManager">EventManager</span>, <a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="xsbt.boot;Update.resolve.module">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="org.apache.ivy.core.module.id.ModuleId" id="xsbt.boot;Update.resolve.dep">dep</a>: <span title="org.apache.ivy.core.module.id.ModuleId">ModuleId</span><span class="delimiter">)</span>: <span title="(Option[String], Option[String])" class="delimiter">(</span>Option<span class="delimiter">[</span>String<span class="delimiter">]</span>, Option<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.ivy.core.resolve.ResolveOptions" id="xsbt.boot;Update.resolve.resolveOptions">resolveOptions</a> = <span title="org.apache.ivy.core.resolve.ResolveOptions" class="keyword">new</span> <span title="org.apache.ivy.core.resolve.ResolveOptions">ResolveOptions</span>
      <span class="comment">// this reduces the substantial logging done by Ivy, including the progress dots when downloading artifacts</span>
      <a href="#xsbt.boot;Update.resolve.resolveOptions" title="org.apache.ivy.core.resolve.ResolveOptions">resolveOptions</a>.<span title="(x$1: String)org.apache.ivy.core.LogOptions">setLog</span><span class="delimiter">(</span>LogOptions.<span title="String(&quot;download-only&quot;)">LOG_DOWNLOAD_ONLY</span><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.resolve.resolveOptions" title="org.apache.ivy.core.resolve.ResolveOptions">resolveOptions</a>.<span title="(x$1: Boolean)org.apache.ivy.core.resolve.ResolveOptions">setCheckIfChanged</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="org.apache.ivy.core.resolve.ResolveEngine" id="xsbt.boot;Update.resolve.resolveEngine">resolveEngine</a> = <span title="org.apache.ivy.core.resolve.ResolveEngine" class="keyword">new</span> <span title="org.apache.ivy.core.resolve.ResolveEngine">ResolveEngine</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.settings" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#xsbt.boot;Update.resolve.eventManager" title="org.apache.ivy.core.event.EventManager">eventManager</a>, <span title="org.apache.ivy.core.sort.SortEngine" class="keyword">new</span> <span title="org.apache.ivy.core.sort.SortEngine">SortEngine</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.settings" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="org.apache.ivy.core.report.ResolveReport" id="xsbt.boot;Update.resolve.resolveReport">resolveReport</a> = <a href="#xsbt.boot;Update.resolve.resolveEngine" title="org.apache.ivy.core.resolve.ResolveEngine">resolveEngine</a>.<span title="(x$1: org.apache.ivy.core.module.descriptor.ModuleDescriptor, x$2: org.apache.ivy.core.resolve.ResolveOptions)org.apache.ivy.core.report.ResolveReport">resolve</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.resolve.module" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>, <a href="#xsbt.boot;Update.resolve.resolveOptions" title="org.apache.ivy.core.resolve.ResolveOptions">resolveOptions</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#xsbt.boot;Update.resolve.resolveReport" title="org.apache.ivy.core.report.ResolveReport">resolveReport</a>.<span title="()Boolean">hasError</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#xsbt.boot;Update.logExceptions" title="(report: org.apache.ivy.core.report.ResolveReport)Unit">logExceptions</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.resolve.resolveReport" title="org.apache.ivy.core.report.ResolveReport">resolveReport</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="java.util.LinkedHashSet[Any]" id="xsbt.boot;Update.resolve.seen">seen</a> = <span title="()java.util.LinkedHashSet[Any]" class="keyword">new</span> java.util.<span title="java.util.LinkedHashSet[Any]">LinkedHashSet</span><span class="delimiter">[</span>Any<span class="delimiter">]</span>
        <a href="#xsbt.boot;Update.resolve.seen" title="java.util.LinkedHashSet[Any]">seen</a>.<span title="(x$1: java.util.Collection[_])Boolean">addAll</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.resolve.resolveReport" title="org.apache.ivy.core.report.ResolveReport">resolveReport</a>.<span title="()java.util.List[_]">getAllProblemMessages</span><span class="delimiter">)</span>
        <span title="System.type">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.resolve.seen" title="java.util.LinkedHashSet[Any]">seen</a>.<span title="(xs: Array[Object])scala.collection.mutable.ArrayOps[Object]">toArray</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;line.separator&quot;)" class="string">&quot;line.separator&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="Pre.scala.html#xsbt.boot.Pre.error" title="(msg: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Error retrieving required libraries&quot;)" class="string">&quot;Error retrieving required libraries&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Seq[org.apache.ivy.core.module.id.ModuleRevisionId]" id="xsbt.boot;Update.resolve.modules">modules</a> = <a href="#xsbt.boot;Update.moduleRevisionIDs" title="(report: org.apache.ivy.core.report.ResolveReport)Seq[org.apache.ivy.core.module.id.ModuleRevisionId]">moduleRevisionIDs</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.resolve.resolveReport" title="org.apache.ivy.core.report.ResolveReport">resolveReport</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.extractVersion" title="(modules: Seq[org.apache.ivy.core.module.id.ModuleRevisionId], dep: org.apache.ivy.core.module.id.ModuleId)Option[String]">extractVersion</a><span title="(x: Option[String])ArrowAssoc[Option[String]]" class="delimiter">(</span><a href="#xsbt.boot;Update.resolve.modules" title="Seq[org.apache.ivy.core.module.id.ModuleRevisionId]">modules</a>, <a href="#xsbt.boot;Update.scalaLibraryId" title="=&gt; org.apache.ivy.core.module.id.ModuleId">scalaLibraryId</a><span class="delimiter">)</span> <span title="(y: Option[String])(Option[String], Option[String])">-&gt;</span> <a href="#xsbt.boot;Update.extractVersion" title="(modules: Seq[org.apache.ivy.core.module.id.ModuleRevisionId], dep: org.apache.ivy.core.module.id.ModuleId)Option[String]">extractVersion</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.resolve.modules" title="Seq[org.apache.ivy.core.module.id.ModuleRevisionId]">modules</a>, <a href="#xsbt.boot;Update.resolve.dep" title="org.apache.ivy.core.module.id.ModuleId">dep</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(modules: Seq[org.apache.ivy.core.module.id.ModuleRevisionId], dep: org.apache.ivy.core.module.id.ModuleId)Option[String]" id="xsbt.boot;Update.extractVersion">extractVersion</a><span class="delimiter">(</span><a title="Seq[org.apache.ivy.core.module.id.ModuleRevisionId]" id="xsbt.boot;Update.extractVersion.modules">modules</a>: <span title="Seq[org.apache.ivy.core.module.id.ModuleRevisionId]">Seq</span><span class="delimiter">[</span>ModuleRevisionId<span class="delimiter">]</span>, <a title="org.apache.ivy.core.module.id.ModuleId" id="xsbt.boot;Update.extractVersion.dep">dep</a>: <span title="org.apache.ivy.core.module.id.ModuleId">ModuleId</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span class="delimiter">{</span>
      <a href="#xsbt.boot;Update.extractVersion.modules" title="Seq[org.apache.ivy.core.module.id.ModuleRevisionId]">modules</a> <span title="(pf: PartialFunction[org.apache.ivy.core.module.id.ModuleRevisionId,String])Option[String]">collectFirst</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[org.apache.ivy.core.module.id.ModuleRevisionId,String] with Serializable" id="xsbt.boot;Update.extractVersion;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> <span class="keyword">case</span> <a title="org.apache.ivy.core.module.id.ModuleRevisionId" id="xsbt.boot;Update.extractVersion;$anonfun.isDefinedAt.m">m</a> <span class="keyword">if</span> <a href="#xsbt.boot;Update.extractVersion;$anonfun.isDefinedAt.m" title="org.apache.ivy.core.module.id.ModuleRevisionId">m</a>.<span title="()org.apache.ivy.core.module.id.ModuleId">getModuleId</span>.<span title="(x$1: Any)Boolean">equals</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.extractVersion.dep" title="org.apache.ivy.core.module.id.ModuleId">dep</a><span class="delimiter">)</span> =&gt; <a href="#xsbt.boot;Update.extractVersion;$anonfun.isDefinedAt.m" title="org.apache.ivy.core.module.id.ModuleRevisionId">m</a>.<span title="()String">getRevision</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(report: org.apache.ivy.core.report.ResolveReport)Seq[org.apache.ivy.core.module.id.ModuleRevisionId]" id="xsbt.boot;Update.moduleRevisionIDs">moduleRevisionIDs</a><span class="delimiter">(</span><a title="org.apache.ivy.core.report.ResolveReport" id="xsbt.boot;Update.moduleRevisionIDs.report">report</a>: <span title="org.apache.ivy.core.report.ResolveReport">ResolveReport</span><span class="delimiter">)</span>: <span title="Seq[org.apache.ivy.core.module.id.ModuleRevisionId]">Seq</span><span class="delimiter">[</span>ModuleRevisionId<span class="delimiter">]</span> =
    <span class="delimiter">{</span>
      <span class="keyword">import</span> collection.<span title="scala.collection.JavaConverters.type">JavaConverters</span>._
      <span class="keyword">import</span> org.apache.ivy.core.resolve.IvyNode
      <a href="#xsbt.boot;Update.moduleRevisionIDs.report" title="org.apache.ivy.core.report.ResolveReport">report</a>.<span title="()java.util.List[_]">getDependencies</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="(l: java.util.List[org.apache.ivy.core.resolve.IvyNode])scala.collection.convert.Decorators.AsScala[scala.collection.mutable.Buffer[org.apache.ivy.core.resolve.IvyNode]]" class="delimiter">[</span>java.util.<span title="java.util.List[org.apache.ivy.core.resolve.IvyNode]">List</span><span class="delimiter">[</span>IvyNode<span class="delimiter">]</span><span class="delimiter">]</span>.<span title="=&gt; scala.collection.mutable.Buffer[org.apache.ivy.core.resolve.IvyNode]">asScala</span> <span title="(f: org.apache.ivy.core.resolve.IvyNode =&gt; org.apache.ivy.core.module.id.ModuleRevisionId)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Buffer[org.apache.ivy.core.resolve.IvyNode],org.apache.ivy.core.module.id.ModuleRevisionId,Seq[org.apache.ivy.core.module.id.ModuleRevisionId]])Seq[org.apache.ivy.core.module.id.ModuleRevisionId]">map</span> <span class="delimiter">(</span><a href="#xsbt.boot;Update.moduleRevisionIDs.$anonfun.x$3" title="org.apache.ivy.core.resolve.IvyNode">_</a>.<span title="()org.apache.ivy.core.module.id.ModuleRevisionId">getResolvedId</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Exceptions are logged to the update log file. */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(report: org.apache.ivy.core.report.ResolveReport)Unit" id="xsbt.boot;Update.logExceptions">logExceptions</a><span class="delimiter">(</span><a title="org.apache.ivy.core.report.ResolveReport" id="xsbt.boot;Update.logExceptions.report">report</a>: <span title="org.apache.ivy.core.report.ResolveReport">ResolveReport</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="org.apache.ivy.core.resolve.IvyNode" id="xsbt.boot;Update.logExceptions.$anonfun.unresolved">unresolved</a> &lt;- <a href="#xsbt.boot;Update.logExceptions.report" title="org.apache.ivy.core.report.ResolveReport">report</a>.<span title="(f: org.apache.ivy.core.resolve.IvyNode =&gt; Unit)Unit">getUnresolvedDependencies</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Exception" id="xsbt.boot;Update.logExceptions.$anonfun.problem">problem</a> = <a href="#xsbt.boot;Update.logExceptions.$anonfun.unresolved" title="org.apache.ivy.core.resolve.IvyNode">unresolved</a>.<span title="()Exception">getProblem</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#xsbt.boot;Update.logExceptions.$anonfun.problem" title="Exception">problem</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <a href="#xsbt.boot;Update.logExceptions.$anonfun.problem" title="Exception">problem</a>.<span title="(x$1: java.io.PrintWriter)Unit">printStackTrace</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.logWriter" title="=&gt; java.io.PrintWriter">logWriter</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">class</span> <a title="class ArtifactFilter extends Object with org.apache.ivy.util.filter.Filter" id="xsbt.boot;Update;ArtifactFilter">ArtifactFilter</a><a href="#xsbt.boot;Update;ArtifactFilter" title="Update.this.ArtifactFilter" class="delimiter">(</a><a title="org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean" id="xsbt.boot;Update;ArtifactFilter.f">f</a>: IArtifact =&gt; Boolean<span class="delimiter">)</span> <span class="keyword">extends</span> <span title="org.apache.ivy.util.filter.Filter">Filter</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(o: Any)Boolean" id="xsbt.boot;Update;ArtifactFilter.accept">accept</a><span class="delimiter">(</span><a title="Any" id="xsbt.boot;Update;ArtifactFilter.accept.o">o</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#xsbt.boot;Update;ArtifactFilter.accept.o" title="Any">o</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="org.apache.ivy.core.module.descriptor.Artifact" id="xsbt.boot;Update;ArtifactFilter.accept.a">a</a>: <span title="org.apache.ivy.core.module.descriptor.Artifact">IArtifact</span> =&gt; <a href="#xsbt.boot;Update;ArtifactFilter.f" title="(v1: org.apache.ivy.core.module.descriptor.Artifact)Boolean">f</a><span class="delimiter">(</span><a href="#xsbt.boot;Update;ArtifactFilter.accept.a" title="org.apache.ivy.core.module.descriptor.Artifact">a</a><span class="delimiter">)</span>; <span class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">/** Retrieves resolved dependencies using the given target to determine the location to retrieve to. */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(eventManager: org.apache.ivy.core.event.EventManager, module: org.apache.ivy.core.module.descriptor.ModuleDescriptor, target: xsbt.boot.UpdateTarget, autoScalaVersion: Option[String])Unit" id="xsbt.boot;Update.retrieve">retrieve</a><span class="delimiter">(</span><a title="org.apache.ivy.core.event.EventManager" id="xsbt.boot;Update.retrieve.eventManager">eventManager</a>: <span title="org.apache.ivy.core.event.EventManager">EventManager</span>, <a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="xsbt.boot;Update.retrieve.module">module</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="xsbt.boot.UpdateTarget" id="xsbt.boot;Update.retrieve.target">target</a>: <a href="#xsbt.boot;UpdateTarget" title="xsbt.boot.UpdateTarget">UpdateTarget</a>, <a title="Option[String]" id="xsbt.boot;Update.retrieve.autoScalaVersion">autoScalaVersion</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.apache.ivy.core.retrieve.RetrieveOptions" id="xsbt.boot;Update.retrieve.retrieveOptions">retrieveOptions</a> = <span title="org.apache.ivy.core.retrieve.RetrieveOptions" class="keyword">new</span> <span title="org.apache.ivy.core.retrieve.RetrieveOptions">RetrieveOptions</span>
    <span class="keyword">val</span> <a title="org.apache.ivy.core.retrieve.RetrieveEngine" id="xsbt.boot;Update.retrieve.retrieveEngine">retrieveEngine</a> = <span title="org.apache.ivy.core.retrieve.RetrieveEngine" class="keyword">new</span> <span title="org.apache.ivy.core.retrieve.RetrieveEngine">RetrieveEngine</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.settings" title="=&gt; org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#xsbt.boot;Update.retrieve.eventManager" title="org.apache.ivy.core.event.EventManager">eventManager</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a href="#xsbt.boot;Update.retrieve.pattern" title="(String, org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean)" class="delimiter">(</a><a href="#xsbt.boot;Update.retrieve.x$4" title="String" id="xsbt.boot;Update.retrieve.pattern">pattern</a>, <a href="#xsbt.boot;Update.retrieve.x$4" title="org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean" id="xsbt.boot;Update.retrieve.extraFilter">extraFilter</a><span class="delimiter">)</span> =
      <a href="#xsbt.boot;Update.retrieve.target" title="xsbt.boot.UpdateTarget">target</a> <span title="(String, org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean)" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> _: <a href="#xsbt.boot;UpdateScala" title="xsbt.boot.UpdateScala">UpdateScala</a> =&gt; <span title="(_1: String, _2: Any =&gt; Boolean)(String, Any =&gt; Boolean)" class="delimiter">(</span><a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.scalaRetrievePattern" title="=&gt; String">scalaRetrievePattern</a>, <a href="Pre.scala.html#xsbt.boot.Pre.const" title="(b: Boolean)Any =&gt; Boolean">const</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="xsbt.boot.UpdateApp" id="xsbt.boot;Update.retrieve.x$4.u">u</a>: <a href="#xsbt.boot;UpdateApp" title="xsbt.boot.UpdateApp">UpdateApp</a>   =&gt; <span title="(_1: String, _2: org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean)(String, org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean)" class="delimiter">(</span><a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.appRetrievePattern" title="(appID: xsbti.ApplicationID)String">appRetrievePattern</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.retrieve.x$4.u" title="xsbt.boot.UpdateApp">u</a>.<a href="#xsbt.boot;UpdateApp.id" title="=&gt; xsbt.boot.Application">id</a>.<a href="LaunchConfiguration.scala.html#xsbt.boot;Application.toID" title="=&gt; xsbt.boot.AppID">toID</a><span class="delimiter">)</span>, <a href="#xsbt.boot;Update.notCoreScala" title="(a: org.apache.ivy.core.module.descriptor.Artifact)Boolean">notCoreScala</a> _<span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean" id="xsbt.boot;Update.retrieve.filter">filter</a> = <span class="delimiter">(</span>a: <span title="org.apache.ivy.core.module.descriptor.Artifact">IArtifact</span><span class="delimiter">)</span> =&gt; <a href="#xsbt.boot;Update.retrieveType" title="(tpe: String)Boolean">retrieveType</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.retrieve.filter.$anonfun.a" title="org.apache.ivy.core.module.descriptor.Artifact">a</a>.<span title="()String">getType</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#xsbt.boot;Update.retrieve.filter.$anonfun.a" title="org.apache.ivy.core.module.descriptor.Artifact">a</a>.<span title="(x$1: String)String">getExtraAttribute</span><span class="delimiter">(</span><span title="String(&quot;classifier&quot;)" class="string">&quot;classifier&quot;</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#xsbt.boot;Update.retrieve.extraFilter" title="(v1: org.apache.ivy.core.module.descriptor.Artifact)Boolean">extraFilter</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.retrieve.filter.$anonfun.a" title="org.apache.ivy.core.module.descriptor.Artifact">a</a><span class="delimiter">)</span>
    <a href="#xsbt.boot;Update.retrieve.retrieveOptions" title="org.apache.ivy.core.retrieve.RetrieveOptions">retrieveOptions</a>.<span title="(x$1: org.apache.ivy.util.filter.Filter)org.apache.ivy.core.retrieve.RetrieveOptions">setArtifactFilter</span><span class="delimiter">(</span><span title="Update.this.ArtifactFilter" class="keyword">new</span> <a href="#xsbt.boot;Update;ArtifactFilter" title="Update.this.ArtifactFilter">ArtifactFilter</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.retrieve.filter" title="org.apache.ivy.core.module.descriptor.Artifact =&gt; Boolean">filter</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Option[String]" id="xsbt.boot;Update.retrieve.scalaV">scalaV</a> = <a href="Pre.scala.html#xsbt.boot.Pre.strictOr" title="(a: Option[String], b: Option[String])Option[String]">strictOr</a><span class="delimiter">(</span><a href="#xsbt.boot;UpdateConfiguration.scalaVersion" title="=&gt; Option[String]">scalaVersion</a>, <a href="#xsbt.boot;Update.retrieve.autoScalaVersion" title="Option[String]">autoScalaVersion</a><span class="delimiter">)</span>
    <a href="#xsbt.boot;Update.retrieve.retrieveOptions" title="org.apache.ivy.core.retrieve.RetrieveOptions">retrieveOptions</a>.<span title="(x$1: String)org.apache.ivy.core.retrieve.RetrieveOptions">setDestArtifactPattern</span><span class="delimiter">(</span><a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.baseDirectoryName" title="(scalaOrg: String, scalaVersion: Option[String])String">baseDirectoryName</a><span class="delimiter">(</span><a href="#xsbt.boot;UpdateConfiguration.scalaOrg" title="=&gt; String">scalaOrg</a>, <a href="#xsbt.boot;Update.retrieve.scalaV" title="Option[String]">scalaV</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;Update.retrieve.pattern" title="String">pattern</a><span class="delimiter">)</span>
    <a href="#xsbt.boot;Update.retrieve.retrieveEngine" title="org.apache.ivy.core.retrieve.RetrieveEngine">retrieveEngine</a>.<span title="(x$1: org.apache.ivy.core.module.id.ModuleRevisionId, x$2: org.apache.ivy.core.retrieve.RetrieveOptions)org.apache.ivy.core.retrieve.RetrieveReport">retrieve</span><span title="Unit" class="delimiter">(</span><a href="#xsbt.boot;Update.retrieve.module" title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">module</a>.<span title="()org.apache.ivy.core.module.id.ModuleRevisionId">getModuleRevisionId</span>, <a href="#xsbt.boot;Update.retrieve.retrieveOptions" title="org.apache.ivy.core.retrieve.RetrieveOptions">retrieveOptions</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(a: org.apache.ivy.core.module.descriptor.Artifact)Boolean" id="xsbt.boot;Update.notCoreScala">notCoreScala</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.Artifact" id="xsbt.boot;Update.notCoreScala.a">a</a>: <span title="org.apache.ivy.core.module.descriptor.Artifact">IArtifact</span><span class="delimiter">)</span> = <a href="#xsbt.boot;Update.notCoreScala.a" title="org.apache.ivy.core.module.descriptor.Artifact">a</a>.<span title="()String">getName</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.LibraryModuleName" title="=&gt; String">LibraryModuleName</a> | <a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.CompilerModuleName" title="=&gt; String">CompilerModuleName</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">case</span> _                                      =&gt; <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: String)Boolean" id="xsbt.boot;Update.retrieveType">retrieveType</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.retrieveType.tpe">tpe</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#xsbt.boot;Update.retrieveType.tpe" title="String">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span> <span title="(x: Boolean)Boolean">||</span> <a href="#xsbt.boot;Update.retrieveType.tpe" title="String">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;bundle&quot;)" class="string">&quot;bundle&quot;</span>
  <span class="comment">/** Add the Sonatype OSS repositories */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(settings: org.apache.ivy.core.settings.IvySettings)Unit" id="xsbt.boot;Update.addResolvers">addResolvers</a><span class="delimiter">(</span><a title="org.apache.ivy.core.settings.IvySettings" id="xsbt.boot;Update.addResolvers.settings">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.ChainResolver" id="xsbt.boot;Update.addResolvers.newDefault">newDefault</a> = <a href="#xsbt.boot;Update.addResolvers.newDefault;$anon" title="org.apache.ivy.plugins.resolver.ChainResolver" class="keyword">new</a> <a title="anonymous class $anon extends org.apache.ivy.plugins.resolver.ChainResolver" id="xsbt.boot;Update.addResolvers.newDefault;$anon">ChainResolver</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(artifact: org.apache.ivy.core.module.descriptor.Artifact)org.apache.ivy.core.cache.ArtifactOrigin" id="xsbt.boot;Update.addResolvers.newDefault;$anon.locate">locate</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.Artifact" id="xsbt.boot;Update.addResolvers.newDefault;$anon.locate.artifact">artifact</a>: <span title="org.apache.ivy.core.module.descriptor.Artifact">IArtifact</span><span class="delimiter">)</span> =
        <span title="org.apache.ivy.core.cache.ArtifactOrigin" class="keyword">if</span> <span class="delimiter">(</span><a href="#xsbt.boot;Update.hasImplicitClassifier" title="(artifact: org.apache.ivy.core.module.descriptor.Artifact)Boolean">hasImplicitClassifier</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.addResolvers.newDefault;$anon.locate.artifact" title="org.apache.ivy.core.module.descriptor.Artifact">artifact</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <a href="#xsbt.boot;Update.addResolvers.newDefault;$anon" title="org.apache.ivy.plugins.resolver.ChainResolver" class="keyword">super</a>.<span title="(x$1: org.apache.ivy.core.module.descriptor.Artifact)org.apache.ivy.core.cache.ArtifactOrigin">locate</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.addResolvers.newDefault;$anon.locate.artifact" title="org.apache.ivy.core.module.descriptor.Artifact">artifact</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#xsbt.boot;Update.addResolvers.newDefault" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<span title="(x$1: String)Unit">setName</span><span class="delimiter">(</span><span title="String(&quot;redefined-public&quot;)" class="string">&quot;redefined-public&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#xsbt.boot;UpdateConfiguration.repositories" title="=&gt; List[xsbti.Repository]">repositories</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="Pre.scala.html#xsbt.boot.Pre.error" title="(msg: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;No repositories defined.&quot;)" class="string">&quot;No repositories defined.&quot;</span><span class="delimiter">)</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="xsbti.Repository" id="xsbt.boot;Update.addResolvers.$anonfun.repo">repo</a> &lt;- <a href="#xsbt.boot;UpdateConfiguration.repositories" title="(f: xsbti.Repository =&gt; Unit)Unit">repositories</a> <span class="keyword">if</span> <a href="#xsbt.boot;Update.includeRepo" title="(repo: xsbti.Repository)Boolean">includeRepo</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.addResolvers.$anonfun.repo" title="xsbti.Repository">repo</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.addResolvers.newDefault" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<span title="(x$1: org.apache.ivy.plugins.resolver.DependencyResolver)Unit">add</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.toIvyRepository" title="(settings: org.apache.ivy.core.settings.IvySettings, repo: xsbti.Repository)org.apache.ivy.plugins.resolver.RepositoryResolver">toIvyRepository</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.addResolvers.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#xsbt.boot;Update.addResolvers.$anonfun.repo" title="xsbti.Repository">repo</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#xsbt.boot;Update.configureCache" title="(settings: org.apache.ivy.core.settings.IvySettings)Unit">configureCache</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.addResolvers.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span>
    <a href="#xsbt.boot;Update.addResolvers.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: org.apache.ivy.plugins.resolver.DependencyResolver)Unit">addResolver</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.addResolvers.newDefault" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a><span class="delimiter">)</span>
    <a href="#xsbt.boot;Update.addResolvers.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: String)Unit">setDefaultResolver</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.addResolvers.newDefault" title="org.apache.ivy.plugins.resolver.ChainResolver">newDefault</a>.<span title="()String">getName</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">// infrastructure is needed to avoid duplication between this class and the ivy/ subproject</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(artifact: org.apache.ivy.core.module.descriptor.Artifact)Boolean" id="xsbt.boot;Update.hasImplicitClassifier">hasImplicitClassifier</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.Artifact" id="xsbt.boot;Update.hasImplicitClassifier.artifact">artifact</a>: <span title="org.apache.ivy.core.module.descriptor.Artifact">IArtifact</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <span class="delimiter">{</span>
      <span class="keyword">import</span> collection.<span title="scala.collection.JavaConversions.type">JavaConversions</span>._
      <a href="#xsbt.boot;Update.hasImplicitClassifier.artifact" title="org.apache.ivy.core.module.descriptor.Artifact">artifact</a>.<span title="(m: java.util.Map[?0,?1])scala.collection.mutable.Map[?0,?1]">getQualifiedExtraAttributes</span>.<span title="=&gt; Iterable[?0]">keys</span>.<span title="(p: ?0 =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.hasImplicitClassifier.$anonfun.x$5" title="?0">_</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="String" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span> <span title="(x$1: String)Boolean">startsWith</span> <span title="String(&quot;m:&quot;)" class="string">&quot;m:&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="comment">// exclude the local Maven repository for Scala -SNAPSHOTs</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(repo: xsbti.Repository)Boolean" id="xsbt.boot;Update.includeRepo">includeRepo</a><span class="delimiter">(</span><a title="xsbti.Repository" id="xsbt.boot;Update.includeRepo.repo">repo</a>: xsbti.<a href="../../xsbti/Repository.java.html#xsbti;Repository" title="xsbti.Repository">Repository</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="LaunchConfiguration.scala.html#xsbt.boot.Repository" title="xsbt.boot.Repository.type">Repository</a>.<a href="LaunchConfiguration.scala.html#xsbt.boot.Repository.isMavenLocal" title="(repo: xsbti.Repository)Boolean">isMavenLocal</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.includeRepo.repo" title="xsbti.Repository">repo</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#xsbt.boot;Update.isSnapshot" title="(scalaVersion: String)Boolean">isSnapshot</a><span class="delimiter">(</span><a href="#xsbt.boot;UpdateConfiguration.getScalaVersion" title="=&gt; String">getScalaVersion</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(scalaVersion: String)Boolean" id="xsbt.boot;Update.isSnapshot">isSnapshot</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.isSnapshot.scalaVersion">scalaVersion</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#xsbt.boot;Update.isSnapshot.scalaVersion" title="String">scalaVersion</a>.<span title="(x$1: String)Boolean">endsWith</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.Snapshot" title="String">Snapshot</a><span class="delimiter">)</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="String" id="xsbt.boot;Update.Snapshot">Snapshot</a> = <span title="String(&quot;-SNAPSHOT&quot;)" class="string">&quot;-SNAPSHOT&quot;</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="String" id="xsbt.boot;Update.ChangingPattern">ChangingPattern</a> = <span title="String(&quot;.*&quot;)" class="string">&quot;.*&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;Update.Snapshot" title="String">Snapshot</a>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="String" id="xsbt.boot;Update.ChangingMatcher">ChangingMatcher</a> = PatternMatcher.<span title="String(&quot;regexp&quot;)">REGEXP</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(settings: org.apache.ivy.core.settings.IvySettings)Unit" id="xsbt.boot;Update.configureCache">configureCache</a><span class="delimiter">(</span><a title="org.apache.ivy.core.settings.IvySettings" id="xsbt.boot;Update.configureCache.settings">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#xsbt.boot;Update.configureResolutionCache" title="(settings: org.apache.ivy.core.settings.IvySettings)Unit">configureResolutionCache</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.configureCache.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span>
    <a href="#xsbt.boot;Update.configureRepositoryCache" title="(settings: org.apache.ivy.core.settings.IvySettings)Unit">configureRepositoryCache</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.configureCache.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(settings: org.apache.ivy.core.settings.IvySettings)Unit" id="xsbt.boot;Update.configureResolutionCache">configureResolutionCache</a><span class="delimiter">(</span><a title="org.apache.ivy.core.settings.IvySettings" id="xsbt.boot;Update.configureResolutionCache.settings">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#xsbt.boot;UpdateConfiguration.resolutionCacheBase" title="=&gt; java.io.File">resolutionCacheBase</a>.<span title="()Boolean">mkdirs</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.apache.ivy.core.cache.DefaultResolutionCacheManager" id="xsbt.boot;Update.configureResolutionCache.drcm">drcm</a> = <span title="(x$1: java.io.File)org.apache.ivy.core.cache.DefaultResolutionCacheManager" class="keyword">new</span> <span title="org.apache.ivy.core.cache.DefaultResolutionCacheManager">DefaultResolutionCacheManager</span><span class="delimiter">(</span><a href="#xsbt.boot;UpdateConfiguration.resolutionCacheBase" title="=&gt; java.io.File">resolutionCacheBase</a><span class="delimiter">)</span>
    <a href="#xsbt.boot;Update.configureResolutionCache.drcm" title="org.apache.ivy.core.cache.DefaultResolutionCacheManager">drcm</a>.<span title="(x$1: org.apache.ivy.core.settings.IvySettings)Unit">setSettings</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.configureResolutionCache.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a><span class="delimiter">)</span>
    <a href="#xsbt.boot;Update.configureResolutionCache.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: org.apache.ivy.core.cache.ResolutionCacheManager)Unit">setResolutionCacheManager</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.configureResolutionCache.drcm" title="org.apache.ivy.core.cache.DefaultResolutionCacheManager">drcm</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(settings: org.apache.ivy.core.settings.IvySettings)Unit" id="xsbt.boot;Update.configureRepositoryCache">configureRepositoryCache</a><span class="delimiter">(</span><a title="org.apache.ivy.core.settings.IvySettings" id="xsbt.boot;Update.configureRepositoryCache.settings">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.File" id="xsbt.boot;Update.configureRepositoryCache.cacheDir">cacheDir</a> = <a href="#xsbt.boot;Update.configureRepositoryCache.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="()java.io.File">getDefaultRepositoryCacheBasedir</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="xsbt.boot;Update.configureRepositoryCache.manager">manager</a> = <a href="#xsbt.boot;Update.configureRepositoryCache.manager;$anon" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager" class="keyword">new</a> <a title="anonymous class $anon extends org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="xsbt.boot;Update.configureRepositoryCache.manager;$anon">DefaultRepositoryCacheManager</a><span class="delimiter">(</span><span title="String(&quot;default-cache&quot;)" class="string">&quot;default-cache&quot;</span>, <a href="#xsbt.boot;Update.configureRepositoryCache.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>, <a href="#xsbt.boot;Update.configureRepositoryCache.cacheDir" title="java.io.File">cacheDir</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// ignore resolvers wherever possible- not ideal, but avoids issues like #704</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(descriptor: org.apache.ivy.core.module.descriptor.ModuleDescriptor, metadataResolverName: String, artifactResolverName: String)Unit" id="xsbt.boot;Update.configureRepositoryCache.manager;$anon.saveResolvers">saveResolvers</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.ModuleDescriptor" id="xsbt.boot;Update.configureRepositoryCache.manager;$anon.saveResolvers.descriptor">descriptor</a>: <span title="org.apache.ivy.core.module.descriptor.ModuleDescriptor">ModuleDescriptor</span>, <a title="String" id="xsbt.boot;Update.configureRepositoryCache.manager;$anon.saveResolvers.metadataResolverName">metadataResolverName</a>: <span title="String">String</span>, <a title="String" id="xsbt.boot;Update.configureRepositoryCache.manager;$anon.saveResolvers.artifactResolverName">artifactResolverName</a>: <span title="String">String</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(dd: org.apache.ivy.core.module.descriptor.DependencyDescriptor, revId: org.apache.ivy.core.module.id.ModuleRevisionId, options: org.apache.ivy.core.cache.CacheMetadataOptions, r: String)org.apache.ivy.core.resolve.ResolvedModuleRevision" id="xsbt.boot;Update.configureRepositoryCache.manager;$anon.findModuleInCache">findModuleInCache</a><span class="delimiter">(</span><a title="org.apache.ivy.core.module.descriptor.DependencyDescriptor" id="xsbt.boot;Update.configureRepositoryCache.manager;$anon.findModuleInCache.dd">dd</a>: <span title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">DependencyDescriptor</span>, <a title="org.apache.ivy.core.module.id.ModuleRevisionId" id="xsbt.boot;Update.configureRepositoryCache.manager;$anon.findModuleInCache.revId">revId</a>: <span title="org.apache.ivy.core.module.id.ModuleRevisionId">ModuleRevisionId</span>, <a title="org.apache.ivy.core.cache.CacheMetadataOptions" id="xsbt.boot;Update.configureRepositoryCache.manager;$anon.findModuleInCache.options">options</a>: <span title="org.apache.ivy.core.cache.CacheMetadataOptions">CacheMetadataOptions</span>, <a title="String" id="xsbt.boot;Update.configureRepositoryCache.manager;$anon.findModuleInCache.r">r</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#xsbt.boot;Update.configureRepositoryCache.manager;$anon" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager" class="keyword">super</a>.<span title="(x$1: org.apache.ivy.core.module.descriptor.DependencyDescriptor, x$2: org.apache.ivy.core.module.id.ModuleRevisionId, x$3: org.apache.ivy.core.cache.CacheMetadataOptions, x$4: String)org.apache.ivy.core.resolve.ResolvedModuleRevision">findModuleInCache</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.configureRepositoryCache.manager;$anon.findModuleInCache.dd" title="org.apache.ivy.core.module.descriptor.DependencyDescriptor">dd</a>, <a href="#xsbt.boot;Update.configureRepositoryCache.manager;$anon.findModuleInCache.revId" title="org.apache.ivy.core.module.id.ModuleRevisionId">revId</a>, <a href="#xsbt.boot;Update.configureRepositoryCache.manager;$anon.findModuleInCache.options" title="org.apache.ivy.core.cache.CacheMetadataOptions">options</a>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#xsbt.boot;Update.configureRepositoryCache.manager" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<span title="(x$1: Boolean)Unit">setUseOrigin</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <a href="#xsbt.boot;Update.configureRepositoryCache.manager" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<span title="(x$1: String)Unit">setChangingMatcher</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.ChangingMatcher" title="String">ChangingMatcher</a><span class="delimiter">)</span>
    <a href="#xsbt.boot;Update.configureRepositoryCache.manager" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a>.<span title="(x$1: String)Unit">setChangingPattern</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.ChangingPattern" title="String">ChangingPattern</a><span class="delimiter">)</span>
    <a href="#xsbt.boot;Update.configureRepositoryCache.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: org.apache.ivy.core.cache.RepositoryCacheManager)Unit">addRepositoryCacheManager</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.configureRepositoryCache.manager" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a><span class="delimiter">)</span>
    <a href="#xsbt.boot;Update.configureRepositoryCache.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="(x$1: org.apache.ivy.core.cache.RepositoryCacheManager)Unit">setDefaultRepositoryCacheManager</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.configureRepositoryCache.manager" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(settings: org.apache.ivy.core.settings.IvySettings, repo: xsbti.Repository)org.apache.ivy.plugins.resolver.RepositoryResolver" id="xsbt.boot;Update.toIvyRepository">toIvyRepository</a><span class="delimiter">(</span><a title="org.apache.ivy.core.settings.IvySettings" id="xsbt.boot;Update.toIvyRepository.settings">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span>, <a title="xsbti.Repository" id="xsbt.boot;Update.toIvyRepository.repo">repo</a>: xsbti.<a href="../../xsbti/Repository.java.html#xsbti;Repository" title="xsbti.Repository">Repository</a><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">import</span> xsbti.<a href="../../xsbti/Predefined.java.html#xsbti.Predefined" title="xsbti.Predefined.type">Predefined</a>._
      <a href="#xsbt.boot;Update.toIvyRepository.repo" title="xsbti.Repository">repo</a> <span title="org.apache.ivy.plugins.resolver.RepositoryResolver" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="xsbti.MavenRepository" id="xsbt.boot;Update.toIvyRepository.m">m</a>: xsbti.<a href="../../xsbti/MavenRepository.java.html#xsbti;MavenRepository" title="xsbti.MavenRepository">MavenRepository</a> =&gt; <a href="#xsbt.boot;Update.mavenResolver" title="(name: String, root: String)org.apache.ivy.plugins.resolver.IBiblioResolver">mavenResolver</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.toIvyRepository.m" title="xsbti.MavenRepository">m</a>.<a href="../../xsbti/MavenRepository.java.html#xsbti;MavenRepository.id" title="()String">id</a>, <a href="#xsbt.boot;Update.toIvyRepository.m" title="xsbti.MavenRepository">m</a>.<a href="../../xsbti/MavenRepository.java.html#xsbti;MavenRepository.url" title="()java.net.URL">url</a>.<span title="()String">toString</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="xsbti.IvyRepository" id="xsbt.boot;Update.toIvyRepository.i">i</a>: xsbti.<a href="../../xsbti/IvyRepository.java.html#xsbti;IvyRepository" title="xsbti.IvyRepository">IvyRepository</a>   =&gt; <a href="#xsbt.boot;Update.urlResolver" title="(id: String, base: String, ivyPattern: String, artifactPattern: String, mavenCompatible: Boolean, descriptorOptional: Boolean, skipConsistencyCheck: Boolean)org.apache.ivy.plugins.resolver.URLResolver">urlResolver</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.toIvyRepository.i" title="xsbti.IvyRepository">i</a>.<a href="../../xsbti/IvyRepository.java.html#xsbti;IvyRepository.id" title="()String">id</a>, <a href="#xsbt.boot;Update.toIvyRepository.i" title="xsbti.IvyRepository">i</a>.<a href="../../xsbti/IvyRepository.java.html#xsbti;IvyRepository.url" title="()java.net.URL">url</a>.<span title="()String">toString</span>, <a href="#xsbt.boot;Update.toIvyRepository.i" title="xsbti.IvyRepository">i</a>.<a href="../../xsbti/IvyRepository.java.html#xsbti;IvyRepository.ivyPattern" title="()String">ivyPattern</a>, <a href="#xsbt.boot;Update.toIvyRepository.i" title="xsbti.IvyRepository">i</a>.<a href="../../xsbti/IvyRepository.java.html#xsbti;IvyRepository.artifactPattern" title="()String">artifactPattern</a>, <a href="#xsbt.boot;Update.toIvyRepository.i" title="xsbti.IvyRepository">i</a>.<a href="../../xsbti/IvyRepository.java.html#xsbti;IvyRepository.mavenCompatible" title="()Boolean">mavenCompatible</a>, <a href="#xsbt.boot;Update.toIvyRepository.i" title="xsbti.IvyRepository">i</a>.<a href="../../xsbti/IvyRepository.java.html#xsbti;IvyRepository.descriptorOptional" title="()Boolean">descriptorOptional</a>, <a href="#xsbt.boot;Update.toIvyRepository.i" title="xsbti.IvyRepository">i</a>.<a href="../../xsbti/IvyRepository.java.html#xsbti;IvyRepository.skipConsistencyCheck" title="()Boolean">skipConsistencyCheck</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="xsbti.PredefinedRepository" id="xsbt.boot;Update.toIvyRepository.p">p</a>: xsbti.<a href="../../xsbti/PredefinedRepository.java.html#xsbti;PredefinedRepository" title="xsbti.PredefinedRepository">PredefinedRepository</a> =&gt; <a href="#xsbt.boot;Update.toIvyRepository.p" title="xsbti.PredefinedRepository">p</a>.<a href="../../xsbti/PredefinedRepository.java.html#xsbti;PredefinedRepository.id" title="()xsbti.Predefined">id</a> <span title="org.apache.ivy.plugins.resolver.RepositoryResolver" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="xsbti.Predefined(Local)">Local</span>                                      =&gt; <a href="#xsbt.boot;Update.localResolver" title="(ivyUserDirectory: String)org.apache.ivy.plugins.resolver.FileSystemResolver">localResolver</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.toIvyRepository.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="()java.io.File">getDefaultIvyUserDir</span>.<span title="()String">getAbsolutePath</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="xsbti.Predefined(MavenLocal)">MavenLocal</span>                                 =&gt; <a href="#xsbt.boot;Update.mavenLocal" title="=&gt; org.apache.ivy.plugins.resolver.IBiblioResolver">mavenLocal</a>
          <span class="keyword">case</span> <span title="xsbti.Predefined(MavenCentral)">MavenCentral</span>                               =&gt; <a href="#xsbt.boot;Update.mavenMainResolver" title="=&gt; org.apache.ivy.plugins.resolver.IBiblioResolver">mavenMainResolver</a>
          <span class="keyword">case</span> <span title="xsbti.Predefined(ScalaToolsReleases)">ScalaToolsReleases</span> | <span title="xsbti.Predefined(SonatypeOSSReleases)">SonatypeOSSReleases</span>   =&gt; <a href="#xsbt.boot;Update.mavenResolver" title="(name: String, root: String)org.apache.ivy.plugins.resolver.IBiblioResolver">mavenResolver</a><span class="delimiter">(</span><span title="String(&quot;Sonatype Releases Repository&quot;)" class="string">&quot;Sonatype Releases Repository&quot;</span>, <span title="String(&quot;https://oss.sonatype.org/content/repositories/releases&quot;)" class="string">&quot;https://oss.sonatype.org/content/repositories/releases&quot;</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="xsbti.Predefined(ScalaToolsSnapshots)">ScalaToolsSnapshots</span> | <span title="xsbti.Predefined(SonatypeOSSSnapshots)">SonatypeOSSSnapshots</span> =&gt; <a href="#xsbt.boot;Update.scalaSnapshots" title="(scalaVersion: String)org.apache.ivy.plugins.resolver.URLResolver">scalaSnapshots</a><span class="delimiter">(</span><a href="#xsbt.boot;UpdateConfiguration.getScalaVersion" title="=&gt; String">getScalaVersion</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(settings: org.apache.ivy.core.settings.IvySettings)(f: org.apache.ivy.core.cache.DefaultRepositoryCacheManager =&gt; Unit)Unit" id="xsbt.boot;Update.onDefaultRepositoryCacheManager">onDefaultRepositoryCacheManager</a><span class="delimiter">(</span><a title="org.apache.ivy.core.settings.IvySettings" id="xsbt.boot;Update.onDefaultRepositoryCacheManager.settings">settings</a>: <span title="org.apache.ivy.core.settings.IvySettings">IvySettings</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager =&gt; Unit" id="xsbt.boot;Update.onDefaultRepositoryCacheManager.f">f</a>: DefaultRepositoryCacheManager =&gt; Unit<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#xsbt.boot;Update.onDefaultRepositoryCacheManager.settings" title="org.apache.ivy.core.settings.IvySettings">settings</a>.<span title="()org.apache.ivy.core.cache.RepositoryCacheManager">getDefaultRepositoryCacheManager</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager" id="xsbt.boot;Update.onDefaultRepositoryCacheManager.manager">manager</a>: <span title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">DefaultRepositoryCacheManager</span> =&gt; <a href="#xsbt.boot;Update.onDefaultRepositoryCacheManager.f" title="(v1: org.apache.ivy.core.cache.DefaultRepositoryCacheManager)Unit">f</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.onDefaultRepositoryCacheManager.manager" title="org.apache.ivy.core.cache.DefaultRepositoryCacheManager">manager</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _                                      =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">/** Uses the pattern defined in BuildConfiguration to download sbt from Google code.*/</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(id: String, base: String, ivyPattern: String, artifactPattern: String, mavenCompatible: Boolean, descriptorOptional: Boolean, skipConsistencyCheck: Boolean)org.apache.ivy.plugins.resolver.URLResolver" id="xsbt.boot;Update.urlResolver">urlResolver</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.urlResolver.id">id</a>: <span title="String">String</span>, <a title="String" id="xsbt.boot;Update.urlResolver.base">base</a>: <span title="String">String</span>, <a title="String" id="xsbt.boot;Update.urlResolver.ivyPattern">ivyPattern</a>: <span title="String">String</span>, <a title="String" id="xsbt.boot;Update.urlResolver.artifactPattern">artifactPattern</a>: <span title="String">String</span>, <a title="Boolean" id="xsbt.boot;Update.urlResolver.mavenCompatible">mavenCompatible</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="xsbt.boot;Update.urlResolver.descriptorOptional">descriptorOptional</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="xsbt.boot;Update.urlResolver.skipConsistencyCheck">skipConsistencyCheck</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.URLResolver" id="xsbt.boot;Update.urlResolver.resolver">resolver</a> = <span title="org.apache.ivy.plugins.resolver.URLResolver" class="keyword">new</span> <span title="org.apache.ivy.plugins.resolver.URLResolver">URLResolver</span>
      <a href="#xsbt.boot;Update.urlResolver.resolver" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: String)Unit">setName</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.urlResolver.id" title="String">id</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.urlResolver.resolver" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: String)Unit">addIvyPattern</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.adjustPattern" title="(base: String, pattern: String)String">adjustPattern</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.urlResolver.base" title="String">base</a>, <a href="#xsbt.boot;Update.urlResolver.ivyPattern" title="String">ivyPattern</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.urlResolver.resolver" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: String)Unit">addArtifactPattern</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.adjustPattern" title="(base: String, pattern: String)String">adjustPattern</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.urlResolver.base" title="String">base</a>, <a href="#xsbt.boot;Update.urlResolver.artifactPattern" title="String">artifactPattern</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.urlResolver.resolver" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: Boolean)Unit">setM2compatible</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.urlResolver.mavenCompatible" title="Boolean">mavenCompatible</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.urlResolver.resolver" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: String)Unit">setDescriptor</span><span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#xsbt.boot;Update.urlResolver.descriptorOptional" title="Boolean">descriptorOptional</a><span class="delimiter">)</span> BasicResolver.<span title="String(&quot;optional&quot;)">DESCRIPTOR_OPTIONAL</span> <span class="keyword">else</span> BasicResolver.<span title="String(&quot;required&quot;)">DESCRIPTOR_REQUIRED</span><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.urlResolver.resolver" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: Boolean)Unit">setCheckconsistency</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#xsbt.boot;Update.urlResolver.skipConsistencyCheck" title="Boolean">skipConsistencyCheck</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.urlResolver.resolver" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: String, pattern: String)String" id="xsbt.boot;Update.adjustPattern">adjustPattern</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.adjustPattern.base">base</a>: <span title="String">String</span>, <a title="String" id="xsbt.boot;Update.adjustPattern.pattern">pattern</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> =
    <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#xsbt.boot;Update.adjustPattern.base" title="String">base</a>.<span title="(x$1: String)Boolean">endsWith</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="Pre.scala.html#xsbt.boot.Pre.isEmpty" title="(line: String)Boolean">isEmpty</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.adjustPattern.base" title="String">base</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#xsbt.boot;Update.adjustPattern.base" title="String">base</a> <span class="keyword">else</span> <span class="delimiter">(</span><a href="#xsbt.boot;Update.adjustPattern.base" title="String">base</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;Update.adjustPattern.pattern" title="String">pattern</a>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; org.apache.ivy.plugins.resolver.IBiblioResolver" id="xsbt.boot;Update.mavenLocal">mavenLocal</a> = <a href="#xsbt.boot;Update.mavenResolver" title="(name: String, root: String)org.apache.ivy.plugins.resolver.IBiblioResolver">mavenResolver</a><span class="delimiter">(</span><span title="String(&quot;Maven2 Local&quot;)" class="string">&quot;Maven2 Local&quot;</span>, <span title="String(&quot;file://&quot;)" class="string">&quot;file://&quot;</span> <span title="(x$1: Any)String">+</span> <span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;user.home&quot;)" class="string">&quot;user.home&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/.m2/repository/&quot;)" class="string">&quot;/.m2/repository/&quot;</span><span class="delimiter">)</span>
  <span class="comment">/** Creates a maven-style resolver.*/</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String, root: String)org.apache.ivy.plugins.resolver.IBiblioResolver" id="xsbt.boot;Update.mavenResolver">mavenResolver</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.mavenResolver.name">name</a>: <span title="String">String</span>, <a title="String" id="xsbt.boot;Update.mavenResolver.root">root</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.IBiblioResolver" id="xsbt.boot;Update.mavenResolver.resolver">resolver</a> = <span title="org.apache.ivy.plugins.resolver.IBiblioResolver" class="keyword">new</span> <span title="org.apache.ivy.plugins.resolver.IBiblioResolver">IBiblioResolver</span>
      <a href="#xsbt.boot;Update.mavenResolver.resolver" title="org.apache.ivy.plugins.resolver.IBiblioResolver">resolver</a>.<span title="(x$1: String)Unit">setName</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.mavenResolver.name" title="String">name</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.mavenResolver.resolver" title="org.apache.ivy.plugins.resolver.IBiblioResolver">resolver</a>.<span title="(x$1: Boolean)Unit">setM2compatible</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.mavenResolver.resolver" title="org.apache.ivy.plugins.resolver.IBiblioResolver">resolver</a>.<span title="(x$1: String)Unit">setRoot</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.mavenResolver.root" title="String">root</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.mavenResolver.resolver" title="org.apache.ivy.plugins.resolver.IBiblioResolver">resolver</a>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="xsbt.boot;Update.useSecureResolvers">useSecureResolvers</a> = sys.<span title="=&gt; scala.sys.SystemProperties">props</span>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><span title="String(&quot;sbt.repository.secure&quot;)" class="string">&quot;sbt.repository.secure&quot;</span><span class="delimiter">)</span> <span title="(f: String =&gt; Boolean)Option[Boolean]">map</span> <span class="delimiter">{</span> <a href="#xsbt.boot;Update.useSecureResolvers.$anonfun.x$6" title="String">_</a>.<span title="()String">toLowerCase</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;true&quot;)" class="string">&quot;true&quot;</span> <span class="delimiter">}</span> <span title="(default: =&gt; Boolean)Boolean">getOrElse</span> <span title="Boolean(true)" class="keyword">true</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(secure: Boolean)String" id="xsbt.boot;Update.centralRepositoryRoot">centralRepositoryRoot</a><span class="delimiter">(</span><a title="Boolean" id="xsbt.boot;Update.centralRepositoryRoot.secure">secure</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#xsbt.boot;Update.centralRepositoryRoot.secure" title="Boolean">secure</a><span class="delimiter">)</span> <span title="String(&quot;https&quot;)" class="string">&quot;https&quot;</span> <span class="keyword">else</span> <span title="String(&quot;http&quot;)" class="string">&quot;http&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;://repo1.maven.org/maven2/&quot;)" class="string">&quot;://repo1.maven.org/maven2/&quot;</span>

  <span class="comment">/** Creates a resolver for Maven Central.*/</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; org.apache.ivy.plugins.resolver.IBiblioResolver" id="xsbt.boot;Update.mavenMainResolver">mavenMainResolver</a> = <a href="#xsbt.boot;Update.defaultMavenResolver" title="(name: String)org.apache.ivy.plugins.resolver.IBiblioResolver">defaultMavenResolver</a><span class="delimiter">(</span><span title="String(&quot;Maven Central&quot;)" class="string">&quot;Maven Central&quot;</span><span class="delimiter">)</span>
  <span class="comment">/** Creates a maven-style resolver with the default root.*/</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String)org.apache.ivy.plugins.resolver.IBiblioResolver" id="xsbt.boot;Update.defaultMavenResolver">defaultMavenResolver</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.defaultMavenResolver.name">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <a href="#xsbt.boot;Update.mavenResolver" title="(name: String, root: String)org.apache.ivy.plugins.resolver.IBiblioResolver">mavenResolver</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.defaultMavenResolver.name" title="String">name</a>, <a href="#xsbt.boot;Update.centralRepositoryRoot" title="(secure: Boolean)String">centralRepositoryRoot</a><span class="delimiter">(</span><a href="#xsbt.boot;Update.useSecureResolvers" title="=&gt; Boolean">useSecureResolvers</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ivyUserDirectory: String)org.apache.ivy.plugins.resolver.FileSystemResolver" id="xsbt.boot;Update.localResolver">localResolver</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.localResolver.ivyUserDirectory">ivyUserDirectory</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="xsbt.boot;Update.localResolver.localIvyRoot">localIvyRoot</a> = <a href="#xsbt.boot;Update.localResolver.ivyUserDirectory" title="String">ivyUserDirectory</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/local&quot;)" class="string">&quot;/local&quot;</span>
      <span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.FileSystemResolver" id="xsbt.boot;Update.localResolver.resolver">resolver</a> = <span title="org.apache.ivy.plugins.resolver.FileSystemResolver" class="keyword">new</span> <span title="org.apache.ivy.plugins.resolver.FileSystemResolver">FileSystemResolver</span>
      <a href="#xsbt.boot;Update.localResolver.resolver" title="org.apache.ivy.plugins.resolver.FileSystemResolver">resolver</a>.<span title="(x$1: String)Unit">setName</span><span class="delimiter">(</span><a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.LocalIvyName" title="=&gt; String">LocalIvyName</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.localResolver.resolver" title="org.apache.ivy.plugins.resolver.FileSystemResolver">resolver</a>.<span title="(x$1: String)Unit">addIvyPattern</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.localResolver.localIvyRoot" title="String">localIvyRoot</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.LocalIvyPattern" title="=&gt; String">LocalIvyPattern</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.localResolver.resolver" title="org.apache.ivy.plugins.resolver.FileSystemResolver">resolver</a>.<span title="(x$1: String)Unit">addArtifactPattern</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.localResolver.localIvyRoot" title="String">localIvyRoot</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="BootConfiguration.scala.html#xsbt.boot.BootConfiguration.LocalArtifactPattern" title="=&gt; String">LocalArtifactPattern</a><span class="delimiter">)</span>
      <a href="#xsbt.boot;Update.localResolver.resolver" title="org.apache.ivy.plugins.resolver.FileSystemResolver">resolver</a>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.util.regex.Pattern" id="xsbt.boot;Update.SnapshotPattern">SnapshotPattern</a> = <span title="java.util.regex.Pattern.type">Pattern</span>.<span title="(x$1: String)java.util.regex.Pattern">compile</span><span class="delimiter">(</span><span title="String(&quot;(\\d+).(\\d+).(\\d+)-(\\d{8})\\.(\\d{6})-(\\d+|\\+)&quot;)" class="string">&quot;&quot;&quot;(\d+).(\d+).(\d+)-(\d{8})\.(\d{6})-(\d+|\+)&quot;&quot;&quot;</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(scalaVersion: String)org.apache.ivy.plugins.resolver.URLResolver" id="xsbt.boot;Update.scalaSnapshots">scalaSnapshots</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.scalaSnapshots.scalaVersion">scalaVersion</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.util.regex.Matcher" id="xsbt.boot;Update.scalaSnapshots.m">m</a> = <a href="#xsbt.boot;Update.SnapshotPattern" title="=&gt; java.util.regex.Pattern">SnapshotPattern</a>.<span title="(x$1: CharSequence)java.util.regex.Matcher">matcher</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.scalaSnapshots.scalaVersion" title="String">scalaVersion</a><span class="delimiter">)</span>
      <span title="org.apache.ivy.plugins.resolver.URLResolver" class="keyword">if</span> <span class="delimiter">(</span><a href="#xsbt.boot;Update.scalaSnapshots.m" title="java.util.regex.Matcher">m</a>.<span title="()Boolean">matches</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="xsbt.boot;Update.scalaSnapshots.base">base</a> = <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span>, <span title="Int(3)" class="int">3</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#xsbt.boot;Update.scalaSnapshots.m" title="java.util.regex.Matcher">m</a>.<a href="#xsbt.boot;Update.scalaSnapshots.base.$anonfun.x$1" title="(x$1: Int)String">group</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="String" id="xsbt.boot;Update.scalaSnapshots.pattern">pattern</a> = <span title="String(&quot;https://oss.sonatype.org/content/repositories/snapshots/[organization]/[module]/&quot;)" class="string">&quot;https://oss.sonatype.org/content/repositories/snapshots/[organization]/[module]/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;Update.scalaSnapshots.base" title="String">base</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;-SNAPSHOT/[artifact]-[revision](-[classifier]).[ext]&quot;)" class="string">&quot;-SNAPSHOT/[artifact]-[revision](-[classifier]).[ext]&quot;</span>

        <span class="keyword">val</span> <a title="org.apache.ivy.plugins.resolver.URLResolver" id="xsbt.boot;Update.scalaSnapshots.resolver">resolver</a> = <span title="org.apache.ivy.plugins.resolver.URLResolver" class="keyword">new</span> <span title="org.apache.ivy.plugins.resolver.URLResolver">URLResolver</span>
        <a href="#xsbt.boot;Update.scalaSnapshots.resolver" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: String)Unit">setName</span><span class="delimiter">(</span><span title="String(&quot;Sonatype OSS Snapshots&quot;)" class="string">&quot;Sonatype OSS Snapshots&quot;</span><span class="delimiter">)</span>
        <a href="#xsbt.boot;Update.scalaSnapshots.resolver" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: Boolean)Unit">setM2compatible</span><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <a href="#xsbt.boot;Update.scalaSnapshots.resolver" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>.<span title="(x$1: String)Unit">addArtifactPattern</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.scalaSnapshots.pattern" title="String">pattern</a><span class="delimiter">)</span>
        <a href="#xsbt.boot;Update.scalaSnapshots.resolver" title="org.apache.ivy.plugins.resolver.URLResolver">resolver</a>
      <span class="delimiter">}</span> <span class="keyword">else</span>
        <a href="#xsbt.boot;Update.mavenResolver" title="(name: String, root: String)org.apache.ivy.plugins.resolver.IBiblioResolver">mavenResolver</a><span class="delimiter">(</span><span title="String(&quot;Sonatype Snapshots Repository&quot;)" class="string">&quot;Sonatype Snapshots Repository&quot;</span>, <span title="String(&quot;https://oss.sonatype.org/content/repositories/snapshots&quot;)" class="string">&quot;https://oss.sonatype.org/content/repositories/snapshots&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Logs the given message to a file and to the console. */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(msg: String)Unit" id="xsbt.boot;Update.log">log</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;Update.log.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#xsbt.boot;Update.logWriter" title="=&gt; java.io.PrintWriter">logWriter</a>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.log.msg" title="String">msg</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Exception" id="xsbt.boot;Update.log.e">e</a>: <span title="Exception">Exception</span> =&gt; <span title="System.type">System</span>.<span title="java.io.PrintStream">err</span>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Error writing to update log file: &quot;)" class="string">&quot;Error writing to update log file: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#xsbt.boot;Update.log.e" title="Exception">e</a>.<span title="()String">toString</span><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span title="System.type">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><a href="#xsbt.boot;Update.log.msg" title="String">msg</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">import</span> <a href="#xsbt.boot.SbtIvyLogger" title="xsbt.boot.SbtIvyLogger.type">SbtIvyLogger</a>.<span class="delimiter">{</span> acceptError, acceptMessage, isAlwaysIgnoreMessage <span class="delimiter">}</span>

<span class="comment">/**
 * A custom logger for Ivy to ignore the messages about not finding classes
 * intentionally filtered using proguard and about 'unknown resolver'.
 */</span>
<span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">class</span> <a title="class SbtIvyLogger extends org.apache.ivy.util.DefaultMessageLogger" id="xsbt.boot;SbtIvyLogger">SbtIvyLogger</a><a href="#xsbt.boot;SbtIvyLogger" title="xsbt.boot.SbtIvyLogger" class="delimiter">(</a><a title="java.io.PrintWriter" id="xsbt.boot;SbtIvyLogger.logWriter">logWriter</a>: <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="org.apache.ivy.util.DefaultMessageLogger">DefaultMessageLogger</span><span class="delimiter">(</span>Message.<span title="Int(2)">MSG_INFO</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(msg: String, level: Int)Unit" id="xsbt.boot;SbtIvyLogger.log">log</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;SbtIvyLogger.log.msg">msg</a>: <span title="String">String</span>, <a title="Int" id="xsbt.boot;SbtIvyLogger.log.level">level</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#xsbt.boot.SbtIvyLogger.isAlwaysIgnoreMessage" title="(msg: String)Boolean">isAlwaysIgnoreMessage</a><span class="delimiter">(</span><a href="#xsbt.boot;SbtIvyLogger.log.msg" title="String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="#xsbt.boot;SbtIvyLogger.logWriter" title="java.io.PrintWriter">logWriter</a>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><a href="#xsbt.boot;SbtIvyLogger.log.msg" title="String">msg</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#xsbt.boot;SbtIvyLogger.log.level" title="Int">level</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#xsbt.boot;SbtIvyLogger" title="()Int">getLevel</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#xsbt.boot.SbtIvyLogger.acceptMessage" title="(msg: String)Boolean">acceptMessage</a><span class="delimiter">(</span><a href="#xsbt.boot;SbtIvyLogger.log.msg" title="String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="System.type">System</span>.<span title="java.io.PrintStream">out</span>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><a href="#xsbt.boot;SbtIvyLogger.log.msg" title="String">msg</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(msg: String, level: Int)Unit" id="xsbt.boot;SbtIvyLogger.rawlog">rawlog</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;SbtIvyLogger.rawlog.msg">msg</a>: <span title="String">String</span>, <a title="Int" id="xsbt.boot;SbtIvyLogger.rawlog.level">level</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#xsbt.boot;SbtIvyLogger.log" title="(msg: String, level: Int)Unit">log</a><span class="delimiter">(</span><a href="#xsbt.boot;SbtIvyLogger.rawlog.msg" title="String">msg</a>, <a href="#xsbt.boot;SbtIvyLogger.rawlog.level" title="Int">level</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="comment">/** This is a hack to filter error messages about 'unknown resolver ...'. */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(msg: String)Unit" id="xsbt.boot;SbtIvyLogger.error">error</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;SbtIvyLogger.error.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#xsbt.boot.SbtIvyLogger.acceptError" title="(msg: String)Boolean">acceptError</a><span class="delimiter">(</span><a href="#xsbt.boot;SbtIvyLogger.error.msg" title="String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#xsbt.boot;SbtIvyLogger" title="xsbt.boot.SbtIvyLogger" class="keyword">super</a>.<span title="(x$1: String)Unit">error</span><span class="delimiter">(</span><a href="#xsbt.boot;SbtIvyLogger.error.msg" title="String">msg</a><span class="delimiter">)</span>
<span class="delimiter">}</span>
<span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">class</span> <a title="class SbtMessageLoggerEngine extends org.apache.ivy.util.MessageLoggerEngine" id="xsbt.boot;SbtMessageLoggerEngine">SbtMessageLoggerEngine</a> <a href="#xsbt.boot;SbtMessageLoggerEngine" title="xsbt.boot.SbtMessageLoggerEngine" class="keyword">extends</a> <span title="org.apache.ivy.util.MessageLoggerEngine">MessageLoggerEngine</span> <span class="delimiter">{</span>
  <span class="comment">/** This is a hack to filter error messages about 'unknown resolver ...'. */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(msg: String)Unit" id="xsbt.boot;SbtMessageLoggerEngine.error">error</a><span class="delimiter">(</span><a title="String" id="xsbt.boot;SbtMessageLoggerEngine.error.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#xsbt.boot.SbtIvyLogger.acceptError" title="(msg: String)Boolean">acceptError</a><span class="delimiter">(</span><a href="#xsbt.boot;SbtMessageLoggerEngine.error.msg" title="String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#xsbt.boot;SbtMessageLoggerEngine" title="xsbt.boot.SbtMessageLoggerEngine" class="keyword">super</a>.<span title="(x$1: String)Unit">error</span><span class="delimiter">(</span><a href="#xsbt.boot;SbtMessageLoggerEngine.error.msg" title="String">msg</a><span class="delimiter">)</span>
<span class="delimiter">}</span>
<span class="keyword">private</span> <span class="keyword">object</span> <a title="xsbt.boot.SbtIvyLogger.type" id="xsbt.boot.SbtIvyLogger">SbtIvyLogger</a> <a href="#xsbt.boot.SbtIvyLogger" title="xsbt.boot.SbtIvyLogger.type" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="String" id="xsbt.boot.SbtIvyLogger.IgnorePrefix">IgnorePrefix</a> = <span title="String(&quot;impossible to define&quot;)" class="string">&quot;impossible to define&quot;</span>
  <span class="keyword">val</span> <a title="String" id="xsbt.boot.SbtIvyLogger.UnknownResolver">UnknownResolver</a> = <span title="String(&quot;unknown resolver&quot;)" class="string">&quot;unknown resolver&quot;</span>
  <span class="keyword">def</span> <a title="(msg: String)Boolean" id="xsbt.boot.SbtIvyLogger.acceptError">acceptError</a><span class="delimiter">(</span><a title="String" id="xsbt.boot.SbtIvyLogger.acceptError.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#xsbt.boot.SbtIvyLogger.acceptMessage" title="(msg: String)Boolean">acceptMessage</a><span class="delimiter">(</span><a href="#xsbt.boot.SbtIvyLogger.acceptError.msg" title="String">msg</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#xsbt.boot.SbtIvyLogger.acceptError.msg" title="String">msg</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#xsbt.boot.SbtIvyLogger.UnknownResolver" title="=&gt; String">UnknownResolver</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: String)Boolean" id="xsbt.boot.SbtIvyLogger.acceptMessage">acceptMessage</a><span class="delimiter">(</span><a title="String" id="xsbt.boot.SbtIvyLogger.acceptMessage.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#xsbt.boot.SbtIvyLogger.acceptMessage.msg" title="String">msg</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#xsbt.boot.SbtIvyLogger.acceptMessage.msg" title="String">msg</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#xsbt.boot.SbtIvyLogger.IgnorePrefix" title="=&gt; String">IgnorePrefix</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(msg: String)Boolean" id="xsbt.boot.SbtIvyLogger.isAlwaysIgnoreMessage">isAlwaysIgnoreMessage</a><span class="delimiter">(</span><a title="String" id="xsbt.boot.SbtIvyLogger.isAlwaysIgnoreMessage.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <span class="delimiter">(</span><a href="#xsbt.boot.SbtIvyLogger.isAlwaysIgnoreMessage.msg" title="String">msg</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#xsbt.boot.SbtIvyLogger.isAlwaysIgnoreMessage.msg" title="String">msg</a> <span title="(x$1: String)Boolean">startsWith</span> <span title="String(&quot;setting \'http.proxyPassword\'&quot;)" class="string">&quot;setting 'http.proxyPassword'&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
