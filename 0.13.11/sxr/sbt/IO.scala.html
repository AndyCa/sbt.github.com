<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/IO.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010 Mark Harrah, Viktor Klang, Ross McDonald
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> <a href="Using.scala.html#sbt.Using" title="sbt.Using.type">Using</a>._
<span class="keyword">import</span> <a href="ErrorHandling.scala.html#sbt.ErrorHandling" title="sbt.ErrorHandling.type">ErrorHandling</a>.translate

<span class="keyword">import</span> java.io.<span class="delimiter">{</span> BufferedReader, ByteArrayOutputStream, BufferedWriter, File, FileInputStream, InputStream, OutputStream, PrintWriter <span class="delimiter">}</span>
<span class="keyword">import</span> java.io.<span class="delimiter">{</span> ObjectInputStream, ObjectStreamClass <span class="delimiter">}</span>
<span class="keyword">import</span> java.net.<span class="delimiter">{</span> URI, URISyntaxException, URL <span class="delimiter">}</span>
<span class="keyword">import</span> java.nio.charset.Charset
<span class="keyword">import</span> java.util.Properties
<span class="keyword">import</span> java.util.jar.<span class="delimiter">{</span> Attributes, JarEntry, JarFile, JarInputStream, JarOutputStream, Manifest <span class="delimiter">}</span>
<span class="keyword">import</span> java.util.zip.<span class="delimiter">{</span> CRC32, GZIPOutputStream, ZipEntry, ZipFile, ZipInputStream, ZipOutputStream <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.immutable.TreeSet
<span class="keyword">import</span> scala.collection.mutable.<span class="delimiter">{</span> HashMap, HashSet <span class="delimiter">}</span>
<span class="keyword">import</span> scala.reflect.<span class="delimiter">{</span> Manifest =&gt; SManifest <span class="delimiter">}</span>
<span class="keyword">import</span> <span title="Function.type">Function</span>.tupled

<span class="comment">/** A collection of File, URL, and I/O utility methods.*/</span>
<span class="keyword">object</span> <a title="sbt.IO.type" id="sbt.IO">IO</a> <a href="#sbt.IO" title="sbt.IO.type" class="delimiter">{</a>
  <span class="comment">/** The maximum number of times a unique temporary filename is attempted to be created.*/</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="sbt.IO.MaximumTries">MaximumTries</a> = <span title="Int(10)" class="int">10</span>
  <span class="comment">/** The producer of randomness for unique name generation.*/</span>
  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.util.Random" id="sbt.IO.random">random</a> = <span title="java.util.Random" class="keyword">new</span> java.util.<span title="java.util.Random">Random</span>
  <span class="keyword">val</span> <a title="java.io.File" id="sbt.IO.temporaryDirectory">temporaryDirectory</a> = <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;java.io.tmpdir&quot;)" class="string">&quot;java.io.tmpdir&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="comment">/** The size of the byte or char buffer used in various methods.*/</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="sbt.IO.BufferSize">BufferSize</a> = <span title="Int(8192)" class="int">8192</span>
  <span class="comment">/** File scheme name */</span>
  <span class="keyword">private</span><span class="delimiter">[</span>sbt<span class="delimiter">]</span> <span class="keyword">val</span> <a title="String" id="sbt.IO.FileScheme">FileScheme</a> = <span title="String(&quot;file&quot;)" class="string">&quot;file&quot;</span>

  <span class="comment">/** The newline string for this system, as obtained by the line.separator system property. */</span>
  <span class="keyword">val</span> <a title="String" id="sbt.IO.Newline">Newline</a> = <span title="System.type">System</span>.<span title="(x$1: String)String">getProperty</span><span class="delimiter">(</span><span title="String(&quot;line.separator&quot;)" class="string">&quot;line.separator&quot;</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="java.nio.charset.Charset" id="sbt.IO.utf8">utf8</a> = <span title="java.nio.charset.Charset.type">Charset</span>.<span title="(x$1: String)java.nio.charset.Charset">forName</span><span class="delimiter">(</span><span title="String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns a URL for the directory or jar containing the class file for type `T` (as determined by an implicit Manifest).
   * If the location cannot be determined, an error is generated.
   * Note that Java standard library classes typically do not have a location associated with them.
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use classfileLocation or classLocationFile&quot;</span>, <span class="string">&quot;0.13.10&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[T](implicit mf: scala.reflect.Manifest[T])java.net.URL" id="sbt.IO.classLocation(bc5e4a4afc)">classLocation</a><span class="delimiter">[</span><a title="" id="sbt.IO.classLocation(bc5e4a4afc);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.Manifest[T]" id="sbt.IO.classLocation(bc5e4a4afc).mf">mf</a>: <span title="scala.reflect.Manifest[T]">SManifest</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.net.URL">URL</span> = <a href="#sbt.IO.classLocation(539c218551)" title="(cl: Class[_])java.net.URL">classLocation</a><span class="delimiter">(</span><a href="#sbt.IO.classLocation(bc5e4a4afc).mf" title="scala.reflect.Manifest[T]">mf</a>.<span title="=&gt; Class[_]">runtimeClass</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns a URL for the directory or jar containing the the class file `cl`.
   * If the location cannot be determined, an error is generated.
   */</span>
  @deprecated<span class="delimiter">(</span><span class="string">&quot;Use classfileLocation or classLocationFile&quot;</span>, <span class="string">&quot;0.13.10&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(cl: Class[_])java.net.URL" id="sbt.IO.classLocation(539c218551)">classLocation</a><span class="delimiter">(</span><a title="Class[_]" id="sbt.IO.classLocation(539c218551).cl">cl</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.net.URL">URL</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.security.CodeSource" id="sbt.IO.classLocation(539c218551).codeSource">codeSource</a> = <a href="#sbt.IO.classLocation(539c218551).cl" title="Class[_]">cl</a>.<span title="()java.security.ProtectionDomain">getProtectionDomain</span>.<span title="()java.security.CodeSource">getCodeSource</span>
    <span title="java.net.URL" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.classLocation(539c218551).codeSource" title="java.security.CodeSource">codeSource</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#sbt.IO.classLocation(539c218551).codeSource" title="java.security.CodeSource">codeSource</a>.<span title="()java.net.URL">getLocation</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="comment">// NB: This assumes that classes without code sources are System classes, and thus located in</span>
      <span class="comment">// jars. It assumes that `urlAsFile` will truncate to the containing jar file.</span>
      <span class="keyword">val</span> <a title="String" id="sbt.IO.classLocation(539c218551).clsfile">clsfile</a> = <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#sbt.IO.classLocation(539c218551).cl" title="Class[_]">cl</a>.<span title="()String">getName</span>.<span title="(x$1: Char, x$2: Char)String">replace</span><span class="delimiter">(</span><span title="Char('.')" class="char">'.'</span>, <span title="Char('/')" class="char">'/'</span><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;.class&quot;)" class="string">.class&quot;</span>
      <span title="(x: java.net.URL)Option[java.net.URL]">Option</span><span class="delimiter">(</span><span title="ClassLoader.type">ClassLoader</span>.<span title="()ClassLoader">getSystemClassLoader</span>.<span title="(x$1: String)java.net.URL">getResource</span><span class="delimiter">(</span><a href="#sbt.IO.classLocation(539c218551).clsfile" title="String">clsfile</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(f: java.net.URL =&gt; Option[java.io.File])Option[java.io.File]">flatMap</span> <span class="delimiter">{</span>
          <a href="#sbt.IO.urlAsFile" title="(url: java.net.URL)Option[java.io.File]">urlAsFile</a>
        <span class="delimiter">}</span>.<span title="(default: =&gt; java.io.File)java.io.File">getOrElse</span> <span class="delimiter">{</span>
          sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;No class location for &quot;)" class="string">&quot;No class location for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.classLocation(539c218551).cl" title="Class[_]">cl</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>.<span title="()java.net.URI">toURI</span>.<span title="()java.net.URL">toURL</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the directory or jar file containing the the class file for type `T` (as determined by an implicit Manifest).
   * If the location cannot be determined, an error is generated.
   * Note that Java standard library classes typically do not have a location associated with them.
   */</span>
  <span class="keyword">def</span> <a title="[T](implicit mf: scala.reflect.Manifest[T])java.io.File" id="sbt.IO.classLocationFile(4f0d1e2f63)">classLocationFile</a><span class="delimiter">[</span><a title="" id="sbt.IO.classLocationFile(4f0d1e2f63);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.Manifest[T]" id="sbt.IO.classLocationFile(4f0d1e2f63).mf">mf</a>: <span title="scala.reflect.Manifest[T]">SManifest</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> = <a href="#sbt.IO.classLocationFile(04d8acda16)" title="(cl: Class[_])java.io.File">classLocationFile</a><span class="delimiter">(</span><a href="#sbt.IO.classLocationFile(4f0d1e2f63).mf" title="scala.reflect.Manifest[T]">mf</a>.<span title="=&gt; Class[_]">runtimeClass</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns the directory or jar file containing the class file `cl`.
   * If the location cannot be determined or if it is not a file, an error is generated.
   * Note that Java standard library classes typically do not have a location associated with them.
   */</span>
  <span class="keyword">def</span> <a title="(cl: Class[_])java.io.File" id="sbt.IO.classLocationFile(04d8acda16)">classLocationFile</a><span class="delimiter">(</span><a title="Class[_]" id="sbt.IO.classLocationFile(04d8acda16).cl">cl</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
    <span title="(x: java.security.CodeSource)Option[java.security.CodeSource]">Option</span><span class="delimiter">(</span><a href="#sbt.IO.classLocationFile(04d8acda16).cl" title="Class[_]">cl</a>.<span title="()java.security.ProtectionDomain">getProtectionDomain</span>.<span title="()java.security.CodeSource">getCodeSource</span><span class="delimiter">)</span> <span title="java.io.File" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="java.security.CodeSource" id="sbt.IO.classLocationFile(04d8acda16).codeSource">codeSource</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="java.net.URL" id="sbt.IO.classLocationFile(04d8acda16).classURL">classURL</a> = <a href="#sbt.IO.classLocationFile(04d8acda16).codeSource" title="java.security.CodeSource">codeSource</a>.<span title="()java.net.URL">getLocation</span>
        <a href="#sbt.IO.toFile" title="(url: java.net.URL)java.io.File">toFile</a><span class="delimiter">(</span><a href="#sbt.IO.classLocationFile(04d8acda16).classURL" title="java.net.URL">classURL</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="None.type">None</span> =&gt;
        <span class="comment">// NB: This assumes that classes without code sources are System classes, and thus located in</span>
        <span class="comment">// jars. It assumes that `urlAsFile` will truncate to the containing jar file.</span>
        <span class="keyword">val</span> <a title="String" id="sbt.IO.classLocationFile(04d8acda16).clsfile">clsfile</a> = <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#sbt.IO.classLocationFile(04d8acda16).cl" title="Class[_]">cl</a>.<span title="()String">getName</span>.<span title="(x$1: Char, x$2: Char)String">replace</span><span class="delimiter">(</span><span title="Char('.')" class="char">'.'</span>, <span title="Char('/')" class="char">'/'</span><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;.class&quot;)" class="string">.class&quot;</span>
        <span title="(x: java.net.URL)Option[java.net.URL]">Option</span><span class="delimiter">(</span><span title="ClassLoader.type">ClassLoader</span>.<span title="()ClassLoader">getSystemClassLoader</span>.<span title="(x$1: String)java.net.URL">getResource</span><span class="delimiter">(</span><a href="#sbt.IO.classLocationFile(04d8acda16).clsfile" title="String">clsfile</a><span class="delimiter">)</span><span class="delimiter">)</span>
          .<span title="(f: java.net.URL =&gt; Option[java.io.File])Option[java.io.File]">flatMap</span> <span class="delimiter">{</span>
            <a href="#sbt.IO.urlAsFile" title="(url: java.net.URL)Option[java.io.File]">urlAsFile</a>
          <span class="delimiter">}</span>.<span title="(default: =&gt; java.io.File)java.io.File">getOrElse</span> <span class="delimiter">{</span>
            sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;No class location for &quot;)" class="string">&quot;No class location for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.classLocationFile(04d8acda16).cl" title="Class[_]">cl</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns a URL for the classfile containing the given class file for type `T` (as determined by an implicit Manifest).
   * If the location cannot be determined, an error is generated.
   */</span>
  <span class="keyword">def</span> <a title="[T](implicit mf: scala.reflect.Manifest[T])java.net.URL" id="sbt.IO.classfileLocation(bc5e4a4afc)">classfileLocation</a><span class="delimiter">[</span><a title="" id="sbt.IO.classfileLocation(bc5e4a4afc);T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.Manifest[T]" id="sbt.IO.classfileLocation(bc5e4a4afc).mf">mf</a>: <span title="scala.reflect.Manifest[T]">SManifest</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.net.URL">URL</span> = <a href="#sbt.IO.classfileLocation(539c218551)" title="(cl: Class[_])java.net.URL">classfileLocation</a><span class="delimiter">(</span><a href="#sbt.IO.classfileLocation(bc5e4a4afc).mf" title="scala.reflect.Manifest[T]">mf</a>.<span title="=&gt; Class[_]">runtimeClass</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Returns a URL for the classfile containing the given class
   * If the location cannot be determined, an error is generated.
   */</span>
  <span class="keyword">def</span> <a title="(cl: Class[_])java.net.URL" id="sbt.IO.classfileLocation(539c218551)">classfileLocation</a><span class="delimiter">(</span><a title="Class[_]" id="sbt.IO.classfileLocation(539c218551).cl">cl</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.net.URL">URL</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="sbt.IO.classfileLocation(539c218551).clsfile">clsfile</a> = <span title="(args: Any*)String">s</span>&quot;<span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#sbt.IO.classfileLocation(539c218551).cl" title="Class[_]">cl</a>.<span title="()String">getName</span>.<span title="(x$1: Char, x$2: Char)String">replace</span><span class="delimiter">(</span><span title="Char('.')" class="char">'.'</span>, <span title="Char('/')" class="char">'/'</span><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;.class&quot;)" class="string">.class&quot;</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span title="(xs: Option[ClassLoader]*)scala.collection.immutable.Stream[Option[ClassLoader]]">Stream</span><span class="delimiter">(</span><span title="(x: ClassLoader)Option[ClassLoader]">Option</span><span class="delimiter">(</span><a href="#sbt.IO.classfileLocation(539c218551).cl" title="Class[_]">cl</a>.<span title="()ClassLoader">getClassLoader</span><span class="delimiter">)</span>, <span title="(x: ClassLoader)Some[ClassLoader]">Some</span><span class="delimiter">(</span><span title="ClassLoader.type">ClassLoader</span>.<span title="()ClassLoader">getSystemClassLoader</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#sbt.IO.classfileLocation(539c218551).$anonfun.xo" title="(implicit asTraversable: Option[ClassLoader] =&gt; scala.collection.GenTraversableOnce[ClassLoader])scala.collection.immutable.Stream[ClassLoader]">flatten</a>.<span title="(f: ClassLoader =&gt; scala.collection.GenTraversableOnce[java.net.URL])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[ClassLoader],java.net.URL,scala.collection.immutable.Stream[java.net.URL]])scala.collection.immutable.Stream[java.net.URL]">flatMap</span> <span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,java.net.URL,scala.collection.immutable.Stream[java.net.URL]]" class="delimiter">{</span> <a title="ClassLoader" id="sbt.IO.classfileLocation(539c218551).$anonfun.classLoader">classLoader</a> =&gt;
        <span title="(x: java.net.URL)Option[java.net.URL]">Option</span><span title="(xo: Option[java.net.URL])Iterable[java.net.URL]" class="delimiter">(</span><a href="#sbt.IO.classfileLocation(539c218551).$anonfun.classLoader" title="ClassLoader">classLoader</a>.<span title="(x$1: String)java.net.URL">getResource</span><span class="delimiter">(</span><a href="#sbt.IO.classfileLocation(539c218551).clsfile" title="String">clsfile</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Option[java.net.URL]">headOption</span>.<span title="(default: =&gt; java.net.URL)java.net.URL">getOrElse</span> <span class="delimiter">{</span>
        sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;No class location for &quot;)" class="string">&quot;No class location for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.classfileLocation(539c218551).cl" title="Class[_]">cl</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Throwable" id="sbt.IO.classfileLocation(539c218551).e">e</a>: <span title="Throwable">Throwable</span> =&gt;
        <a href="#sbt.IO.classfileLocation(539c218551).e" title="Throwable">e</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">throw</span> <a href="#sbt.IO.classfileLocation(539c218551).e" title="Throwable">e</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Constructs a File corresponding to `url`, which must have a scheme of `file`.
   * This method properly works around an issue with a simple conversion to URI and then to a File.
   */</span>
  <span class="keyword">def</span> <a title="(url: java.net.URL)java.io.File" id="sbt.IO.toFile">toFile</a><span class="delimiter">(</span><a title="java.net.URL" id="sbt.IO.toFile.url">url</a>: <span title="java.net.URL">URL</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
    <span class="keyword">try</span> <span class="delimiter">{</span> <span title="(x$1: java.net.URI)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.IO.toFile.url" title="java.net.URL">url</a>.<span title="()java.net.URI">toURI</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> _: <span title="java.net.URISyntaxException">URISyntaxException</span> =&gt; <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.IO.toFile.url" title="java.net.URL">url</a>.<span title="()String">getPath</span><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Converts the given URL to a File.  If the URL is for an entry in a jar, the File for the jar is returned. */</span>
  <span class="keyword">def</span> <a title="(url: java.net.URL)java.io.File" id="sbt.IO.asFile">asFile</a><span class="delimiter">(</span><a title="java.net.URL" id="sbt.IO.asFile.url">url</a>: <span title="java.net.URL">URL</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> = <a href="#sbt.IO.urlAsFile" title="(url: java.net.URL)Option[java.io.File]">urlAsFile</a><span class="delimiter">(</span><a href="#sbt.IO.asFile.url" title="java.net.URL">url</a><span class="delimiter">)</span> <span title="(default: =&gt; java.io.File)java.io.File">getOrElse</span> sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;URL is not a file: &quot;)" class="string">&quot;URL is not a file: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.asFile.url" title="java.net.URL">url</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(url: java.net.URL)Option[java.io.File]" id="sbt.IO.urlAsFile">urlAsFile</a><span class="delimiter">(</span><a title="java.net.URL" id="sbt.IO.urlAsFile.url">url</a>: <span title="java.net.URL">URL</span><span class="delimiter">)</span>: <span title="Option[java.io.File]">Option</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
    <a href="#sbt.IO.urlAsFile.url" title="java.net.URL">url</a>.<span title="()String">getProtocol</span> <span title="Option[java.io.File]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#sbt.IO.FileScheme" title="=&gt; String">FileScheme</a> =&gt; <span title="(x: java.io.File)Some[java.io.File]">Some</span><span class="delimiter">(</span><a href="#sbt.IO.toFile" title="(url: java.net.URL)java.io.File">toFile</a><span class="delimiter">(</span><a href="#sbt.IO.urlAsFile.url" title="java.net.URL">url</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span> =&gt;
        <span class="keyword">val</span> <a title="String" id="sbt.IO.urlAsFile.path">path</a> = <a href="#sbt.IO.urlAsFile.url" title="java.net.URL">url</a>.<span title="()String">getPath</span>
        <span class="keyword">val</span> <a title="Int" id="sbt.IO.urlAsFile.end">end</a> = <a href="#sbt.IO.urlAsFile.path" title="String">path</a>.<span title="(x$1: Int)Int">indexOf</span><span class="delimiter">(</span><span title="Int(33)" class="char">'!'</span><span class="delimiter">)</span>
        <span title="(x: java.io.File)Some[java.io.File]">Some</span><span class="delimiter">(</span><a href="#sbt.IO.uriToFile" title="(uriString: String)java.io.File">uriToFile</a><span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.urlAsFile.end" title="Int">end</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <a href="#sbt.IO.urlAsFile.path" title="String">path</a> <span class="keyword">else</span> <a href="#sbt.IO.urlAsFile.path" title="String">path</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#sbt.IO.urlAsFile.end" title="Int">end</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt; <span title="None.type">None</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(uriString: String)java.io.File" id="sbt.IO.uriToFile">uriToFile</a><span class="delimiter">(</span><a title="String" id="sbt.IO.uriToFile.uriString">uriString</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.net.URI" id="sbt.IO.uriToFile.uri">uri</a> = <span title="java.net.URI" class="keyword">new</span> <span title="java.net.URI">URI</span><span class="delimiter">(</span><a href="#sbt.IO.uriToFile.uriString" title="String">uriString</a><span class="delimiter">)</span>
      <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#sbt.IO.uriToFile.uri" title="java.net.URI">uri</a>.<span title="()String">getScheme</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#sbt.IO.FileScheme" title="=&gt; String">FileScheme</a>, <span title="String(&quot;Expected protocol to be \'&quot;)" class="string">&quot;Expected protocol to be '&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.FileScheme" title="=&gt; String">FileScheme</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\' in URI &quot;)" class="string">&quot;' in URI &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.uriToFile.uri" title="java.net.URI">uri</a><span class="delimiter">)</span>
      <span title="java.io.File" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.uriToFile.uri" title="java.net.URI">uri</a>.<span title="()String">getAuthority</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <span title="(x$1: java.net.URI)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.IO.uriToFile.uri" title="java.net.URI">uri</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="comment">/* https://github.com/sbt/sbt/issues/564
			* http://blogs.msdn.com/b/ie/archive/2006/12/06/file-uris-in-windows.aspx
			* http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=5086147
			* The specific problem here is that `uri` will have a defined authority component for UNC names like //foo/bar/some/path.jar
			* but the File constructor requires URIs with an undefined authority component.
			*/</span>
        <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.IO.uriToFile.uri" title="java.net.URI">uri</a>.<span title="()String">getSchemeSpecificPart</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(file: java.io.File)Unit" id="sbt.IO.assertDirectory">assertDirectory</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.assertDirectory.file">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#sbt.IO.assertDirectory.file" title="java.io.File">file</a>.<span title="()Boolean">isDirectory</span>, <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.assertDirectory.file" title="java.io.File">file</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span> <span title="String(&quot;Not a directory: &quot;)" class="string">&quot;Not a directory: &quot;</span> <span class="keyword">else</span> <span title="String(&quot;Directory not found: &quot;)" class="string">&quot;Directory not found: &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.assertDirectory.file" title="java.io.File">file</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(file: java.io.File*)Unit" id="sbt.IO.assertDirectories">assertDirectories</a><span class="delimiter">(</span><a title="java.io.File*" id="sbt.IO.assertDirectories.file">file</a>: <span title="java.io.File*">File</span>*<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#sbt.IO.assertDirectories.file" title="java.io.File*">file</a>.<span title="(f: java.io.File =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#sbt.IO.assertDirectory" title="(file: java.io.File)Unit">assertDirectory</a><span class="delimiter">)</span>

  <span class="comment">// &quot;base.extension&quot; -&gt; (base, extension)</span>
  <span class="comment">/**
   * Splits the given string into base and extension strings.
   * If `name` contains no period, the base string is the input string and the extension is the empty string.
   * Otherwise, the base is the substring up until the last period (exclusive) and
   * the extension is the substring after the last period.
   *
   * For example, `split(&quot;Build.scala&quot;) == (&quot;Build&quot;, &quot;scala&quot;)`
   */</span>
  <span class="keyword">def</span> <a title="(name: String)(String, String)" id="sbt.IO.split">split</a><span class="delimiter">(</span><a title="String" id="sbt.IO.split.name">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="(String, String)" class="delimiter">(</span>String, String<span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="sbt.IO.split.lastDot">lastDot</a> = <a href="#sbt.IO.split.name" title="String">name</a>.<span title="(x$1: Int)Int">lastIndexOf</span><span class="delimiter">(</span><span title="Int(46)" class="char">'.'</span><span class="delimiter">)</span>
      <span title="(String, String)" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.split.lastDot" title="Int">lastDot</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#sbt.IO.split.name" title="String">name</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#sbt.IO.split.lastDot" title="Int">lastDot</a><span class="delimiter">)</span>, <a href="#sbt.IO.split.name" title="String">name</a>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><a href="#sbt.IO.split.lastDot" title="Int">lastDot</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#sbt.IO.split.name" title="String">name</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Each input file in `files` is created if it doesn't exist.
   * If a file already exists, the last modified time is set to the current time.
   * It is not guaranteed that all files will have the same last modified time after this call.
   */</span>
  <span class="keyword">def</span> <a title="(files: Traversable[java.io.File])Unit" id="sbt.IO.touch(fc7d31e811)">touch</a><span class="delimiter">(</span><a title="Traversable[java.io.File]" id="sbt.IO.touch(fc7d31e811).files">files</a>: <span title="Traversable[java.io.File]">Traversable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#sbt.IO.touch(fc7d31e811).files" title="Traversable[java.io.File]">files</a>.<span title="(f: java.io.File =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.touch(fc7d31e811).$anonfun.f">f</a> =&gt; <a href="#sbt.IO.touch(0d5ad2c794)" title="(file: java.io.File, setModified: Boolean)Unit">touch</a><span class="delimiter">(</span><a href="#sbt.IO.touch(fc7d31e811).$anonfun.f" title="java.io.File">f</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Creates a file at the given location if it doesn't exist.
   * If the file already exists and `setModified` is true, this method sets the last modified time to the current time.
   */</span>
  <span class="keyword">def</span> <a title="(file: java.io.File, setModified: Boolean)Unit" id="sbt.IO.touch(0d5ad2c794)">touch</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.touch(0d5ad2c794).file">file</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="sbt.IO.touch$default$2">setModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.File" id="sbt.IO.touch(0d5ad2c794).absFile">absFile</a> = <a href="#sbt.IO.touch(0d5ad2c794).file" title="java.io.File">file</a>.<span title="()java.io.File">getAbsoluteFile</span>
    <a href="#sbt.IO.createDirectory" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#sbt.IO.touch(0d5ad2c794).absFile" title="java.io.File">absFile</a>.<span title="()java.io.File">getParentFile</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Boolean" id="sbt.IO.touch(0d5ad2c794).created">created</a> = <a href="ErrorHandling.scala.html#sbt.ErrorHandling.translate" title="(msg: =&gt; String)(f: =&gt; Boolean)Boolean">translate</a><span class="delimiter">(</span><span title="String(&quot;Could not create file &quot;)" class="string">&quot;Could not create file &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.touch(0d5ad2c794).absFile" title="java.io.File">absFile</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#sbt.IO.touch(0d5ad2c794).absFile" title="java.io.File">absFile</a>.<span title="()Boolean">createNewFile</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.touch(0d5ad2c794).created" title="Boolean">created</a> <span title="(x: Boolean)Boolean">||</span> <a href="#sbt.IO.touch(0d5ad2c794).absFile" title="java.io.File">absFile</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
      <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.touch$default$2" title="Boolean">setModified</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#sbt.IO.touch(0d5ad2c794).absFile" title="java.io.File">absFile</a>.<span title="(x$1: Long)Boolean">setLastModified</span><span class="delimiter">(</span><span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">)</span><span class="delimiter">)</span>
      sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;Could not update last modified time for file &quot;)" class="string">&quot;Could not update last modified time for file &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.touch(0d5ad2c794).absFile" title="java.io.File">absFile</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Creates directories `dirs` and all parent directories.  It tries to work around a race condition in `File.mkdirs()` by retrying up to a limit.*/</span>
  <span class="keyword">def</span> <a title="(dirs: Traversable[java.io.File])Unit" id="sbt.IO.createDirectories">createDirectories</a><span class="delimiter">(</span><a title="Traversable[java.io.File]" id="sbt.IO.createDirectories.dirs">dirs</a>: <span title="Traversable[java.io.File]">Traversable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.IO.createDirectories.dirs" title="Traversable[java.io.File]">dirs</a>.<span title="(f: java.io.File =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#sbt.IO.createDirectory" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">)</span>

  <span class="comment">/** Creates directory `dir` and all parent directories.  It tries to work around a race condition in `File.mkdirs()` by retrying up to a limit.*/</span>
  <span class="keyword">def</span> <a title="(dir: java.io.File)Unit" id="sbt.IO.createDirectory">createDirectory</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.createDirectory.dir">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; String" id="sbt.IO.createDirectory.failBase">failBase</a> = <span title="String(&quot;Could not create directory &quot;)" class="string">&quot;Could not create directory &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.createDirectory.dir" title="java.io.File">dir</a>
      <span class="comment">// Need a retry because mkdirs() has a race condition</span>
      <span class="keyword">var</span> <a title="Int" id="sbt.IO.createDirectory.tryCount">tryCount</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#sbt.IO.createDirectory.dir" title="java.io.File">dir</a>.<span title="()Boolean">exists</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#sbt.IO.createDirectory.dir" title="java.io.File">dir</a>.<span title="()Boolean">mkdirs</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#sbt.IO.createDirectory.tryCount" title="Int">tryCount</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(100)" class="int">100</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#sbt.IO.createDirectory.tryCount" title="Int">tryCount</a> <a href="#sbt.IO.createDirectory.while$1" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span> <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.createDirectory.dir" title="java.io.File">dir</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
        <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Nothing" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.createDirectory.dir" title="java.io.File">dir</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><a href="#sbt.IO.createDirectory.failBase" title="=&gt; String">failBase</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: file exists and is not a directory.&quot;)" class="string">&quot;: file exists and is not a directory.&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span>
        sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><a href="#sbt.IO.createDirectory.failBase" title="=&gt; String">failBase</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Gzips the file 'in' and writes it to 'out'.  'in' cannot be the same file as 'out'. */</span>
  <span class="keyword">def</span> <a title="(in: java.io.File, out: java.io.File)Unit" id="sbt.IO.gzip(9f149b961c)">gzip</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.gzip(9f149b961c).in">in</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="sbt.IO.gzip(9f149b961c).out">out</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#sbt.IO.gzip(9f149b961c).in" title="java.io.File">in</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#sbt.IO.gzip(9f149b961c).out" title="java.io.File">out</a>, <span title="String(&quot;Input file cannot be the same as the output file.&quot;)" class="string">&quot;Input file cannot be the same as the output file.&quot;</span><span class="delimiter">)</span>
    <a href="Using.scala.html#sbt.Using" title="sbt.Using.type">Using</a>.<a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.gzip(9f149b961c).in" title="java.io.File">in</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="sbt.IO.gzip(9f149b961c).$anonfun.inputStream">inputStream</a> =&gt;
      <a href="Using.scala.html#sbt.Using" title="sbt.Using.type">Using</a>.<a href="Using.scala.html#sbt.Using.fileOutputStream" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.gzip(9f149b961c).out" title="java.io.File">out</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="sbt.IO.gzip(9f149b961c).$anonfun.$anonfun.outputStream">outputStream</a> =&gt;
        <a href="#sbt.IO.gzip(7228e86038)" title="(input: java.io.InputStream, output: java.io.OutputStream)Unit">gzip</a><span class="delimiter">(</span><a href="#sbt.IO.gzip(9f149b961c).$anonfun.inputStream" title="java.io.BufferedInputStream">inputStream</a>, <a href="#sbt.IO.gzip(9f149b961c).$anonfun.$anonfun.outputStream" title="java.io.BufferedOutputStream">outputStream</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">/** Gzips the InputStream 'in' and writes it to 'output'.  Neither stream is closed.*/</span>
  <span class="keyword">def</span> <a title="(input: java.io.InputStream, output: java.io.OutputStream)Unit" id="sbt.IO.gzip(7228e86038)">gzip</a><span class="delimiter">(</span><a title="java.io.InputStream" id="sbt.IO.gzip(7228e86038).input">input</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="sbt.IO.gzip(7228e86038).output">output</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.OutputStream)(f: java.util.zip.GZIPOutputStream =&gt; Unit)Unit">gzipOutputStream</a><span class="delimiter">(</span><a href="#sbt.IO.gzip(7228e86038).output" title="java.io.OutputStream">output</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.GZIPOutputStream" id="sbt.IO.gzip(7228e86038).$anonfun.gzStream">gzStream</a> =&gt; <a href="#sbt.IO.transfer(07cfa35a6e)" title="(in: java.io.InputStream, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#sbt.IO.gzip(7228e86038).input" title="java.io.InputStream">input</a>, <a href="#sbt.IO.gzip(7228e86038).$anonfun.gzStream" title="java.util.zip.GZIPOutputStream">gzStream</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Gunzips the file 'in' and writes it to 'out'.  'in' cannot be the same file as 'out'. */</span>
  <span class="keyword">def</span> <a title="(in: java.io.File, out: java.io.File)Unit" id="sbt.IO.gunzip(9f149b961c)">gunzip</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.gunzip(9f149b961c).in">in</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="sbt.IO.gunzip(9f149b961c).out">out</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#sbt.IO.gunzip(9f149b961c).in" title="java.io.File">in</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#sbt.IO.gunzip(9f149b961c).out" title="java.io.File">out</a>, <span title="String(&quot;Input file cannot be the same as the output file.&quot;)" class="string">&quot;Input file cannot be the same as the output file.&quot;</span><span class="delimiter">)</span>
    <a href="Using.scala.html#sbt.Using" title="sbt.Using.type">Using</a>.<a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.gunzip(9f149b961c).in" title="java.io.File">in</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="sbt.IO.gunzip(9f149b961c).$anonfun.inputStream">inputStream</a> =&gt;
      <a href="Using.scala.html#sbt.Using" title="sbt.Using.type">Using</a>.<a href="Using.scala.html#sbt.Using.fileOutputStream" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.gunzip(9f149b961c).out" title="java.io.File">out</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="sbt.IO.gunzip(9f149b961c).$anonfun.$anonfun.outputStream">outputStream</a> =&gt;
        <a href="#sbt.IO.gunzip(7228e86038)" title="(input: java.io.InputStream, output: java.io.OutputStream)Unit">gunzip</a><span class="delimiter">(</span><a href="#sbt.IO.gunzip(9f149b961c).$anonfun.inputStream" title="java.io.BufferedInputStream">inputStream</a>, <a href="#sbt.IO.gunzip(9f149b961c).$anonfun.$anonfun.outputStream" title="java.io.BufferedOutputStream">outputStream</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">/** Gunzips the InputStream 'input' and writes it to 'output'.  Neither stream is closed.*/</span>
  <span class="keyword">def</span> <a title="(input: java.io.InputStream, output: java.io.OutputStream)Unit" id="sbt.IO.gunzip(7228e86038)">gunzip</a><span class="delimiter">(</span><a title="java.io.InputStream" id="sbt.IO.gunzip(7228e86038).input">input</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="sbt.IO.gunzip(7228e86038).output">output</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.InputStream)(f: java.util.zip.GZIPInputStream =&gt; Unit)Unit">gzipInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.gunzip(7228e86038).input" title="java.io.InputStream">input</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.GZIPInputStream" id="sbt.IO.gunzip(7228e86038).$anonfun.gzStream">gzStream</a> =&gt; <a href="#sbt.IO.transfer(07cfa35a6e)" title="(in: java.io.InputStream, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#sbt.IO.gunzip(7228e86038).$anonfun.gzStream" title="java.util.zip.GZIPInputStream">gzStream</a>, <a href="#sbt.IO.gunzip(7228e86038).output" title="java.io.OutputStream">output</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(from: java.io.File, toDirectory: java.io.File, filter: sbt.NameFilter, preserveLastModified: Boolean)Set[java.io.File]" id="sbt.IO.unzip">unzip</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.unzip.from">from</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="sbt.IO.unzip.toDirectory">toDirectory</a>: <span title="java.io.File">File</span>, <a title="sbt.NameFilter" id="sbt.IO.unzip$default$3">filter</a>: <a href="NameFilter.scala.html#sbt;NameFilter" title="sbt.NameFilter">NameFilter</a> = <a href="NameFilter.scala.html#sbt.AllPassFilter" title="sbt.AllPassFilter.type">AllPassFilter</a>, <a title="Boolean" id="sbt.IO.unzip$default$4">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
    <a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Set[java.io.File])Set[java.io.File]">fileInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.unzip.from" title="java.io.File">from</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.BufferedInputStream" id="sbt.IO.unzip.$anonfun.in">in</a> =&gt; <a href="#sbt.IO.unzipStream" title="(from: java.io.InputStream, toDirectory: java.io.File, filter: sbt.NameFilter, preserveLastModified: Boolean)Set[java.io.File]">unzipStream</a><span class="delimiter">(</span><a href="#sbt.IO.unzip.$anonfun.in" title="java.io.BufferedInputStream">in</a>, <a href="#sbt.IO.unzip.toDirectory" title="java.io.File">toDirectory</a>, <a href="#sbt.IO.unzip$default$3" title="sbt.NameFilter">filter</a>, <a href="#sbt.IO.unzip$default$4" title="Boolean">preserveLastModified</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(from: java.net.URL, toDirectory: java.io.File, filter: sbt.NameFilter, preserveLastModified: Boolean)Set[java.io.File]" id="sbt.IO.unzipURL">unzipURL</a><span class="delimiter">(</span><a title="java.net.URL" id="sbt.IO.unzipURL.from">from</a>: <span title="java.net.URL">URL</span>, <a title="java.io.File" id="sbt.IO.unzipURL.toDirectory">toDirectory</a>: <span title="java.io.File">File</span>, <a title="sbt.NameFilter" id="sbt.IO.unzipURL$default$3">filter</a>: <a href="NameFilter.scala.html#sbt;NameFilter" title="sbt.NameFilter">NameFilter</a> = <a href="NameFilter.scala.html#sbt.AllPassFilter" title="sbt.AllPassFilter.type">AllPassFilter</a>, <a title="Boolean" id="sbt.IO.unzipURL$default$4">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
    <a href="Using.scala.html#sbt;Using.apply" title="(src: java.net.URL)(f: java.io.BufferedInputStream =&gt; Set[java.io.File])Set[java.io.File]">urlInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.unzipURL.from" title="java.net.URL">from</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.BufferedInputStream" id="sbt.IO.unzipURL.$anonfun.in">in</a> =&gt; <a href="#sbt.IO.unzipStream" title="(from: java.io.InputStream, toDirectory: java.io.File, filter: sbt.NameFilter, preserveLastModified: Boolean)Set[java.io.File]">unzipStream</a><span class="delimiter">(</span><a href="#sbt.IO.unzipURL.$anonfun.in" title="java.io.BufferedInputStream">in</a>, <a href="#sbt.IO.unzipURL.toDirectory" title="java.io.File">toDirectory</a>, <a href="#sbt.IO.unzipURL$default$3" title="sbt.NameFilter">filter</a>, <a href="#sbt.IO.unzipURL$default$4" title="Boolean">preserveLastModified</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(from: java.io.InputStream, toDirectory: java.io.File, filter: sbt.NameFilter, preserveLastModified: Boolean)Set[java.io.File]" id="sbt.IO.unzipStream">unzipStream</a><span class="delimiter">(</span><a title="java.io.InputStream" id="sbt.IO.unzipStream.from">from</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.File" id="sbt.IO.unzipStream.toDirectory">toDirectory</a>: <span title="java.io.File">File</span>, <a title="sbt.NameFilter" id="sbt.IO.unzipStream$default$3">filter</a>: <a href="NameFilter.scala.html#sbt;NameFilter" title="sbt.NameFilter">NameFilter</a> = <a href="NameFilter.scala.html#sbt.AllPassFilter" title="sbt.AllPassFilter.type">AllPassFilter</a>, <a title="Boolean" id="sbt.IO.unzipStream$default$4">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
    <span class="delimiter">{</span>
      <a href="#sbt.IO.createDirectory" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#sbt.IO.unzipStream.toDirectory" title="java.io.File">toDirectory</a><span class="delimiter">)</span>
      <a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.InputStream)(f: java.util.zip.ZipInputStream =&gt; scala.collection.immutable.Set[java.io.File])scala.collection.immutable.Set[java.io.File]">zipInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.unzipStream.from" title="java.io.InputStream">from</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.ZipInputStream" id="sbt.IO.unzipStream.$anonfun.zipInput">zipInput</a> =&gt; <a href="#sbt.IO.extract" title="(from: java.util.zip.ZipInputStream, toDirectory: java.io.File, filter: sbt.NameFilter, preserveLastModified: Boolean)scala.collection.immutable.Set[java.io.File]">extract</a><span class="delimiter">(</span><a href="#sbt.IO.unzipStream.$anonfun.zipInput" title="java.util.zip.ZipInputStream">zipInput</a>, <a href="#sbt.IO.unzipStream.toDirectory" title="java.io.File">toDirectory</a>, <a href="#sbt.IO.unzipStream$default$3" title="sbt.NameFilter">filter</a>, <a href="#sbt.IO.unzipStream$default$4" title="Boolean">preserveLastModified</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(from: java.util.zip.ZipInputStream, toDirectory: java.io.File, filter: sbt.NameFilter, preserveLastModified: Boolean)scala.collection.immutable.Set[java.io.File]" id="sbt.IO.extract">extract</a><span class="delimiter">(</span><a title="java.util.zip.ZipInputStream" id="sbt.IO.extract.from">from</a>: <span title="java.util.zip.ZipInputStream">ZipInputStream</span>, <a title="java.io.File" id="sbt.IO.extract.toDirectory">toDirectory</a>: <span title="java.io.File">File</span>, <a title="sbt.NameFilter" id="sbt.IO.extract.filter">filter</a>: <a href="NameFilter.scala.html#sbt;NameFilter" title="sbt.NameFilter">NameFilter</a>, <a title="Boolean" id="sbt.IO.extract.preserveLastModified">preserveLastModified</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[java.io.File]" id="sbt.IO.extract.set">set</a> = <span title="()scala.collection.mutable.HashSet[java.io.File]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[java.io.File]">HashSet</span><span class="delimiter">[</span>File<span class="delimiter">]</span>
      <span class="keyword">def</span> <a title="()Unit" id="sbt.IO.extract.next">next</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="sbt.IO.extract.next.entry">entry</a> = <a href="#sbt.IO.extract.from" title="java.util.zip.ZipInputStream">from</a>.<span title="()java.util.zip.ZipEntry">getNextEntry</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.extract.next.entry" title="java.util.zip.ZipEntry">entry</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="sbt.IO.extract.next.name">name</a> = <a href="#sbt.IO.extract.next.entry" title="java.util.zip.ZipEntry">entry</a>.<span title="()String">getName</span>
          <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.extract.filter" title="sbt.NameFilter">filter</a>.<a href="NameFilter.scala.html#sbt;NameFilter.accept(26524096c6)" title="(name: String)Boolean">accept</a><span class="delimiter">(</span><a href="#sbt.IO.extract.next.name" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="java.io.File" id="sbt.IO.extract.next.target">target</a> = <span title="(x$1: java.io.File, x$2: String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.IO.extract.toDirectory" title="java.io.File">toDirectory</a>, <a href="#sbt.IO.extract.next.name" title="String">name</a><span class="delimiter">)</span>
            <span class="comment">//log.debug(&quot;Extracting zip entry '&quot; + name + &quot;' to '&quot; + target + &quot;'&quot;)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.extract.next.entry" title="java.util.zip.ZipEntry">entry</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
              <a href="#sbt.IO.createDirectory" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#sbt.IO.extract.next.target" title="java.io.File">target</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#sbt.IO.extract.set" title="scala.collection.mutable.HashSet[java.io.File]">set</a> <span title="(elem: java.io.File)set.type">+=</span> <a href="#sbt.IO.extract.next.target" title="java.io.File">target</a>
              <a href="ErrorHandling.scala.html#sbt.ErrorHandling.translate" title="(msg: =&gt; String)(f: =&gt; Unit)Unit">translate</a><span class="delimiter">(</span><span title="String(&quot;Error extracting zip entry \'&quot;)" class="string">&quot;Error extracting zip entry '&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.extract.next.name" title="String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\' to \'&quot;)" class="string">&quot;' to '&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.extract.next.target" title="java.io.File">target</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\': &quot;)" class="string">&quot;': &quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="Using.scala.html#sbt.Using.fileOutputStream" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; Unit)Unit" class="delimiter">(</a><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.extract.next.target" title="java.io.File">target</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="sbt.IO.extract.next.$anonfun.out">out</a> =&gt; <a href="#sbt.IO.transfer(07cfa35a6e)" title="(in: java.io.InputStream, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#sbt.IO.extract.from" title="java.util.zip.ZipInputStream">from</a>, <a href="#sbt.IO.extract.next.$anonfun.out" title="java.io.BufferedOutputStream">out</a><span class="delimiter">)</span> <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.extract.preserveLastModified" title="Boolean">preserveLastModified</a><span class="delimiter">)</span>
              <a href="#sbt.IO.extract.next.target" title="java.io.File">target</a>.<span title="(x$1: Long)Boolean">setLastModified</span><span class="delimiter">(</span><a href="#sbt.IO.extract.next.entry" title="java.util.zip.ZipEntry">entry</a>.<span title="()Long">getTime</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="delimiter">{</span>
            <span class="comment">//log.debug(&quot;Ignoring zip entry '&quot; + name + &quot;'&quot;)</span>
          <span class="delimiter">}</span>
          <a href="#sbt.IO.extract.from" title="java.util.zip.ZipInputStream">from</a>.<span title="()Unit">closeEntry</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#sbt.IO.extract.next" title="()Unit">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#sbt.IO.extract.next" title="()Unit">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span title="(elems: java.io.File*)scala.collection.immutable.Set[java.io.File]">Set</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(elems: scala.collection.GenTraversableOnce[java.io.File])scala.collection.immutable.Set[java.io.File]">++</span> <a href="#sbt.IO.extract.set" title="scala.collection.mutable.HashSet[java.io.File]">set</a>
    <span class="delimiter">}</span>

  <span class="comment">/** Retrieves the content of the given URL and writes it to the given File. */</span>
  <span class="keyword">def</span> <a title="(url: java.net.URL, to: java.io.File)Unit" id="sbt.IO.download">download</a><span class="delimiter">(</span><a title="java.net.URL" id="sbt.IO.download.url">url</a>: <span title="java.net.URL">URL</span>, <a title="java.io.File" id="sbt.IO.download.to">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> =
    <a href="Using.scala.html#sbt.Using" title="sbt.Using.type">Using</a>.<a href="Using.scala.html#sbt;Using.apply" title="(src: java.net.URL)(f: java.io.BufferedInputStream =&gt; Unit)Unit">urlInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.download.url" title="java.net.URL">url</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="sbt.IO.download.$anonfun.inputStream">inputStream</a> =&gt;
      <a href="#sbt.IO.transfer(eb26baf27a)" title="(in: java.io.InputStream, to: java.io.File)Unit">transfer</a><span class="delimiter">(</span><a href="#sbt.IO.download.$anonfun.inputStream" title="java.io.BufferedInputStream">inputStream</a>, <a href="#sbt.IO.download.to" title="java.io.File">to</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Copies the contents of `in` to `out`.*/</span>
  <span class="keyword">def</span> <a title="(in: java.io.File, out: java.io.File)Unit" id="sbt.IO.transfer(9f149b961c)">transfer</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.transfer(9f149b961c).in">in</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="sbt.IO.transfer(9f149b961c).out">out</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.transfer(9f149b961c).in" title="java.io.File">in</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="sbt.IO.transfer(9f149b961c).$anonfun.in">in</a> =&gt; <a href="#sbt.IO.transfer(eb26baf27a)" title="(in: java.io.InputStream, to: java.io.File)Unit">transfer</a><span class="delimiter">(</span><a href="#sbt.IO.transfer(9f149b961c).$anonfun.in" title="java.io.BufferedInputStream">in</a>, <a href="#sbt.IO.transfer(9f149b961c).out" title="java.io.File">out</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/**
   * Copies the contents of the input file `in` to the `out` stream.
   * The output stream is not closed by this method.
   */</span>
  <span class="keyword">def</span> <a title="(in: java.io.File, out: java.io.OutputStream)Unit" id="sbt.IO.transfer(9710e8fd5d)">transfer</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.transfer(9710e8fd5d).in">in</a>: <span title="java.io.File">File</span>, <a title="java.io.OutputStream" id="sbt.IO.transfer(9710e8fd5d).out">out</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.transfer(9710e8fd5d).in" title="java.io.File">in</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="sbt.IO.transfer(9710e8fd5d).$anonfun.in">in</a> =&gt; <a href="#sbt.IO.transfer(07cfa35a6e)" title="(in: java.io.InputStream, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#sbt.IO.transfer(9710e8fd5d).$anonfun.in" title="java.io.BufferedInputStream">in</a>, <a href="#sbt.IO.transfer(9710e8fd5d).out" title="java.io.OutputStream">out</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Copies all bytes from the given input stream to the given File.  The input stream is not closed by this method.*/</span>
  <span class="keyword">def</span> <a title="(in: java.io.InputStream, to: java.io.File)Unit" id="sbt.IO.transfer(eb26baf27a)">transfer</a><span class="delimiter">(</span><a title="java.io.InputStream" id="sbt.IO.transfer(eb26baf27a).in">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.File" id="sbt.IO.transfer(eb26baf27a).to">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="Using.scala.html#sbt.Using" title="sbt.Using.type">Using</a>.<a href="Using.scala.html#sbt.Using.fileOutputStream" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.transfer(eb26baf27a).to" title="java.io.File">to</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="sbt.IO.transfer(eb26baf27a).$anonfun.outputStream">outputStream</a> =&gt;
      <a href="#sbt.IO.transfer(07cfa35a6e)" title="(in: java.io.InputStream, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#sbt.IO.transfer(eb26baf27a).in" title="java.io.InputStream">in</a>, <a href="#sbt.IO.transfer(eb26baf27a).$anonfun.outputStream" title="java.io.BufferedOutputStream">outputStream</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Copies all bytes from the given input stream to the given output stream.
   * Neither stream is closed.
   */</span>
  <span class="keyword">def</span> <a title="(in: java.io.InputStream, out: java.io.OutputStream)Unit" id="sbt.IO.transfer(07cfa35a6e)">transfer</a><span class="delimiter">(</span><a title="java.io.InputStream" id="sbt.IO.transfer(07cfa35a6e).in">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="sbt.IO.transfer(07cfa35a6e).out">out</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#sbt.IO.transferImpl" title="(in: java.io.InputStream, out: java.io.OutputStream, close: Boolean)Unit">transferImpl</a><span class="delimiter">(</span><a href="#sbt.IO.transfer(07cfa35a6e).in" title="java.io.InputStream">in</a>, <a href="#sbt.IO.transfer(07cfa35a6e).out" title="java.io.OutputStream">out</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="comment">/**
   * Copies all bytes from the given input stream to the given output stream.  The
   * input stream is closed after the method completes.
   */</span>
  <span class="keyword">def</span> <a title="(in: java.io.InputStream, out: java.io.OutputStream)Unit" id="sbt.IO.transferAndClose">transferAndClose</a><span class="delimiter">(</span><a title="java.io.InputStream" id="sbt.IO.transferAndClose.in">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="sbt.IO.transferAndClose.out">out</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#sbt.IO.transferImpl" title="(in: java.io.InputStream, out: java.io.OutputStream, close: Boolean)Unit">transferImpl</a><span class="delimiter">(</span><a href="#sbt.IO.transferAndClose.in" title="java.io.InputStream">in</a>, <a href="#sbt.IO.transferAndClose.out" title="java.io.OutputStream">out</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(in: java.io.InputStream, out: java.io.OutputStream, close: Boolean)Unit" id="sbt.IO.transferImpl">transferImpl</a><span class="delimiter">(</span><a title="java.io.InputStream" id="sbt.IO.transferImpl.in">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="sbt.IO.transferImpl.out">out</a>: <span title="java.io.OutputStream">OutputStream</span>, <a title="Boolean" id="sbt.IO.transferImpl.close">close</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Array[Byte]" id="sbt.IO.transferImpl.buffer">buffer</a> = <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><a href="#sbt.IO.BufferSize" title="=&gt; Int">BufferSize</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="()Unit" id="sbt.IO.transferImpl.read">read</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="sbt.IO.transferImpl.read.byteCount">byteCount</a> = <a href="#sbt.IO.transferImpl.in" title="java.io.InputStream">in</a>.<span title="(x$1: Array[Byte])Int">read</span><span class="delimiter">(</span><a href="#sbt.IO.transferImpl.buffer" title="Array[Byte]">buffer</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.transferImpl.read.byteCount" title="Int">byteCount</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#sbt.IO.transferImpl.out" title="java.io.OutputStream">out</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Unit">write</span><span class="delimiter">(</span><a href="#sbt.IO.transferImpl.buffer" title="Array[Byte]">buffer</a>, <span title="Int(0)" class="int">0</span>, <a href="#sbt.IO.transferImpl.read.byteCount" title="Int">byteCount</a><span class="delimiter">)</span>
          <a href="#sbt.IO.transferImpl.read" title="()Unit">read</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#sbt.IO.transferImpl.read" title="()Unit">read</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.transferImpl.close" title="Boolean">close</a><span class="delimiter">)</span> <a href="#sbt.IO.transferImpl.in" title="java.io.InputStream">in</a>.<span title="()Unit">close</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Creates a temporary directory and provides its location to the given function.  The directory
   * is deleted after the function returns.
   */</span>
  <span class="keyword">def</span> <a title="[T](action: java.io.File =&gt; T)T" id="sbt.IO.withTemporaryDirectory">withTemporaryDirectory</a><span class="delimiter">[</span><a title="" id="sbt.IO.withTemporaryDirectory;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File =&gt; T" id="sbt.IO.withTemporaryDirectory.action">action</a>: File =&gt; T<span class="delimiter">)</span>: <a href="#sbt.IO.withTemporaryDirectory;T" title="T">T</a> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.File" id="sbt.IO.withTemporaryDirectory.dir">dir</a> = <a href="#sbt.IO.createTemporaryDirectory" title="=&gt; java.io.File">createTemporaryDirectory</a>
      <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#sbt.IO.withTemporaryDirectory.action" title="(v1: java.io.File)T">action</a><span class="delimiter">(</span><a href="#sbt.IO.withTemporaryDirectory.dir" title="java.io.File">dir</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="keyword">finally</span> <span class="delimiter">{</span> <a href="#sbt.IO.delete(e3f9ce1f75)" title="(file: java.io.File)Unit">delete</a><span class="delimiter">(</span><a href="#sbt.IO.withTemporaryDirectory.dir" title="java.io.File">dir</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Creates a directory in the default temporary directory with a name generated from a random integer. */</span>
  <span class="keyword">def</span> <a title="=&gt; java.io.File" id="sbt.IO.createTemporaryDirectory">createTemporaryDirectory</a>: <span title="java.io.File">File</span> = <a href="#sbt.IO.createUniqueDirectory" title="(baseDirectory: java.io.File)java.io.File">createUniqueDirectory</a><span class="delimiter">(</span><a href="#sbt.IO.temporaryDirectory" title="=&gt; java.io.File">temporaryDirectory</a><span class="delimiter">)</span>

  <span class="comment">/** Creates a directory in `baseDirectory` with a name generated from a random integer */</span>
  <span class="keyword">def</span> <a title="(baseDirectory: java.io.File)java.io.File" id="sbt.IO.createUniqueDirectory">createUniqueDirectory</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.createUniqueDirectory.baseDirectory">baseDirectory</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
    <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tries: Int)java.io.File" id="sbt.IO.createUniqueDirectory.create">create</a><span class="delimiter">(</span><a title="Int" id="sbt.IO.createUniqueDirectory.create.tries">tries</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
        <span class="delimiter">{</span>
          <span title="java.io.File" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.createUniqueDirectory.create.tries" title="Int">tries</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#sbt.IO.MaximumTries" title="=&gt; Int">MaximumTries</a><span class="delimiter">)</span>
            sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;Could not create temporary directory.&quot;)" class="string">&quot;Could not create temporary directory.&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="String" id="sbt.IO.createUniqueDirectory.create.randomName">randomName</a> = <span title="String(&quot;sbt_&quot;)" class="string">&quot;sbt_&quot;</span> <span title="(x$1: Any)String">+</span> java.lang.<span title="Integer.type">Integer</span>.<span title="(x$1: Int)String">toHexString</span><span class="delimiter">(</span><a href="#sbt.IO.random" title="=&gt; java.util.Random">random</a>.<span title="()Int">nextInt</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="java.io.File" id="sbt.IO.createUniqueDirectory.create.f">f</a> = <span title="(x$1: java.io.File, x$2: String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.IO.createUniqueDirectory.baseDirectory" title="java.io.File">baseDirectory</a>, <a href="#sbt.IO.createUniqueDirectory.create.randomName" title="String">randomName</a><span class="delimiter">)</span>

            <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#sbt.IO.createDirectory" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#sbt.IO.createUniqueDirectory.create.f" title="java.io.File">f</a><span class="delimiter">)</span>; <a href="#sbt.IO.createUniqueDirectory.create.f" title="java.io.File">f</a> <span class="delimiter">}</span>
            <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Exception" id="sbt.IO.createUniqueDirectory.create.e">e</a>: <span title="Exception">Exception</span> =&gt; <a href="#sbt.IO.createUniqueDirectory.create" title="(tries: Int)java.io.File">create</a><span class="delimiter">(</span><a href="#sbt.IO.createUniqueDirectory.create.tries" title="Int">tries</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <a href="#sbt.IO.createUniqueDirectory.create" title="(tries: Int)java.io.File">create</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="comment">/**
   * Creates a file in the default temporary directory, calls `action` with the file, deletes the file, and returns the result of calling `action`.
   * The name of the file will begin with `prefix`, which must be at least three characters long, and end with `postfix`, which has no minimum length.
   */</span>
  <span class="keyword">def</span> <a title="[T](prefix: String, postfix: String)(action: java.io.File =&gt; T)T" id="sbt.IO.withTemporaryFile">withTemporaryFile</a><span class="delimiter">[</span><a title="" id="sbt.IO.withTemporaryFile;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="sbt.IO.withTemporaryFile.prefix">prefix</a>: <span title="String">String</span>, <a title="String" id="sbt.IO.withTemporaryFile.postfix">postfix</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.File =&gt; T" id="sbt.IO.withTemporaryFile.action">action</a>: File =&gt; T<span class="delimiter">)</span>: <a href="#sbt.IO.withTemporaryFile;T" title="T">T</a> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.File" id="sbt.IO.withTemporaryFile.file">file</a> = <span title="java.io.File.type">File</span>.<span title="(x$1: String, x$2: String)java.io.File">createTempFile</span><span class="delimiter">(</span><a href="#sbt.IO.withTemporaryFile.prefix" title="String">prefix</a>, <a href="#sbt.IO.withTemporaryFile.postfix" title="String">postfix</a><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#sbt.IO.withTemporaryFile.action" title="(v1: java.io.File)T">action</a><span class="delimiter">(</span><a href="#sbt.IO.withTemporaryFile.file" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="keyword">finally</span> <span class="delimiter">{</span> <a href="#sbt.IO.withTemporaryFile.file" title="java.io.File">file</a>.<span title="()Boolean">delete</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span>sbt<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(dir: java.io.File)Iterable[java.io.File]" id="sbt.IO.jars">jars</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.jars.dir">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Iterable[java.io.File]">Iterable</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#sbt.IO.listFiles(b041558222)" title="(dir: java.io.File, filter: java.io.FileFilter)Array[java.io.File]">listFiles</a><span title="(xs: Array[java.io.File])scala.collection.mutable.WrappedArray[java.io.File]" class="delimiter">(</span><a href="#sbt.IO.jars.dir" title="java.io.File">dir</a>, <a href="NameFilter.scala.html#sbt.GlobFilter.apply" title="(expression: String)sbt.NameFilter">GlobFilter</a><span class="delimiter">(</span><span title="String(&quot;*.jar&quot;)" class="string">&quot;*.jar&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Deletes all empty directories in the set.  Any non-empty directories are ignored. */</span>
  <span class="keyword">def</span> <a title="(dirs: scala.collection.Set[java.io.File])Unit" id="sbt.IO.deleteIfEmpty">deleteIfEmpty</a><span class="delimiter">(</span><a title="scala.collection.Set[java.io.File]" id="sbt.IO.deleteIfEmpty.dirs">dirs</a>: collection.<span title="scala.collection.Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.io.File,Boolean]" id="sbt.IO.deleteIfEmpty.isEmpty">isEmpty</a> = <span title="()scala.collection.mutable.HashMap[java.io.File,Boolean]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[java.io.File,Boolean]">HashMap</span><span class="delimiter">[</span>File, Boolean<span class="delimiter">]</span>
      <span class="keyword">def</span> <a title="(f: java.io.File)Boolean" id="sbt.IO.deleteIfEmpty.visit">visit</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.deleteIfEmpty.visit.f">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#sbt.IO.deleteIfEmpty.isEmpty" title="scala.collection.mutable.HashMap[java.io.File,Boolean]">isEmpty</a>.<span title="(key: java.io.File, op: =&gt; Boolean)Boolean">getOrElseUpdate</span><span class="delimiter">(</span><a href="#sbt.IO.deleteIfEmpty.visit.f" title="java.io.File">f</a>, <a href="#sbt.IO.deleteIfEmpty.dirs" title="(elem: java.io.File)Boolean">dirs</a><span class="delimiter">(</span><a href="#sbt.IO.deleteIfEmpty.visit.f" title="java.io.File">f</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#sbt.IO.deleteIfEmpty.visit.f" title="java.io.File">f</a>.<span title="()Boolean">isDirectory</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#sbt.IO.deleteIfEmpty.visit.f" title="java.io.File">f</a>.<span title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]">listFiles</span> <span title="(p: java.io.File =&gt; Boolean)Boolean">forall</span> <a href="#sbt.IO.deleteIfEmpty.visit" title="(f: java.io.File)Boolean">visit</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#sbt.IO.deleteIfEmpty.dirs" title="scala.collection.Set[java.io.File]">dirs</a> <span title="(f: java.io.File =&gt; Boolean)Unit">foreach</span> <a href="#sbt.IO.deleteIfEmpty.visit" title="(f: java.io.File)Boolean">visit</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.deleteIfEmpty.$anonfun.f">f</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> &lt;- <a href="#sbt.IO.deleteIfEmpty.isEmpty" title="(f: ((java.io.File, Boolean)) =&gt; Boolean)Unit">isEmpty</a><span class="delimiter">)</span> <a href="#sbt.IO.deleteIfEmpty.$anonfun.f" title="java.io.File">f</a>.<span title="()Boolean">delete</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Deletes each file or directory (recursively) in `files`.*/</span>
  <span class="keyword">def</span> <a title="(files: Iterable[java.io.File])Unit" id="sbt.IO.delete(e58e0d40a2)">delete</a><span class="delimiter">(</span><a title="Iterable[java.io.File]" id="sbt.IO.delete(e58e0d40a2).files">files</a>: <span title="Iterable[java.io.File]">Iterable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#sbt.IO.delete(e58e0d40a2).files" title="Iterable[java.io.File]">files</a>.<span title="(f: java.io.File =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#sbt.IO.delete(e3f9ce1f75)" title="(file: java.io.File)Unit">delete</a><span class="delimiter">)</span>

  <span class="comment">/** Deletes each file or directory in `files` recursively.  Any empty parent directories are deleted, recursively.*/</span>
  <span class="keyword">def</span> <a title="(files: Iterable[java.io.File])Unit" id="sbt.IO.deleteFilesEmptyDirs">deleteFilesEmptyDirs</a><span class="delimiter">(</span><a title="Iterable[java.io.File]" id="sbt.IO.deleteFilesEmptyDirs.files">files</a>: <span title="Iterable[java.io.File]">Iterable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(dir: java.io.File)Boolean" id="sbt.IO.deleteFilesEmptyDirs.isEmptyDirectory">isEmptyDirectory</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.deleteFilesEmptyDirs.isEmptyDirectory.dir">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <a href="#sbt.IO.deleteFilesEmptyDirs.isEmptyDirectory.dir" title="java.io.File">dir</a>.<span title="()Boolean">isDirectory</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#sbt.IO.listFiles(8717771793)" title="(dir: java.io.File)Array[java.io.File]">listFiles</a><span title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]" class="delimiter">(</span><a href="#sbt.IO.deleteFilesEmptyDirs.isEmptyDirectory.dir" title="java.io.File">dir</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span>
      <span class="keyword">def</span> <a title="(fs: Set[java.io.File])scala.collection.immutable.Set[java.io.File]" id="sbt.IO.deleteFilesEmptyDirs.parents">parents</a><span class="delimiter">(</span><a title="Set[java.io.File]" id="sbt.IO.deleteFilesEmptyDirs.parents.fs">fs</a>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#sbt.IO.deleteFilesEmptyDirs.parents.fs" title="Set[java.io.File]">fs</a> <span title="(f: java.io.File =&gt; scala.collection.GenTraversableOnce[java.io.File])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[java.io.File],java.io.File,scala.collection.immutable.Set[java.io.File]])scala.collection.immutable.Set[java.io.File]">flatMap</span> <span class="delimiter">{</span> <a title="java.io.File" id="sbt.IO.deleteFilesEmptyDirs.parents.$anonfun.f">f</a> =&gt; <span title="(x: java.io.File)Option[java.io.File]">Option</span><span title="(xo: Option[java.io.File])Iterable[java.io.File]" class="delimiter">(</span><a href="#sbt.IO.deleteFilesEmptyDirs.parents.$anonfun.f" title="java.io.File">f</a>.<span title="()java.io.File">getParentFile</span><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(dirs: Set[java.io.File])Unit" id="sbt.IO.deleteFilesEmptyDirs.deleteEmpty">deleteEmpty</a><span class="delimiter">(</span><a title="Set[java.io.File]" id="sbt.IO.deleteFilesEmptyDirs.deleteEmpty.dirs">dirs</a>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[java.io.File]" id="sbt.IO.deleteFilesEmptyDirs.deleteEmpty.empty">empty</a> = <a href="#sbt.IO.deleteFilesEmptyDirs.deleteEmpty.dirs" title="Set[java.io.File]">dirs</a> <span title="(p: java.io.File =&gt; Boolean)scala.collection.immutable.Set[java.io.File]">filter</span> <a href="#sbt.IO.deleteFilesEmptyDirs.isEmptyDirectory" title="(dir: java.io.File)Boolean">isEmptyDirectory</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.deleteFilesEmptyDirs.deleteEmpty.empty" title="scala.collection.immutable.Set[java.io.File]">empty</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="comment">// looks funny, but this is true if at least one of `dirs` is an empty directory</span>
        <span class="delimiter">{</span>
          <a href="#sbt.IO.deleteFilesEmptyDirs.deleteEmpty.empty" title="scala.collection.immutable.Set[java.io.File]">empty</a> <span title="(f: java.io.File =&gt; Boolean)Unit">foreach</span> <span class="delimiter">{</span> <a href="#sbt.IO.deleteFilesEmptyDirs.deleteEmpty.$anonfun.x$2" title="java.io.File">_</a>.<span title="()Boolean">delete</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
          <a href="#sbt.IO.deleteFilesEmptyDirs.deleteEmpty" title="(dirs: Set[java.io.File])Unit">deleteEmpty</a><span class="delimiter">(</span><a href="#sbt.IO.deleteFilesEmptyDirs.parents" title="(fs: Set[java.io.File])scala.collection.immutable.Set[java.io.File]">parents</a><span class="delimiter">(</span><a href="#sbt.IO.deleteFilesEmptyDirs.deleteEmpty.empty" title="scala.collection.immutable.Set[java.io.File]">empty</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#sbt.IO.delete(e58e0d40a2)" title="(files: Iterable[java.io.File])Unit">delete</a><span class="delimiter">(</span><a href="#sbt.IO.deleteFilesEmptyDirs.files" title="Iterable[java.io.File]">files</a><span class="delimiter">)</span>
      <a href="#sbt.IO.deleteFilesEmptyDirs.deleteEmpty" title="(dirs: Set[java.io.File])Unit">deleteEmpty</a><span class="delimiter">(</span><a href="#sbt.IO.deleteFilesEmptyDirs.parents" title="(fs: Set[java.io.File])scala.collection.immutable.Set[java.io.File]">parents</a><span class="delimiter">(</span><a href="#sbt.IO.deleteFilesEmptyDirs.files" title="Iterable[java.io.File]">files</a>.<span title="scala.collection.immutable.Set[java.io.File]">toSet</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Deletes `file`, recursively if it is a directory. */</span>
  <span class="keyword">def</span> <a title="(file: java.io.File)Unit" id="sbt.IO.delete(e3f9ce1f75)">delete</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.delete(e3f9ce1f75).file">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="ErrorHandling.scala.html#sbt.ErrorHandling.translate" title="(msg: =&gt; String)(f: =&gt; AnyVal)AnyVal">translate</a><span class="delimiter">(</span><span title="String(&quot;Error deleting file &quot;)" class="string">&quot;Error deleting file &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.delete(e3f9ce1f75).file" title="java.io.File">file</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="sbt.IO.delete(e3f9ce1f75).deleted">deleted</a> = <a href="#sbt.IO.delete(e3f9ce1f75).file" title="java.io.File">file</a>.<span title="()Boolean">delete</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#sbt.IO.delete(e3f9ce1f75).deleted" title="Boolean">deleted</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#sbt.IO.delete(e3f9ce1f75).file" title="java.io.File">file</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#sbt.IO.delete(e58e0d40a2)" title="(files: Iterable[java.io.File])Unit">delete</a><span class="delimiter">(</span><a href="#sbt.IO.listFiles(8717771793)" title="(dir: java.io.File)Array[java.io.File]">listFiles</a><span title="(xs: Array[java.io.File])scala.collection.mutable.WrappedArray[java.io.File]" class="delimiter">(</span><a href="#sbt.IO.delete(e3f9ce1f75).file" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#sbt.IO.delete(e3f9ce1f75).file" title="java.io.File">file</a>.<span title="()Boolean">delete</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Returns the children of directory `dir` that match `filter` in a non-null array.*/</span>
  <span class="keyword">def</span> <a title="(filter: java.io.FileFilter)(dir: java.io.File)Array[java.io.File]" id="sbt.IO.listFiles(8450ab5e71)">listFiles</a><span class="delimiter">(</span><a title="java.io.FileFilter" id="sbt.IO.listFiles(8450ab5e71).filter">filter</a>: java.io.<span title="java.io.FileFilter">FileFilter</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.listFiles(8450ab5e71).dir">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#sbt.IO.wrapNull" title="(a: Array[java.io.File])Array[java.io.File]">wrapNull</a><span class="delimiter">(</span><a href="#sbt.IO.listFiles(8450ab5e71).dir" title="java.io.File">dir</a>.<span title="(x$1: java.io.FileFilter)Array[java.io.File]">listFiles</span><span class="delimiter">(</span><a href="#sbt.IO.listFiles(8450ab5e71).filter" title="java.io.FileFilter">filter</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Returns the children of directory `dir` that match `filter` in a non-null array.*/</span>
  <span class="keyword">def</span> <a title="(dir: java.io.File, filter: java.io.FileFilter)Array[java.io.File]" id="sbt.IO.listFiles(b041558222)">listFiles</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.listFiles(b041558222).dir">dir</a>: <span title="java.io.File">File</span>, <a title="java.io.FileFilter" id="sbt.IO.listFiles(b041558222).filter">filter</a>: java.io.<span title="java.io.FileFilter">FileFilter</span><span class="delimiter">)</span>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#sbt.IO.wrapNull" title="(a: Array[java.io.File])Array[java.io.File]">wrapNull</a><span class="delimiter">(</span><a href="#sbt.IO.listFiles(b041558222).dir" title="java.io.File">dir</a>.<span title="(x$1: java.io.FileFilter)Array[java.io.File]">listFiles</span><span class="delimiter">(</span><a href="#sbt.IO.listFiles(b041558222).filter" title="java.io.FileFilter">filter</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Returns the children of directory `dir` in a non-null array.*/</span>
  <span class="keyword">def</span> <a title="(dir: java.io.File)Array[java.io.File]" id="sbt.IO.listFiles(8717771793)">listFiles</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.listFiles(8717771793).dir">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#sbt.IO.wrapNull" title="(a: Array[java.io.File])Array[java.io.File]">wrapNull</a><span class="delimiter">(</span><a href="#sbt.IO.listFiles(8717771793).dir" title="java.io.File">dir</a>.<span title="()Array[java.io.File]">listFiles</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span><span class="delimiter">[</span>sbt<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(a: Array[java.io.File])Array[java.io.File]" id="sbt.IO.wrapNull">wrapNull</a><span class="delimiter">(</span><a title="Array[java.io.File]" id="sbt.IO.wrapNull.a">a</a>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span title="Array[java.io.File]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.wrapNull.a" title="Array[java.io.File]">a</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
      <span title="Array[java.io.File]" class="keyword">new</span> <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#sbt.IO.wrapNull.a" title="Array[java.io.File]">a</a>

  <span class="comment">/**
   * Creates a jar file.
   * @param sources The files to include in the jar file paired with the entry name in the jar.  Only the pairs explicitly listed are included.
   * @param outputJar The file to write the jar to.
   * @param manifest The manifest for the jar.
   */</span>
  <span class="keyword">def</span> <a title="(sources: Traversable[(java.io.File, String)], outputJar: java.io.File, manifest: java.util.jar.Manifest)Unit" id="sbt.IO.jar">jar</a><span class="delimiter">(</span><a title="Traversable[(java.io.File, String)]" id="sbt.IO.jar.sources">sources</a>: <span title="Traversable[(java.io.File, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>File, String<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="java.io.File" id="sbt.IO.jar.outputJar">outputJar</a>: <span title="java.io.File">File</span>, <a title="java.util.jar.Manifest" id="sbt.IO.jar.manifest">manifest</a>: <span title="java.util.jar.Manifest">Manifest</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.IO.archive" title="(sources: Seq[(java.io.File, String)], outputFile: java.io.File, manifest: Option[java.util.jar.Manifest])Unit">archive</a><span class="delimiter">(</span><a href="#sbt.IO.jar.sources" title="Traversable[(java.io.File, String)]">sources</a>.<span title="=&gt; Seq[(java.io.File, String)]">toSeq</span>, <a href="#sbt.IO.jar.outputJar" title="java.io.File">outputJar</a>, <span title="(x: java.util.jar.Manifest)Some[java.util.jar.Manifest]">Some</span><span class="delimiter">(</span><a href="#sbt.IO.jar.manifest" title="java.util.jar.Manifest">manifest</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Creates a zip file.
   * @param sources The files to include in the zip file paired with the entry name in the zip.  Only the pairs explicitly listed are included.
   * @param outputZip The file to write the zip to.
   */</span>
  <span class="keyword">def</span> <a title="(sources: Traversable[(java.io.File, String)], outputZip: java.io.File)Unit" id="sbt.IO.zip">zip</a><span class="delimiter">(</span><a title="Traversable[(java.io.File, String)]" id="sbt.IO.zip.sources">sources</a>: <span title="Traversable[(java.io.File, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>File, String<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="java.io.File" id="sbt.IO.zip.outputZip">outputZip</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.IO.archive" title="(sources: Seq[(java.io.File, String)], outputFile: java.io.File, manifest: Option[java.util.jar.Manifest])Unit">archive</a><span class="delimiter">(</span><a href="#sbt.IO.zip.sources" title="Traversable[(java.io.File, String)]">sources</a>.<span title="=&gt; Seq[(java.io.File, String)]">toSeq</span>, <a href="#sbt.IO.zip.outputZip" title="java.io.File">outputZip</a>, <span title="None.type">None</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sources: Seq[(java.io.File, String)], outputFile: java.io.File, manifest: Option[java.util.jar.Manifest])Unit" id="sbt.IO.archive">archive</a><span class="delimiter">(</span><a title="Seq[(java.io.File, String)]" id="sbt.IO.archive.sources">sources</a>: <span title="Seq[(java.io.File, String)]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>File, String<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="java.io.File" id="sbt.IO.archive.outputFile">outputFile</a>: <span title="java.io.File">File</span>, <a title="Option[java.util.jar.Manifest]" id="sbt.IO.archive.manifest">manifest</a>: <span title="Option[java.util.jar.Manifest]">Option</span><span class="delimiter">[</span>Manifest<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.archive.outputFile" title="java.io.File">outputFile</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
      sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;Specified output file &quot;)" class="string">&quot;Specified output file &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.archive.outputFile" title="java.io.File">outputFile</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is a directory.&quot;)" class="string">&quot; is a directory.&quot;</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.File" id="sbt.IO.archive.outputDir">outputDir</a> = <a href="#sbt.IO.archive.outputFile" title="java.io.File">outputFile</a>.<span title="()java.io.File">getParentFile</span>
      <a href="#sbt.IO.createDirectory" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#sbt.IO.archive.outputDir" title="java.io.File">outputDir</a><span class="delimiter">)</span>
      <a href="#sbt.IO.withZipOutput" title="(file: java.io.File, manifest: Option[java.util.jar.Manifest])(f: java.util.zip.ZipOutputStream =&gt; Unit)Unit">withZipOutput</a><span class="delimiter">(</span><a href="#sbt.IO.archive.outputFile" title="java.io.File">outputFile</a>, <a href="#sbt.IO.archive.manifest" title="Option[java.util.jar.Manifest]">manifest</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.ZipOutputStream" id="sbt.IO.archive.$anonfun.output">output</a> =&gt;
        <span class="keyword">val</span> <a title="String =&gt; java.util.zip.ZipEntry" id="sbt.IO.archive.$anonfun.createEntry">createEntry</a>: <span class="delimiter">(</span>String =&gt; ZipEntry<span class="delimiter">)</span> = <span title="String =&gt; java.util.zip.ZipEntry" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.archive.manifest" title="Option[java.util.jar.Manifest]">manifest</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span title="java.util.jar.JarEntry" class="keyword">new</span> <span title="java.util.jar.JarEntry">JarEntry</span><span class="delimiter">(</span><a href="#sbt.IO.archive.$anonfun.createEntry.$anonfun.x$3" title="String">_</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="java.util.zip.ZipEntry" class="keyword">new</span> <span title="java.util.zip.ZipEntry">ZipEntry</span><span class="delimiter">(</span><a href="#sbt.IO.archive.$anonfun.createEntry.$anonfun.x$4" title="String">_</a><span class="delimiter">)</span>
        <a href="#sbt.IO.writeZip" title="(sources: Seq[(java.io.File, String)], output: java.util.zip.ZipOutputStream)(createEntry: String =&gt; java.util.zip.ZipEntry)Unit">writeZip</a><span class="delimiter">(</span><a href="#sbt.IO.archive.sources" title="Seq[(java.io.File, String)]">sources</a>, <a href="#sbt.IO.archive.$anonfun.output" title="java.util.zip.ZipOutputStream">output</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.archive.$anonfun.createEntry" title="String =&gt; java.util.zip.ZipEntry">createEntry</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sources: Seq[(java.io.File, String)], output: java.util.zip.ZipOutputStream)(createEntry: String =&gt; java.util.zip.ZipEntry)Unit" id="sbt.IO.writeZip">writeZip</a><span class="delimiter">(</span><a title="Seq[(java.io.File, String)]" id="sbt.IO.writeZip.sources">sources</a>: <span title="Seq[(java.io.File, String)]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>File, String<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="java.util.zip.ZipOutputStream" id="sbt.IO.writeZip.output">output</a>: <span title="java.util.zip.ZipOutputStream">ZipOutputStream</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="String =&gt; java.util.zip.ZipEntry" id="sbt.IO.writeZip.createEntry">createEntry</a>: String =&gt; ZipEntry<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Seq[(java.io.File, String)]" id="sbt.IO.writeZip.files">files</a> = <a href="#sbt.IO.writeZip.sources" title="Seq[(java.io.File, String)]">sources</a>.<span title="(f: ((java.io.File, String)) =&gt; scala.collection.GenTraversableOnce[(java.io.File, String)])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(java.io.File, String)],(java.io.File, String),Seq[(java.io.File, String)]])Seq[(java.io.File, String)]">flatMap</span> <a href="#sbt.IO.writeZip.files.$anonfun.x0$1" title="List[(java.io.File, String)]" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.writeZip.files.$anonfun.file">file</a>, <a title="String" id="sbt.IO.writeZip.files.$anonfun.name">name</a><span class="delimiter">)</span> =&gt; <span title="List[(java.io.File, String)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.writeZip.files.$anonfun.file" title="java.io.File">file</a>.<span title="()Boolean">isFile</span><span class="delimiter">)</span> <span title="(_1: java.io.File, _2: String)(java.io.File, String)" class="delimiter">(</span><a href="#sbt.IO.writeZip.files.$anonfun.file" title="java.io.File">file</a>, <a href="#sbt.IO.normalizeName" title="(name: String)String">normalizeName</a><span class="delimiter">(</span><a href="#sbt.IO.writeZip.files.$anonfun.name" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#sbt.IO.writeZip.files.$anonfun.x$5" title="(x: (java.io.File, String))List[(java.io.File, String)]">::</a> <span title="scala.collection.immutable.Nil.type">Nil</span> <span class="keyword">else</span> <span title="scala.collection.immutable.Nil.type">Nil</span> <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Long" id="sbt.IO.writeZip.now">now</a> = <span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span>
    <span class="comment">// The CRC32 for an empty value, needed to store directories in zip files</span>
    <span class="keyword">val</span> <a title="Long" id="sbt.IO.writeZip.emptyCRC">emptyCRC</a> = <span title="java.util.zip.CRC32" class="keyword">new</span> <span title="java.util.zip.CRC32">CRC32</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()Long">getValue</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(name: String)Unit" id="sbt.IO.writeZip.addDirectoryEntry">addDirectoryEntry</a><span class="delimiter">(</span><a title="String" id="sbt.IO.writeZip.addDirectoryEntry.name">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <a href="#sbt.IO.writeZip.output" title="java.util.zip.ZipOutputStream">output</a> <span title="(x$1: java.util.zip.ZipEntry)Unit">putNextEntry</span> <a href="#sbt.IO.writeZip.makeDirectoryEntry" title="(name: String)java.util.zip.ZipEntry">makeDirectoryEntry</a><span class="delimiter">(</span><a href="#sbt.IO.writeZip.addDirectoryEntry.name" title="String">name</a><span class="delimiter">)</span>
      <a href="#sbt.IO.writeZip.output" title="java.util.zip.ZipOutputStream">output</a>.<span title="()Unit">closeEntry</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(name: String)java.util.zip.ZipEntry" id="sbt.IO.writeZip.makeDirectoryEntry">makeDirectoryEntry</a><span class="delimiter">(</span><a title="String" id="sbt.IO.writeZip.makeDirectoryEntry.name">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
      <span class="delimiter">{</span>
        <span class="comment">//			log.debug(&quot;\tAdding directory &quot; + relativePath + &quot; ...&quot;)</span>
        <span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="sbt.IO.writeZip.makeDirectoryEntry.e">e</a> = <a href="#sbt.IO.writeZip.createEntry" title="(v1: String)java.util.zip.ZipEntry">createEntry</a><span class="delimiter">(</span><a href="#sbt.IO.writeZip.makeDirectoryEntry.name" title="String">name</a><span class="delimiter">)</span>
        <a href="#sbt.IO.writeZip.makeDirectoryEntry.e" title="java.util.zip.ZipEntry">e</a> <span title="(x$1: Long)Unit">setTime</span> <a href="#sbt.IO.writeZip.now" title="Long">now</a>
        <a href="#sbt.IO.writeZip.makeDirectoryEntry.e" title="java.util.zip.ZipEntry">e</a> <span title="(x$1: Long)Unit">setSize</span> <span title="Long(0L)" class="int">0</span>
        <a href="#sbt.IO.writeZip.makeDirectoryEntry.e" title="java.util.zip.ZipEntry">e</a> <span title="(x$1: Int)Unit">setMethod</span> ZipEntry.<span title="Int(0)">STORED</span>
        <a href="#sbt.IO.writeZip.makeDirectoryEntry.e" title="java.util.zip.ZipEntry">e</a> <span title="(x$1: Long)Unit">setCrc</span> <a href="#sbt.IO.writeZip.emptyCRC" title="Long">emptyCRC</a>
        <a href="#sbt.IO.writeZip.makeDirectoryEntry.e" title="java.util.zip.ZipEntry">e</a>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(file: java.io.File, name: String)java.util.zip.ZipEntry" id="sbt.IO.writeZip.makeFileEntry">makeFileEntry</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.writeZip.makeFileEntry.file">file</a>: <span title="java.io.File">File</span>, <a title="String" id="sbt.IO.writeZip.makeFileEntry.name">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
      <span class="delimiter">{</span>
        <span class="comment">//			log.debug(&quot;\tAdding &quot; + file + &quot; as &quot; + name + &quot; ...&quot;)</span>
        <span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="sbt.IO.writeZip.makeFileEntry.e">e</a> = <a href="#sbt.IO.writeZip.createEntry" title="(v1: String)java.util.zip.ZipEntry">createEntry</a><span class="delimiter">(</span><a href="#sbt.IO.writeZip.makeFileEntry.name" title="String">name</a><span class="delimiter">)</span>
        <a href="#sbt.IO.writeZip.makeFileEntry.e" title="java.util.zip.ZipEntry">e</a> <span title="(x$1: Long)Unit">setTime</span> <a href="#sbt.IO.writeZip.makeFileEntry.file" title="java.io.File">file</a>.<span title="()Long">lastModified</span>
        <a href="#sbt.IO.writeZip.makeFileEntry.e" title="java.util.zip.ZipEntry">e</a>
      <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(file: java.io.File, name: String)Unit" id="sbt.IO.writeZip.addFileEntry">addFileEntry</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.writeZip.addFileEntry.file">file</a>: <span title="java.io.File">File</span>, <a title="String" id="sbt.IO.writeZip.addFileEntry.name">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <a href="#sbt.IO.writeZip.output" title="java.util.zip.ZipOutputStream">output</a> <span title="(x$1: java.util.zip.ZipEntry)Unit">putNextEntry</span> <a href="#sbt.IO.writeZip.makeFileEntry" title="(file: java.io.File, name: String)java.util.zip.ZipEntry">makeFileEntry</a><span class="delimiter">(</span><a href="#sbt.IO.writeZip.addFileEntry.file" title="java.io.File">file</a>, <a href="#sbt.IO.writeZip.addFileEntry.name" title="String">name</a><span class="delimiter">)</span>
      <a href="#sbt.IO.transfer(9710e8fd5d)" title="(in: java.io.File, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#sbt.IO.writeZip.addFileEntry.file" title="java.io.File">file</a>, <a href="#sbt.IO.writeZip.output" title="java.util.zip.ZipOutputStream">output</a><span class="delimiter">)</span>
      <a href="#sbt.IO.writeZip.output" title="java.util.zip.ZipOutputStream">output</a>.<span title="()Unit">closeEntry</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">//Calculate directories and add them to the generated Zip</span>
    <a href="#sbt.IO.allDirectoryPaths" title="(files: Iterable[(java.io.File, String)])scala.collection.immutable.TreeSet[String]">allDirectoryPaths</a><span class="delimiter">(</span><a href="#sbt.IO.writeZip.files" title="Seq[(java.io.File, String)]">files</a><span class="delimiter">)</span> <span title="(f: String =&gt; Unit)Unit">foreach</span> <a href="#sbt.IO.writeZip.addDirectoryEntry" title="(name: String)Unit">addDirectoryEntry</a>

    <span class="comment">//Add all files to the generated Zip</span>
    <a href="#sbt.IO.writeZip.files" title="Seq[(java.io.File, String)]">files</a> <span title="(f: ((java.io.File, String)) =&gt; Unit)Unit">foreach</span> <a href="#sbt.IO.writeZip.$anonfun.x0$3" title="Unit" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.writeZip.$anonfun.file">file</a>, <a title="String" id="sbt.IO.writeZip.$anonfun.name">name</a><span class="delimiter">)</span> =&gt; <a href="#sbt.IO.writeZip.addFileEntry" title="(file: java.io.File, name: String)Unit">addFileEntry</a><span class="delimiter">(</span><a href="#sbt.IO.writeZip.$anonfun.file" title="java.io.File">file</a>, <a href="#sbt.IO.writeZip.$anonfun.name" title="String">name</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">// map a path a/b/c to List(&quot;a&quot;, &quot;b&quot;)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: String)List[String]" id="sbt.IO.relativeComponents">relativeComponents</a><span class="delimiter">(</span><a title="String" id="sbt.IO.relativeComponents.path">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <a href="#sbt.IO.relativeComponents.path" title="String">path</a>.<span title="(x$1: String)Array[String]">split</span><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>.<span title="=&gt; List[String]">toList</span>.<span title="(n: Int)List[String]">dropRight</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

  <span class="comment">// map components List(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;) to List(&quot;a/b/c/&quot;, &quot;a/b/&quot;, &quot;a/&quot;, &quot;&quot;)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: List[String])List[String]" id="sbt.IO.directories">directories</a><span class="delimiter">(</span><a title="List[String]" id="sbt.IO.directories.path">path</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <a href="#sbt.IO.directories.path" title="List[String]">path</a>.<span title="(z: List[String])(f: (List[String], String) =&gt; List[String])List[String]">foldLeft</span><span class="delimiter">(</span><span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="List[String]" id="sbt.IO.directories.$anonfun.e">e</a>, <a title="String" id="sbt.IO.directories.$anonfun.l">l</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><a href="#sbt.IO.directories.$anonfun.e" title="List[String]">e</a>.<span title="=&gt; String">head</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.directories.$anonfun.l" title="String">l</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <a href="#sbt.IO.directories.$anonfun.x$6" title="(x: String)List[String]">::</a> <a href="#sbt.IO.directories.$anonfun.e" title="List[String]">e</a><span class="delimiter">)</span>

  <span class="comment">// map a path a/b/c to List(&quot;a/b/&quot;, &quot;a/&quot;)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: String)List[String]" id="sbt.IO.directoryPaths">directoryPaths</a><span class="delimiter">(</span><a title="String" id="sbt.IO.directoryPaths.path">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <a href="#sbt.IO.directories" title="(path: List[String])List[String]">directories</a><span class="delimiter">(</span><a href="#sbt.IO.relativeComponents" title="(path: String)List[String]">relativeComponents</a><span class="delimiter">(</span><a href="#sbt.IO.directoryPaths.path" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)List[String]">filter</span><span class="delimiter">(</span><a href="#sbt.IO.directoryPaths.$anonfun.x$7" title="String">_</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

  <span class="comment">// produce a sorted list of all the subdirectories of all provided files</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(files: Iterable[(java.io.File, String)])scala.collection.immutable.TreeSet[String]" id="sbt.IO.allDirectoryPaths">allDirectoryPaths</a><span class="delimiter">(</span><a title="Iterable[(java.io.File, String)]" id="sbt.IO.allDirectoryPaths.files">files</a>: <span title="Iterable[(java.io.File, String)]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>File, String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> =
    <span title="[A](elems: A*)(implicit ord: Ordering[A])scala.collection.immutable.TreeSet[A]">TreeSet</span><span title="(elems: String*)(implicit ord: Ordering[String])scala.collection.immutable.TreeSet[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><span title="scala.math.Ordering.String.type" class="delimiter">(</span><span class="delimiter">)</span> <span title="(elems: scala.collection.GenTraversableOnce[String])scala.collection.immutable.TreeSet[String]">++</span> <span class="delimiter">(</span><a href="#sbt.IO.allDirectoryPaths.files" title="Iterable[(java.io.File, String)]">files</a> <span title="(f: ((java.io.File, String)) =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[(java.io.File, String)],String,Iterable[String]])Iterable[String]">flatMap</span> <a href="#sbt.IO.allDirectoryPaths.$anonfun.x0$2" title="List[String]" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.allDirectoryPaths.$anonfun.file">file</a>, <a title="String" id="sbt.IO.allDirectoryPaths.$anonfun.name">name</a><span class="delimiter">)</span> =&gt; <a href="#sbt.IO.directoryPaths" title="(path: String)List[String]">directoryPaths</a><span class="delimiter">(</span><a href="#sbt.IO.allDirectoryPaths.$anonfun.name" title="String">name</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String)String" id="sbt.IO.normalizeDirName">normalizeDirName</a><span class="delimiter">(</span><a title="String" id="sbt.IO.normalizeDirName.name">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="sbt.IO.normalizeDirName.norm1">norm1</a> = <a href="#sbt.IO.normalizeName" title="(name: String)String">normalizeName</a><span class="delimiter">(</span><a href="#sbt.IO.normalizeDirName.name" title="String">name</a><span class="delimiter">)</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.normalizeDirName.norm1" title="String">norm1</a>.<span title="(x$1: String)Boolean">endsWith</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#sbt.IO.normalizeDirName.norm1" title="String">norm1</a> <span class="keyword">else</span> <span class="delimiter">(</span><a href="#sbt.IO.normalizeDirName.norm1" title="String">norm1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String)String" id="sbt.IO.normalizeName">normalizeName</a><span class="delimiter">(</span><a title="String" id="sbt.IO.normalizeName.name">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Char" id="sbt.IO.normalizeName.sep">sep</a> = <span title="java.io.File.type">File</span>.<span title="Char">separatorChar</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.normalizeName.sep" title="Char">sep</a> <span title="(x: Char)Boolean">==</span> <span title="Char('/')" class="char">'/'</span><span class="delimiter">)</span> <a href="#sbt.IO.normalizeName.name" title="String">name</a> <span class="keyword">else</span> <a href="#sbt.IO.normalizeName.name" title="String">name</a>.<span title="(x$1: Char, x$2: Char)String">replace</span><span class="delimiter">(</span><a href="#sbt.IO.normalizeName.sep" title="Char">sep</a>, <span title="Char('/')" class="char">'/'</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(file: java.io.File, manifest: Option[java.util.jar.Manifest])(f: java.util.zip.ZipOutputStream =&gt; Unit)Unit" id="sbt.IO.withZipOutput">withZipOutput</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.withZipOutput.file">file</a>: <span title="java.io.File">File</span>, <a title="Option[java.util.jar.Manifest]" id="sbt.IO.withZipOutput.manifest">manifest</a>: <span title="Option[java.util.jar.Manifest]">Option</span><span class="delimiter">[</span>Manifest<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.util.zip.ZipOutputStream =&gt; Unit" id="sbt.IO.withZipOutput.f">f</a>: ZipOutputStream =&gt; Unit<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <a href="Using.scala.html#sbt.Using.fileOutputStream" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; Unit)Unit" class="delimiter">(</a><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.withZipOutput.file" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="sbt.IO.withZipOutput.$anonfun.fileOut">fileOut</a> =&gt;
      <span class="keyword">val</span> <a href="#sbt.IO.withZipOutput.$anonfun.zipOut" title="(java.util.zip.ZipOutputStream, String)" class="delimiter">(</a><a href="#sbt.IO.withZipOutput.$anonfun.x$8" title="java.util.zip.ZipOutputStream" id="sbt.IO.withZipOutput.$anonfun.zipOut">zipOut</a>, <a href="#sbt.IO.withZipOutput.$anonfun.x$8" title="String" id="sbt.IO.withZipOutput.$anonfun.ext">ext</a><span class="delimiter">)</span> =
        <a href="#sbt.IO.withZipOutput.manifest" title="Option[java.util.jar.Manifest]">manifest</a> <span title="(java.util.zip.ZipOutputStream, String)" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Some<span class="delimiter">(</span><a title="java.util.jar.Manifest" id="sbt.IO.withZipOutput.$anonfun.x$8.mf">mf</a><span class="delimiter">)</span> =&gt;
            <span class="delimiter">{</span>
              <span class="keyword">import</span> <span title="java.util.jar.Attributes.type">Attributes</span>.<span title="java.util.jar.Attributes.Name.type">Name</span>.MANIFEST_VERSION
              <span class="keyword">val</span> <a title="java.util.jar.Attributes" id="sbt.IO.withZipOutput.$anonfun.x$8.main">main</a> = <a href="#sbt.IO.withZipOutput.$anonfun.x$8.mf" title="java.util.jar.Manifest">mf</a>.<span title="()java.util.jar.Attributes">getMainAttributes</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#sbt.IO.withZipOutput.$anonfun.x$8.main" title="java.util.jar.Attributes">main</a>.<span title="(x$1: Any)Boolean">containsKey</span><span class="delimiter">(</span><span title="java.util.jar.Attributes.Name">MANIFEST_VERSION</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#sbt.IO.withZipOutput.$anonfun.x$8.main" title="java.util.jar.Attributes">main</a>.<span title="(x$1: Any, x$2: Any)Object">put</span><span class="delimiter">(</span><span title="java.util.jar.Attributes.Name">MANIFEST_VERSION</span>, <span title="String(&quot;1.0&quot;)" class="string">&quot;1.0&quot;</span><span class="delimiter">)</span>
              <span title="(_1: java.util.jar.JarOutputStream, _2: String)(java.util.jar.JarOutputStream, String)" class="delimiter">(</span><span title="java.util.jar.JarOutputStream" class="keyword">new</span> <span title="java.util.jar.JarOutputStream">JarOutputStream</span><span class="delimiter">(</span><a href="#sbt.IO.withZipOutput.$anonfun.fileOut" title="java.io.BufferedOutputStream">fileOut</a>, <a href="#sbt.IO.withZipOutput.$anonfun.x$8.mf" title="java.util.jar.Manifest">mf</a><span class="delimiter">)</span>, <span title="String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="None.type">None</span> =&gt; <span title="(_1: java.util.zip.ZipOutputStream, _2: String)(java.util.zip.ZipOutputStream, String)" class="delimiter">(</span><span title="java.util.zip.ZipOutputStream" class="keyword">new</span> <span title="java.util.zip.ZipOutputStream">ZipOutputStream</span><span class="delimiter">(</span><a href="#sbt.IO.withZipOutput.$anonfun.fileOut" title="java.io.BufferedOutputStream">fileOut</a><span class="delimiter">)</span>, <span title="String(&quot;zip&quot;)" class="string">&quot;zip&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#sbt.IO.withZipOutput.f" title="(v1: java.util.zip.ZipOutputStream)Unit">f</a><span class="delimiter">(</span><a href="#sbt.IO.withZipOutput.$anonfun.zipOut" title="java.util.zip.ZipOutputStream">zipOut</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="keyword">finally</span> <span class="delimiter">{</span> <a href="#sbt.IO.withZipOutput.$anonfun.zipOut" title="java.util.zip.ZipOutputStream">zipOut</a>.<span title="()Unit">close</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the relative file for `file` relative to directory `base` or None if `base` is not a parent of `file`.
   * If `file` or `base` are not absolute, they are first resolved against the current working directory.
   */</span>
  <span class="keyword">def</span> <a title="(base: java.io.File, file: java.io.File)Option[java.io.File]" id="sbt.IO.relativizeFile">relativizeFile</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.relativizeFile.base">base</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="sbt.IO.relativizeFile.file">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Option[java.io.File]">Option</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#sbt.IO.relativize" title="(base: java.io.File, file: java.io.File)Option[String]">relativize</a><span class="delimiter">(</span><a href="#sbt.IO.relativizeFile.base" title="java.io.File">base</a>, <a href="#sbt.IO.relativizeFile.file" title="java.io.File">file</a><span class="delimiter">)</span>.<span title="(f: String =&gt; java.io.File)Option[java.io.File]">map</span> <span class="delimiter">{</span> <a title="String" id="sbt.IO.relativizeFile.$anonfun.path">path</a> =&gt; <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.IO.relativizeFile.$anonfun.path" title="String">path</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/**
   * Returns the path for `file` relative to directory `base` or None if `base` is not a parent of `file`.
   * If `file` or `base` are not absolute, they are first resolved against the current working directory.
   */</span>
  <span class="keyword">def</span> <a title="(base: java.io.File, file: java.io.File)Option[String]" id="sbt.IO.relativize">relativize</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.relativize.base">base</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="sbt.IO.relativize.file">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="sbt.IO.relativize.pathString">pathString</a> = <a href="#sbt.IO.relativize.file" title="java.io.File">file</a>.<span title="()String">getAbsolutePath</span>
      <a href="#sbt.IO.baseFileString" title="(baseFile: java.io.File)Option[String]">baseFileString</a><span class="delimiter">(</span><a href="#sbt.IO.relativize.base" title="java.io.File">base</a><span class="delimiter">)</span> <span title="(f: String =&gt; Option[String])Option[String]">flatMap</span>
        <span class="delimiter">{</span>
          <a title="String" id="sbt.IO.relativize.$anonfun.baseString">baseString</a> =&gt;
            <span class="delimiter">{</span>
              <span title="Option[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.relativize.pathString" title="String">pathString</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#sbt.IO.relativize.$anonfun.baseString" title="String">baseString</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#sbt.IO.relativize.pathString" title="String">pathString</a>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><a href="#sbt.IO.relativize.$anonfun.baseString" title="String">baseString</a>.<span title="()Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <span title="None.type">None</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(baseFile: java.io.File)Option[String]" id="sbt.IO.baseFileString">baseFileString</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.baseFileString.baseFile">baseFile</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span class="delimiter">{</span>
      <span title="Option[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.baseFileString.baseFile" title="java.io.File">baseFile</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="sbt.IO.baseFileString.cp">cp</a> = <a href="#sbt.IO.baseFileString.baseFile" title="java.io.File">baseFile</a>.<span title="()String">getAbsolutePath</span>
        <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#sbt.IO.baseFileString.cp" title="String">cp</a>.<span title="()Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="String" id="sbt.IO.baseFileString.normalized">normalized</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.baseFileString.cp" title="String">cp</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><a href="#sbt.IO.baseFileString.cp" title="String">cp</a>.<span title="()Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Char)Boolean">==</span> <span title="java.io.File.type">File</span>.<span title="Char">separatorChar</span><span class="delimiter">)</span> <a href="#sbt.IO.baseFileString.cp" title="String">cp</a> <span class="keyword">else</span> <a href="#sbt.IO.baseFileString.cp" title="String">cp</a> <span title="(x$1: Any)String">+</span> <span title="java.io.File.type">File</span>.<span title="Char">separatorChar</span>
        <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#sbt.IO.baseFileString.normalized" title="String">normalized</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span>
        <span title="None.type">None</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * For each pair in `sources`, copies the contents of the first File (the source) to the location of the second File (the target).
   *
   * A source file is always copied if `overwrite` is true.
   * If `overwrite` is false, the source is only copied if the target is missing or is older than the source file according to last modified times.
   * If the source is a directory, the corresponding directory is created.
   *
   * If `preserveLastModified` is `true`, the last modified times are transferred as well.
   * Any parent directories that do not exist are created.
   * The set of all target files is returned, whether or not they were updated by this method.
   */</span>
  <span class="keyword">def</span> <a title="(sources: Traversable[(java.io.File, java.io.File)], overwrite: Boolean, preserveLastModified: Boolean)Set[java.io.File]" id="sbt.IO.copy">copy</a><span class="delimiter">(</span><a title="Traversable[(java.io.File, java.io.File)]" id="sbt.IO.copy.sources">sources</a>: <span title="Traversable[(java.io.File, java.io.File)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>File, File<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="Boolean" id="sbt.IO.copy$default$2">overwrite</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="sbt.IO.copy$default$3">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
    <a href="#sbt.IO.copy.sources" title="Traversable[(java.io.File, java.io.File)]">sources</a>.<span title="(f: ((java.io.File, java.io.File)) =&gt; java.io.File)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[(java.io.File, java.io.File)],java.io.File,Traversable[java.io.File]])Traversable[java.io.File]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,java.io.File,Traversable[java.io.File]]" class="delimiter">(</span><span title="(f: (java.io.File, java.io.File) =&gt; java.io.File)((java.io.File, java.io.File)) =&gt; java.io.File">tupled</span><span class="delimiter">(</span><a href="#sbt.IO.copyImpl" title="(overwrite: Boolean, preserveLastModified: Boolean)(from: java.io.File, to: java.io.File)java.io.File">copyImpl</a><a href="#sbt.IO.copy.$anonfun.from" title="java.io.File" class="delimiter">(</a><a href="#sbt.IO.copy$default$2" title="Boolean">overwrite</a>, <a href="#sbt.IO.copy$default$3" title="Boolean">preserveLastModified</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[java.io.File]">toSet</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(overwrite: Boolean, preserveLastModified: Boolean)(from: java.io.File, to: java.io.File)java.io.File" id="sbt.IO.copyImpl">copyImpl</a><span class="delimiter">(</span><a title="Boolean" id="sbt.IO.copyImpl.overwrite">overwrite</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="sbt.IO.copyImpl.preserveLastModified">preserveLastModified</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.copyImpl.from">from</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="sbt.IO.copyImpl.to">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
    <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.copyImpl.overwrite" title="Boolean">overwrite</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#sbt.IO.copyImpl.to" title="java.io.File">to</a>.<span title="()Boolean">exists</span> <span title="(x: Boolean)Boolean">||</span> <a href="#sbt.IO.copyImpl.from" title="java.io.File">from</a>.<span title="()Long">lastModified</span> <span title="(x: Long)Boolean">&gt;</span> <a href="#sbt.IO.copyImpl.to" title="java.io.File">to</a>.<span title="()Long">lastModified</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.copyImpl.from" title="java.io.File">from</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
          <a href="#sbt.IO.createDirectory" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#sbt.IO.copyImpl.to" title="java.io.File">to</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#sbt.IO.createDirectory" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#sbt.IO.copyImpl.to" title="java.io.File">to</a>.<span title="()java.io.File">getParentFile</span><span class="delimiter">)</span>
          <a href="#sbt.IO.copyFile" title="(sourceFile: java.io.File, targetFile: java.io.File, preserveLastModified: Boolean)Unit">copyFile</a><span class="delimiter">(</span><a href="#sbt.IO.copyImpl.from" title="java.io.File">from</a>, <a href="#sbt.IO.copyImpl.to" title="java.io.File">to</a>, <a href="#sbt.IO.copyImpl.preserveLastModified" title="Boolean">preserveLastModified</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#sbt.IO.copyImpl.to" title="java.io.File">to</a>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Copies the contents of each file in the `source` directory to the corresponding file in the `target` directory.
   * A source file is always copied if `overwrite` is true.
   * If `overwrite` is false, the source is only copied if the target is missing or is older than the source file according to last modified times.
   * Files in `target` without a corresponding file in `source` are left unmodified in any case.
   * If `preserveLastModified` is `true`, the last modified times are transferred as well.
   * Any parent directories that do not exist are created.
   */</span>
  <span class="keyword">def</span> <a title="(source: java.io.File, target: java.io.File, overwrite: Boolean, preserveLastModified: Boolean)Unit" id="sbt.IO.copyDirectory">copyDirectory</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.copyDirectory.source">source</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="sbt.IO.copyDirectory.target">target</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="sbt.IO.copyDirectory$default$3">overwrite</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="sbt.IO.copyDirectory$default$4">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.IO.copy" title="(sources: Traversable[(java.io.File, java.io.File)], overwrite: Boolean, preserveLastModified: Boolean)Set[java.io.File]">copy</a><span title="Unit" class="delimiter">(</span><span class="delimiter">(</span><a href="Path.scala.html#sbt.PathFinder.apply(9595b35133)" title="(file: java.io.File)sbt.PathFinder">PathFinder</a><span class="delimiter">(</span><a href="#sbt.IO.copyDirectory.source" title="java.io.File">source</a><span class="delimiter">)</span> <a href="Path.scala.html#sbt;PathFinder.***" title="sbt.PathFinder" id="sbt.IO.copyDirectory.qual$1">***</a><span class="delimiter">)</span> <a href="Path.scala.html#sbt;PathFinder.pair$default$2" title="Boolean" id="sbt.IO.copyDirectory.x$17">pair</a> <a href="Path.scala.html#sbt.Path" title="sbt.Path.type">Path</a>.<a href="PathMapper.scala.html#sbt;Mapper.rebase(24534baf98)" title="(oldBase: java.io.File, newBase: java.io.File)java.io.File =&gt; Option[java.io.File]">rebase</a><a title="java.io.File =&gt; Option[java.io.File]" id="sbt.IO.copyDirectory.x$16" class="delimiter">(</a><a href="#sbt.IO.copyDirectory.source" title="java.io.File">source</a>, <a href="#sbt.IO.copyDirectory.target" title="java.io.File">target</a><span class="delimiter">)</span>, <a href="#sbt.IO.copyDirectory$default$3" title="Boolean">overwrite</a>, <a href="#sbt.IO.copyDirectory$default$4" title="Boolean">preserveLastModified</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Copies the contents of `sourceFile` to the location of `targetFile`, overwriting any existing content.
   * If `preserveLastModified` is `true`, the last modified time is transferred as well.
   */</span>
  <span class="keyword">def</span> <a title="(sourceFile: java.io.File, targetFile: java.io.File, preserveLastModified: Boolean)Unit" id="sbt.IO.copyFile">copyFile</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.copyFile.sourceFile">sourceFile</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="sbt.IO.copyFile.targetFile">targetFile</a>: <span title="java.io.File">File</span>, <a title="Boolean" id="sbt.IO.copyFile$default$3">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="comment">// NOTE: when modifying this code, test with larger values of CopySpec.MaxFileSizeBits than default</span>

    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#sbt.IO.copyFile.sourceFile" title="java.io.File">sourceFile</a>.<span title="()Boolean">exists</span>, <span title="String(&quot;Source file \'&quot;)" class="string">&quot;Source file '&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.copyFile.sourceFile" title="java.io.File">sourceFile</a>.<span title="()String">getAbsolutePath</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\' does not exist.&quot;)" class="string">&quot;' does not exist.&quot;</span><span class="delimiter">)</span>
    <span title="(requirement: Boolean, message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#sbt.IO.copyFile.sourceFile" title="java.io.File">sourceFile</a>.<span title="()Boolean">isDirectory</span>, <span title="String(&quot;Source file \'&quot;)" class="string">&quot;Source file '&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.copyFile.sourceFile" title="java.io.File">sourceFile</a>.<span title="()String">getAbsolutePath</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\' is a directory.&quot;)" class="string">&quot;' is a directory.&quot;</span><span class="delimiter">)</span>
    <a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.nio.channels.FileChannel =&gt; Unit)Unit">fileInputChannel</a><span class="delimiter">(</span><a href="#sbt.IO.copyFile.sourceFile" title="java.io.File">sourceFile</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.nio.channels.FileChannel" id="sbt.IO.copyFile.$anonfun.in">in</a> =&gt;
      <a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.nio.channels.FileChannel =&gt; Unit)Unit">fileOutputChannel</a><span class="delimiter">(</span><a href="#sbt.IO.copyFile.targetFile" title="java.io.File">targetFile</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.nio.channels.FileChannel" id="sbt.IO.copyFile.$anonfun.$anonfun.out">out</a> =&gt;
        <span class="comment">// maximum bytes per transfer according to  from http://dzone.com/snippets/java-filecopy-using-nio</span>
        <span class="keyword">val</span> <a title="Int" id="sbt.IO.copyFile.$anonfun.$anonfun.max">max</a> = <span class="delimiter">(</span><span class="int">64</span> * <span class="int">1024</span> * <span class="int">1024</span><span class="delimiter">)</span> <span title="Int(67076096)">-</span> <span class="delimiter">(</span><span class="int">32</span> * <span class="int">1024</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Long" id="sbt.IO.copyFile.$anonfun.$anonfun.total">total</a> = <a href="#sbt.IO.copyFile.$anonfun.in" title="java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span>
        <span class="keyword">def</span> <a title="(offset: Long)Long" id="sbt.IO.copyFile.$anonfun.$anonfun.loop">loop</a><span class="delimiter">(</span><a title="Long" id="sbt.IO.copyFile.$anonfun.$anonfun.loop.offset">offset</a>: <span title="Long">Long</span><span class="delimiter">)</span>: <span title="Long">Long</span> =
          <span title="Long" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.copyFile.$anonfun.$anonfun.loop.offset" title="Long">offset</a> <span title="(x: Long)Boolean">&lt;</span> <a href="#sbt.IO.copyFile.$anonfun.$anonfun.total" title="Long">total</a><span class="delimiter">)</span>
            <a href="#sbt.IO.copyFile.$anonfun.$anonfun.loop" title="(offset: Long)Long">loop</a><span class="delimiter">(</span><a href="#sbt.IO.copyFile.$anonfun.$anonfun.loop.offset" title="Long">offset</a> <span title="(x: Long)Long">+</span> <a href="#sbt.IO.copyFile.$anonfun.$anonfun.out" title="java.nio.channels.FileChannel">out</a>.<span title="(x$1: java.nio.channels.ReadableByteChannel, x$2: Long, x$3: Long)Long">transferFrom</span><span class="delimiter">(</span><a href="#sbt.IO.copyFile.$anonfun.in" title="java.nio.channels.FileChannel">in</a>, <a href="#sbt.IO.copyFile.$anonfun.$anonfun.loop.offset" title="Long">offset</a>, <a href="#sbt.IO.copyFile.$anonfun.$anonfun.max" title="=&gt; Long">max</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#sbt.IO.copyFile.$anonfun.$anonfun.loop.offset" title="Long">offset</a>
        <span class="keyword">val</span> <a title="Long" id="sbt.IO.copyFile.$anonfun.$anonfun.copied">copied</a> = <a href="#sbt.IO.copyFile.$anonfun.$anonfun.loop" title="(offset: Long)Long">loop</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.copyFile.$anonfun.$anonfun.copied" title="Long">copied</a> <span title="(x: Long)Boolean">!=</span> <a href="#sbt.IO.copyFile.$anonfun.in" title="java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span><span class="delimiter">)</span>
          sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;Could not copy \'&quot;)" class="string">&quot;Could not copy '&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.copyFile.sourceFile" title="java.io.File">sourceFile</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\' to \'&quot;)" class="string">&quot;' to '&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.copyFile.targetFile" title="java.io.File">targetFile</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\' (&quot;)" class="string">&quot;' (&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.copyFile.$anonfun.$anonfun.copied" title="Long">copied</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.copyFile.$anonfun.in" title="java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; bytes copied)&quot;)" class="string">&quot; bytes copied)&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.copyFile$default$3" title="Boolean">preserveLastModified</a><span class="delimiter">)</span>
      <a href="#sbt.IO.copyLastModified" title="(sourceFile: java.io.File, targetFile: java.io.File)Boolean">copyLastModified</a><span title="Unit" class="delimiter">(</span><a href="#sbt.IO.copyFile.sourceFile" title="java.io.File">sourceFile</a>, <a href="#sbt.IO.copyFile.targetFile" title="java.io.File">targetFile</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/** Transfers the last modified time of `sourceFile` to `targetFile`. */</span>
  <span class="keyword">def</span> <a title="(sourceFile: java.io.File, targetFile: java.io.File)Boolean" id="sbt.IO.copyLastModified">copyLastModified</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.copyLastModified.sourceFile">sourceFile</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="sbt.IO.copyLastModified.targetFile">targetFile</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="sbt.IO.copyLastModified.last">last</a> = <a href="#sbt.IO.copyLastModified.sourceFile" title="java.io.File">sourceFile</a>.<span title="()Long">lastModified</span>
    <span class="comment">// lastModified can return a negative number, but setLastModified doesn't accept it</span>
    <span class="comment">// see Java bug #6791812</span>
    <a href="#sbt.IO.copyLastModified.targetFile" title="java.io.File">targetFile</a>.<span title="(x$1: Long)Boolean">setLastModified</span><span class="delimiter">(</span>math.<span title="(x: Long, y: Long)Long">max</span><span class="delimiter">(</span><a href="#sbt.IO.copyLastModified.last" title="Long">last</a>, <span title="Long(0L)" class="long">0L</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/** The default Charset used when not specified: UTF-8. */</span>
  <span class="keyword">def</span> <a title="=&gt; java.nio.charset.Charset" id="sbt.IO.defaultCharset">defaultCharset</a> = <a href="#sbt.IO.utf8" title="=&gt; java.nio.charset.Charset">utf8</a>

  <span class="comment">/**
   * Writes `content` to `file` using `charset` or UTF-8 if `charset` is not explicitly specified.
   * If `append` is `false`, the existing contents of `file` are overwritten.
   * If `append` is `true`, the new `content` is appended to the existing contents.
   * If `file` or any parent directories do not exist, they are created.
   */</span>
  <span class="keyword">def</span> <a title="(file: java.io.File, content: String, charset: java.nio.charset.Charset, append: Boolean)Unit" id="sbt.IO.write(1cd4fc02a6)">write</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.write(1cd4fc02a6).file">file</a>: <span title="java.io.File">File</span>, <a title="String" id="sbt.IO.write(1cd4fc02a6).content">content</a>: <span title="String">String</span>, <a title="java.nio.charset.Charset" id="sbt.IO.write$default$3">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#sbt.IO.defaultCharset" title="=&gt; java.nio.charset.Charset">defaultCharset</a>, <a title="Boolean" id="sbt.IO.write$default$4">append</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.IO.writer" title="(file: java.io.File, content: String, charset: java.nio.charset.Charset, append: Boolean)(f: java.io.BufferedWriter =&gt; Unit)Unit">writer</a><span class="delimiter">(</span><a href="#sbt.IO.write(1cd4fc02a6).file" title="java.io.File">file</a>, <a href="#sbt.IO.write(1cd4fc02a6).content" title="String">content</a>, <a href="#sbt.IO.write$default$3" title="java.nio.charset.Charset">charset</a>, <a href="#sbt.IO.write$default$4" title="Boolean">append</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#sbt.IO.write(1cd4fc02a6).$anonfun.x$9" title="java.io.BufferedWriter">_</a>.<span title="(x$1: String)Unit">write</span><span class="delimiter">(</span><a href="#sbt.IO.write(1cd4fc02a6).content" title="String">content</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](file: java.io.File, content: String, charset: java.nio.charset.Charset, append: Boolean)(f: java.io.BufferedWriter =&gt; T)T" id="sbt.IO.writer">writer</a><span class="delimiter">[</span><a title="" id="sbt.IO.writer$default$4;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.writer.file">file</a>: <span title="java.io.File">File</span>, <a title="String" id="sbt.IO.writer.content">content</a>: <span title="String">String</span>, <a title="java.nio.charset.Charset" id="sbt.IO.writer.charset">charset</a>: <span title="java.nio.charset.Charset">Charset</span>, <a title="Boolean" id="sbt.IO.writer$default$4">append</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.BufferedWriter =&gt; T" id="sbt.IO.writer.f">f</a>: BufferedWriter =&gt; T<span class="delimiter">)</span>: <a href="#sbt.IO.writer$default$4;T" title="T">T</a> =
    <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.writer.charset" title="java.nio.charset.Charset">charset</a>.<span title="()java.nio.charset.CharsetEncoder">newEncoder</span>.<span title="(x$1: CharSequence)Boolean">canEncode</span><span class="delimiter">(</span><a href="#sbt.IO.writer.content" title="String">content</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="Using.scala.html#sbt.Using.fileWriter" title="(charset: java.nio.charset.Charset, append: Boolean)sbt.OpenFile[java.io.BufferedWriter]">fileWriter</a><a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedWriter =&gt; T)T" class="delimiter">(</a><a href="#sbt.IO.writer.charset" title="java.nio.charset.Charset">charset</a>, <a href="#sbt.IO.writer$default$4" title="Boolean">append</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.writer.file" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#sbt.IO.writer.f" title="java.io.BufferedWriter =&gt; T">f</a> <span class="delimiter">}</span>
    <span class="keyword">else</span>
      sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;String cannot be encoded by charset &quot;)" class="string">&quot;String cannot be encoded by charset &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.writer.charset" title="java.nio.charset.Charset">charset</a>.<span title="()String">name</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[T](file: java.io.File, charset: java.nio.charset.Charset)(f: java.io.BufferedReader =&gt; T)T" id="sbt.IO.reader">reader</a><span class="delimiter">[</span><a title="" id="sbt.IO.reader$default$2;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.reader.file">file</a>: <span title="java.io.File">File</span>, <a title="java.nio.charset.Charset" id="sbt.IO.reader$default$2">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#sbt.IO.defaultCharset" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.BufferedReader =&gt; T" id="sbt.IO.reader.f">f</a>: BufferedReader =&gt; T<span class="delimiter">)</span>: <a href="#sbt.IO.reader$default$2;T" title="T">T</a> =
    <a href="Using.scala.html#sbt.Using.fileReader" title="(charset: java.nio.charset.Charset)sbt.OpenFile[java.io.BufferedReader]">fileReader</a><a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedReader =&gt; T)T" class="delimiter">(</a><a href="#sbt.IO.reader$default$2" title="java.nio.charset.Charset">charset</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.reader.file" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#sbt.IO.reader.f" title="java.io.BufferedReader =&gt; T">f</a> <span class="delimiter">}</span>

  <span class="comment">/** Reads the full contents of `file` into a String using `charset` or UTF-8 if `charset` is not explicitly specified. */</span>
  <span class="keyword">def</span> <a title="(file: java.io.File, charset: java.nio.charset.Charset)String" id="sbt.IO.read">read</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.read.file">file</a>: <span title="java.io.File">File</span>, <a title="java.nio.charset.Charset" id="sbt.IO.read$default$2">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#sbt.IO.defaultCharset" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="String">String</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="sbt.IO.read.out">out</a> = <span title="(x$1: Int)java.io.ByteArrayOutputStream" class="keyword">new</span> <span title="java.io.ByteArrayOutputStream">ByteArrayOutputStream</span><span class="delimiter">(</span><a href="#sbt.IO.read.file" title="java.io.File">file</a>.<span title="()Long">length</span>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span>
      <a href="#sbt.IO.transfer(9710e8fd5d)" title="(in: java.io.File, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#sbt.IO.read.file" title="java.io.File">file</a>, <a href="#sbt.IO.read.out" title="java.io.ByteArrayOutputStream">out</a><span class="delimiter">)</span>
      <a href="#sbt.IO.read.out" title="java.io.ByteArrayOutputStream">out</a>.<span title="(x$1: String)String">toString</span><span class="delimiter">(</span><a href="#sbt.IO.read$default$2" title="java.nio.charset.Charset">charset</a>.<span title="()String">name</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Reads the full contents of `in` into a byte array.  This method does not close `in`.*/</span>
  <span class="keyword">def</span> <a title="(in: java.io.InputStream, charset: java.nio.charset.Charset)String" id="sbt.IO.readStream">readStream</a><span class="delimiter">(</span><a title="java.io.InputStream" id="sbt.IO.readStream.in">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.nio.charset.Charset" id="sbt.IO.readStream$default$2">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#sbt.IO.defaultCharset" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="String">String</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="sbt.IO.readStream.out">out</a> = <span title="java.io.ByteArrayOutputStream" class="keyword">new</span> <span title="java.io.ByteArrayOutputStream">ByteArrayOutputStream</span>
      <a href="#sbt.IO.transfer(07cfa35a6e)" title="(in: java.io.InputStream, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#sbt.IO.readStream.in" title="java.io.InputStream">in</a>, <a href="#sbt.IO.readStream.out" title="java.io.ByteArrayOutputStream">out</a><span class="delimiter">)</span>
      <a href="#sbt.IO.readStream.out" title="java.io.ByteArrayOutputStream">out</a>.<span title="(x$1: String)String">toString</span><span class="delimiter">(</span><a href="#sbt.IO.readStream$default$2" title="java.nio.charset.Charset">charset</a>.<span title="()String">name</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Reads the full contents of `in` into a byte array. */</span>
  <span class="keyword">def</span> <a title="(file: java.io.File)Array[Byte]" id="sbt.IO.readBytes(336bbe6f4b)">readBytes</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.readBytes(336bbe6f4b).file">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Array[Byte])Array[Byte]">fileInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.readBytes(336bbe6f4b).file" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.readBytes(4e6408f755)" title="(in: java.io.InputStream)Array[Byte]">readBytes</a><span class="delimiter">)</span>

  <span class="comment">/** Reads the full contents of `in` into a byte array.  This method does not close `in`. */</span>
  <span class="keyword">def</span> <a title="(in: java.io.InputStream)Array[Byte]" id="sbt.IO.readBytes(4e6408f755)">readBytes</a><span class="delimiter">(</span><a title="java.io.InputStream" id="sbt.IO.readBytes(4e6408f755).in">in</a>: <span title="java.io.InputStream">InputStream</span><span class="delimiter">)</span>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="sbt.IO.readBytes(4e6408f755).out">out</a> = <span title="java.io.ByteArrayOutputStream" class="keyword">new</span> <span title="java.io.ByteArrayOutputStream">ByteArrayOutputStream</span>
      <a href="#sbt.IO.transfer(07cfa35a6e)" title="(in: java.io.InputStream, out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#sbt.IO.readBytes(4e6408f755).in" title="java.io.InputStream">in</a>, <a href="#sbt.IO.readBytes(4e6408f755).out" title="java.io.ByteArrayOutputStream">out</a><span class="delimiter">)</span>
      <a href="#sbt.IO.readBytes(4e6408f755).out" title="java.io.ByteArrayOutputStream">out</a>.<span title="()Array[Byte]">toByteArray</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Appends `content` to the existing contents of `file` using `charset` or UTF-8 if `charset` is not explicitly specified.
   * If `file` does not exist, it is created, as are any parent directories.
   */</span>
  <span class="keyword">def</span> <a title="(file: java.io.File, content: String, charset: java.nio.charset.Charset)Unit" id="sbt.IO.append(0e501a757c)">append</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.append(0e501a757c).file">file</a>: <span title="java.io.File">File</span>, <a title="String" id="sbt.IO.append(0e501a757c).content">content</a>: <span title="String">String</span>, <a title="java.nio.charset.Charset" id="sbt.IO.append$default$3">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#sbt.IO.defaultCharset" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.IO.write(1cd4fc02a6)" title="(file: java.io.File, content: String, charset: java.nio.charset.Charset, append: Boolean)Unit">write</a><span class="delimiter">(</span><a href="#sbt.IO.append(0e501a757c).file" title="java.io.File">file</a>, <a href="#sbt.IO.append(0e501a757c).content" title="String">content</a>, <a href="#sbt.IO.append$default$3" title="java.nio.charset.Charset">charset</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Appends `bytes` to the existing contents of `file`.
   * If `file` does not exist, it is created, as are any parent directories.
   */</span>
  <span class="keyword">def</span> <a title="(file: java.io.File, bytes: Array[Byte])Unit" id="sbt.IO.append(a06b21f477)">append</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.append(a06b21f477).file">file</a>: <span title="java.io.File">File</span>, <a title="Array[Byte]" id="sbt.IO.append(a06b21f477).bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.IO.writeBytes" title="(file: java.io.File, bytes: Array[Byte], append: Boolean)Unit">writeBytes</a><span class="delimiter">(</span><a href="#sbt.IO.append(a06b21f477).file" title="java.io.File">file</a>, <a href="#sbt.IO.append(a06b21f477).bytes" title="Array[Byte]">bytes</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Writes `bytes` to `file`, overwriting any existing content.
   * If any parent directories do not exist, they are first created.
   */</span>
  <span class="keyword">def</span> <a title="(file: java.io.File, bytes: Array[Byte])Unit" id="sbt.IO.write(a06b21f477)">write</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.write(a06b21f477).file">file</a>: <span title="java.io.File">File</span>, <a title="Array[Byte]" id="sbt.IO.write(a06b21f477).bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.IO.writeBytes" title="(file: java.io.File, bytes: Array[Byte], append: Boolean)Unit">writeBytes</a><span class="delimiter">(</span><a href="#sbt.IO.write(a06b21f477).file" title="java.io.File">file</a>, <a href="#sbt.IO.write(a06b21f477).bytes" title="Array[Byte]">bytes</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(file: java.io.File, bytes: Array[Byte], append: Boolean)Unit" id="sbt.IO.writeBytes">writeBytes</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.writeBytes.file">file</a>: <span title="java.io.File">File</span>, <a title="Array[Byte]" id="sbt.IO.writeBytes.bytes">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="Boolean" id="sbt.IO.writeBytes.append">append</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="Using.scala.html#sbt.Using.fileOutputStream" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; Unit)Unit" class="delimiter">(</a><a href="#sbt.IO.writeBytes.append" title="Boolean">append</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.writeBytes.file" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#sbt.IO.writeBytes.$anonfun.x$10" title="java.io.BufferedOutputStream">_</a>.<span title="(x$1: Array[Byte])Unit">write</span><span class="delimiter">(</span><a href="#sbt.IO.writeBytes.bytes" title="Array[Byte]">bytes</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Reads all of the lines from `url` using the provided `charset` or UTF-8 if `charset` is not explicitly specified. */</span>
  <span class="keyword">def</span> <a title="(url: java.net.URL, charset: java.nio.charset.Charset)List[String]" id="sbt.IO.readLinesURL">readLinesURL</a><span class="delimiter">(</span><a title="java.net.URL" id="sbt.IO.readLinesURL.url">url</a>: <span title="java.net.URL">URL</span>, <a title="java.nio.charset.Charset" id="sbt.IO.readLinesURL$default$2">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#sbt.IO.defaultCharset" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <a href="Using.scala.html#sbt.Using.urlReader" title="(charset: java.nio.charset.Charset)sbt.Using[java.net.URL,java.io.BufferedReader]">urlReader</a><a href="Using.scala.html#sbt;Using.apply" title="(src: java.net.URL)(f: java.io.BufferedReader =&gt; List[String])List[String]" class="delimiter">(</a><a href="#sbt.IO.readLinesURL$default$2" title="java.nio.charset.Charset">charset</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.readLinesURL.url" title="java.net.URL">url</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.readLines(3e4445422c)" title="(in: java.io.BufferedReader)List[String]">readLines</a><span class="delimiter">)</span>

  <span class="comment">/** Reads all of the lines in `file` using the provided `charset` or UTF-8 if `charset` is not explicitly specified. */</span>
  <span class="keyword">def</span> <a title="(file: java.io.File, charset: java.nio.charset.Charset)List[String]" id="sbt.IO.readLines(50ee8d6d9c)">readLines</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.readLines(50ee8d6d9c).file">file</a>: <span title="java.io.File">File</span>, <a title="java.nio.charset.Charset" id="sbt.IO.readLines$default$2">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#sbt.IO.defaultCharset" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <a href="Using.scala.html#sbt.Using.fileReader" title="(charset: java.nio.charset.Charset)sbt.OpenFile[java.io.BufferedReader]">fileReader</a><a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedReader =&gt; List[String])List[String]" class="delimiter">(</a><a href="#sbt.IO.readLines$default$2" title="java.nio.charset.Charset">charset</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.readLines(50ee8d6d9c).file" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.readLines(3e4445422c)" title="(in: java.io.BufferedReader)List[String]">readLines</a><span class="delimiter">)</span>

  <span class="comment">/** Reads all of the lines from `in`.  This method does not close `in`.*/</span>
  <span class="keyword">def</span> <a title="(in: java.io.BufferedReader)List[String]" id="sbt.IO.readLines(3e4445422c)">readLines</a><span class="delimiter">(</span><a title="java.io.BufferedReader" id="sbt.IO.readLines(3e4445422c).in">in</a>: <span title="java.io.BufferedReader">BufferedReader</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <a href="#sbt.IO.foldLines" title="[T](in: java.io.BufferedReader, init: T)(f: (T, String) =&gt; T)T">foldLines</a><span title="(in: java.io.BufferedReader, init: List[String])(f: (List[String], String) =&gt; List[String])List[String]" class="delimiter">[</span><span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#sbt.IO.readLines(3e4445422c).in" title="java.io.BufferedReader">in</a>, <span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="List[String]" id="sbt.IO.readLines(3e4445422c).$anonfun.accum">accum</a>, <a title="String" id="sbt.IO.readLines(3e4445422c).$anonfun.line">line</a><span class="delimiter">)</span> =&gt; <a href="#sbt.IO.readLines(3e4445422c).$anonfun.line" title="String">line</a> <a href="#sbt.IO.readLines(3e4445422c).$anonfun.x$11" title="(x: String)List[String]">::</a> <a href="#sbt.IO.readLines(3e4445422c).$anonfun.accum" title="List[String]">accum</a><span class="delimiter">)</span>.<span title="=&gt; List[String]">reverse</span>

  <span class="comment">/** Applies `f` to each line read from `in`. This method does not close `in`.*/</span>
  <span class="keyword">def</span> <a title="(in: java.io.BufferedReader)(f: String =&gt; Unit)Unit" id="sbt.IO.foreachLine">foreachLine</a><span class="delimiter">(</span><a title="java.io.BufferedReader" id="sbt.IO.foreachLine.in">in</a>: <span title="java.io.BufferedReader">BufferedReader</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="String =&gt; Unit" id="sbt.IO.foreachLine.f">f</a>: String =&gt; Unit<span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.IO.foldLines" title="(in: java.io.BufferedReader, init: Unit)(f: (Unit, String) =&gt; Unit)Unit">foldLines</a><span class="delimiter">(</span><a href="#sbt.IO.foreachLine.in" title="java.io.BufferedReader">in</a>, <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Unit" id="sbt.IO.foreachLine.$anonfun.x$12">_</a>, <a title="String" id="sbt.IO.foreachLine.$anonfun.line">line</a><span class="delimiter">)</span> =&gt; <a href="#sbt.IO.foreachLine.f" title="(v1: String)Unit">f</a><span class="delimiter">(</span><a href="#sbt.IO.foreachLine.$anonfun.line" title="String">line</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Applies `f` to each line read from `in` and the accumulated value of type `T`, with initial value `init`.
   * This method does not close `in`.
   */</span>
  <span class="keyword">def</span> <a title="[T](in: java.io.BufferedReader, init: T)(f: (T, String) =&gt; T)T" id="sbt.IO.foldLines">foldLines</a><span class="delimiter">[</span><a title="" id="sbt.IO.foldLines;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.BufferedReader" id="sbt.IO.foldLines.in">in</a>: <span title="java.io.BufferedReader">BufferedReader</span>, <a title="T" id="sbt.IO.foldLines.init">init</a>: <a href="#sbt.IO.foldLines;T" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(T, String) =&gt; T" id="sbt.IO.foldLines.f">f</a>: <span class="delimiter">(</span>T, String<span class="delimiter">)</span> =&gt; T<span class="delimiter">)</span>: <a href="#sbt.IO.foldLines;T" title="T">T</a> =
    <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(accum: T)T" id="sbt.IO.foldLines.readLine">readLine</a><span class="delimiter">(</span><a title="T" id="sbt.IO.foldLines.readLine.accum">accum</a>: <a href="#sbt.IO.foldLines;T" title="T">T</a><span class="delimiter">)</span>: <a href="#sbt.IO.foldLines;T" title="T">T</a> =
        <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="sbt.IO.foldLines.readLine.line">line</a> = <a href="#sbt.IO.foldLines.in" title="java.io.BufferedReader">in</a>.<span title="()String">readLine</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.foldLines.readLine.line" title="String">line</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#sbt.IO.foldLines.readLine.accum" title="T">accum</a> <span class="keyword">else</span> <a href="#sbt.IO.foldLines.readLine" title="(accum: T)T">readLine</a><span class="delimiter">(</span><a href="#sbt.IO.foldLines.f" title="(v1: T, v2: String)T">f</a><span class="delimiter">(</span><a href="#sbt.IO.foldLines.readLine.accum" title="T">accum</a>, <a href="#sbt.IO.foldLines.readLine.line" title="String">line</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <a href="#sbt.IO.foldLines.readLine" title="(accum: T)T">readLine</a><span class="delimiter">(</span><a href="#sbt.IO.foldLines.init" title="T">init</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Writes `lines` to `file` using the given `charset` or UTF-8 if `charset` is not explicitly specified.
   * If `append` is `false`, the contents of the file are overwritten.
   * If `append` is `true`, the lines are appended to the file.
   * A newline is written after each line and NOT before the first line.
   * If any parent directories of `file` do not exist, they are first created.
   */</span>
  <span class="keyword">def</span> <a title="(file: java.io.File, lines: Seq[String], charset: java.nio.charset.Charset, append: Boolean)Unit" id="sbt.IO.writeLines(b1ce86847a)">writeLines</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.writeLines(b1ce86847a).file">file</a>: <span title="java.io.File">File</span>, <a title="Seq[String]" id="sbt.IO.writeLines(b1ce86847a).lines">lines</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="java.nio.charset.Charset" id="sbt.IO.writeLines$default$3">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#sbt.IO.defaultCharset" title="=&gt; java.nio.charset.Charset">defaultCharset</a>, <a title="Boolean" id="sbt.IO.writeLines$default$4">append</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.IO.writer" title="(file: java.io.File, content: String, charset: java.nio.charset.Charset, append: Boolean)(f: java.io.BufferedWriter =&gt; Unit)Unit">writer</a><span class="delimiter">(</span><a href="#sbt.IO.writeLines(b1ce86847a).file" title="java.io.File">file</a>, <a href="#sbt.IO.writeLines(b1ce86847a).lines" title="Seq[String]">lines</a>.<span title="=&gt; Option[String]">headOption</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>, <a href="#sbt.IO.writeLines$default$3" title="java.nio.charset.Charset">charset</a>, <a href="#sbt.IO.writeLines$default$4" title="Boolean">append</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedWriter" id="sbt.IO.writeLines(b1ce86847a).$anonfun.w">w</a> =&gt;
      <a href="#sbt.IO.writeLines(b1ce86847a).lines" title="Seq[String]">lines</a>.<span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="sbt.IO.writeLines(b1ce86847a).$anonfun.$anonfun.line">line</a> =&gt; <a href="#sbt.IO.writeLines(b1ce86847a).$anonfun.w" title="java.io.BufferedWriter">w</a>.<span title="(x$1: String)Unit">write</span><span class="delimiter">(</span><a href="#sbt.IO.writeLines(b1ce86847a).$anonfun.$anonfun.line" title="String">line</a><span class="delimiter">)</span>; <a href="#sbt.IO.writeLines(b1ce86847a).$anonfun.w" title="java.io.BufferedWriter">w</a>.<span title="()Unit">newLine</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Writes `lines` to `writer` using `writer`'s `println` method. */</span>
  <span class="keyword">def</span> <a title="(writer: java.io.PrintWriter, lines: Seq[String])Unit" id="sbt.IO.writeLines(e2d601f8ef)">writeLines</a><span class="delimiter">(</span><a title="java.io.PrintWriter" id="sbt.IO.writeLines(e2d601f8ef).writer">writer</a>: <span title="java.io.PrintWriter">PrintWriter</span>, <a title="Seq[String]" id="sbt.IO.writeLines(e2d601f8ef).lines">lines</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.IO.writeLines(e2d601f8ef).lines" title="Seq[String]">lines</a> <span title="(f: String =&gt; Unit)Unit">foreach</span> <a href="#sbt.IO.writeLines(e2d601f8ef).writer" title="java.io.PrintWriter">writer</a>.<a href="#sbt.IO.writeLines(e2d601f8ef).$anonfun.x$1" title="(x$1: String)Unit">println</a>

  <span class="comment">/**
   * Writes `properties` to the File `to`, using `label` as the comment on the first line.
   * If any parent directories of `to` do not exist, they are first created.
   */</span>
  <span class="keyword">def</span> <a title="(properties: java.util.Properties, label: String, to: java.io.File)Unit" id="sbt.IO.write(9f95ce08d1)">write</a><span class="delimiter">(</span><a title="java.util.Properties" id="sbt.IO.write(9f95ce08d1).properties">properties</a>: <span title="java.util.Properties">Properties</span>, <a title="String" id="sbt.IO.write(9f95ce08d1).label">label</a>: <span title="String">String</span>, <a title="java.io.File" id="sbt.IO.write(9f95ce08d1).to">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> =
    <a href="Using.scala.html#sbt.Using.fileOutputStream" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.write(9f95ce08d1).to" title="java.io.File">to</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="sbt.IO.write(9f95ce08d1).$anonfun.output">output</a> =&gt; <a href="#sbt.IO.write(9f95ce08d1).properties" title="java.util.Properties">properties</a>.<span title="(x$1: java.io.OutputStream, x$2: String)Unit">store</span><span class="delimiter">(</span><a href="#sbt.IO.write(9f95ce08d1).$anonfun.output" title="java.io.BufferedOutputStream">output</a>, <a href="#sbt.IO.write(9f95ce08d1).label" title="String">label</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Reads the properties in `from` into `properties`.  If `from` does not exist, `properties` is left unchanged.*/</span>
  <span class="keyword">def</span> <a title="(properties: java.util.Properties, from: java.io.File)Unit" id="sbt.IO.load">load</a><span class="delimiter">(</span><a title="java.util.Properties" id="sbt.IO.load.properties">properties</a>: <span title="java.util.Properties">Properties</span>, <a title="java.io.File" id="sbt.IO.load.from">from</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.load.from" title="java.io.File">from</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span>
      <a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.load.from" title="java.io.File">from</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="sbt.IO.load.$anonfun.input">input</a> =&gt; <a href="#sbt.IO.load.properties" title="java.util.Properties">properties</a>.<span title="(x$1: java.io.InputStream)Unit">load</span><span class="delimiter">(</span><a href="#sbt.IO.load.$anonfun.input" title="java.io.BufferedInputStream">input</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** A pattern used to split a String by path separator characters.*/</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.util.regex.Pattern" id="sbt.IO.PathSeparatorPattern">PathSeparatorPattern</a> = java.util.regex.<span title="java.util.regex.Pattern.type">Pattern</span>.<span title="(x$1: String)java.util.regex.Pattern">compile</span><span class="delimiter">(</span><span title="java.io.File.type">File</span>.<span title="String">pathSeparator</span><span class="delimiter">)</span>

  <span class="comment">/** Splits a String around the platform's path separator characters. */</span>
  <span class="keyword">def</span> <a title="(s: String)Array[String]" id="sbt.IO.pathSplit">pathSplit</a><span class="delimiter">(</span><a title="String" id="sbt.IO.pathSplit.s">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#sbt.IO.PathSeparatorPattern" title="=&gt; java.util.regex.Pattern">PathSeparatorPattern</a>.<span title="(x$1: CharSequence)Array[String]">split</span><span class="delimiter">(</span><a href="#sbt.IO.pathSplit.s" title="String">s</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Move the provided files to a temporary location.
   *   If 'f' returns normally, delete the files.
   *   If 'f' throws an Exception, return the files to their original location.
   */</span>
  <span class="keyword">def</span> <a title="[T](files: Set[java.io.File])(f: =&gt; T)T" id="sbt.IO.stash">stash</a><span class="delimiter">[</span><a title="" id="sbt.IO.stash;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Set[java.io.File]" id="sbt.IO.stash.files">files</a>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="sbt.IO.stash.f">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#sbt.IO.stash;T" title="T">T</a> =
    <a href="#sbt.IO.withTemporaryDirectory" title="(action: java.io.File =&gt; T)T">withTemporaryDirectory</a> <span class="delimiter">{</span> <a title="java.io.File" id="sbt.IO.stash.$anonfun.dir">dir</a> =&gt;
      <span class="keyword">val</span> <a title="Array[(java.io.File, java.io.File)]" id="sbt.IO.stash.$anonfun.stashed">stashed</a> = <a href="#sbt.IO.stashLocations" title="(dir: java.io.File, files: Array[java.io.File])Array[(java.io.File, java.io.File)]">stashLocations</a><span class="delimiter">(</span><a href="#sbt.IO.stash.$anonfun.dir" title="java.io.File">dir</a>, <a href="#sbt.IO.stash.files" title="Set[java.io.File]">files</a>.<span title="(implicit evidence$1: scala.reflect.ClassTag[java.io.File])Array[java.io.File]">toArray</span><span class="delimiter">)</span>
      <a href="#sbt.IO.move(2f9b803753)" title="(files: Traversable[(java.io.File, java.io.File)])Unit">move</a><span class="delimiter">(</span><a href="#sbt.IO.stash.$anonfun.stashed" title="(xs: Array[(java.io.File, java.io.File)])scala.collection.mutable.WrappedArray[(java.io.File, java.io.File)]">stashed</a><span class="delimiter">)</span>

      <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#sbt.IO.stash.f" title="=&gt; T">f</a> <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Exception" id="sbt.IO.stash.$anonfun.e">e</a>: <span title="Exception">Exception</span> =&gt;
          <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#sbt.IO.move(2f9b803753)" title="(files: Traversable[(java.io.File, java.io.File)])Unit">move</a><span class="delimiter">(</span><a href="#sbt.IO.stash.$anonfun.stashed" title="(xs: Array[(java.io.File, java.io.File)])scala.collection.mutable.ArrayOps[(java.io.File, java.io.File)]">stashed</a>.<span title="(f: ((java.io.File, java.io.File)) =&gt; (java.io.File, java.io.File))(implicit bf: scala.collection.generic.CanBuildFrom[Array[(java.io.File, java.io.File)],(java.io.File, java.io.File),Traversable[(java.io.File, java.io.File)]])Traversable[(java.io.File, java.io.File)]">map</span><span title="(implicit m: DummyImplicit)scala.collection.generic.CanBuildFrom[Array[_],(java.io.File, java.io.File),scala.collection.mutable.ArraySeq[(java.io.File, java.io.File)]]" class="delimiter">(</span><a href="#sbt.IO.stash.$anonfun.$anonfun.x$13" title="(java.io.File, java.io.File)">_</a>.<span title="=&gt; (java.io.File, java.io.File)">swap</span><span class="delimiter">)</span><span class="delimiter">)</span>; <span title="Nothing" class="keyword">throw</span> <a href="#sbt.IO.stash.$anonfun.e" title="Exception">e</a> <span class="delimiter">}</span>
          <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> _: <span title="Exception">Exception</span> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#sbt.IO.stash.$anonfun.e" title="Exception">e</a> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(dir: java.io.File, files: Array[java.io.File])Array[(java.io.File, java.io.File)]" id="sbt.IO.stashLocations">stashLocations</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.stashLocations.dir">dir</a>: <span title="java.io.File">File</span>, <a title="Array[java.io.File]" id="sbt.IO.stashLocations.files">files</a>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.stashLocations.$anonfun.file">file</a>, <a title="Int" id="sbt.IO.stashLocations.$anonfun.index">index</a><span class="delimiter">)</span> &lt;- <a href="#sbt.IO.stashLocations.files" title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]">files</a>.<a href="#sbt.IO.stashLocations.$anonfun.check$ifrefutable$2" title="(f: ((java.io.File, Int)) =&gt; (java.io.File, java.io.File))(implicit bf: scala.collection.generic.CanBuildFrom[Array[(java.io.File, Int)],(java.io.File, java.io.File),Array[(java.io.File, java.io.File)]])Array[(java.io.File, java.io.File)]">zipWithIndex</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span title="(_1: java.io.File, _2: java.io.File)(java.io.File, java.io.File)" class="delimiter">(</span><a href="#sbt.IO.stashLocations.$anonfun.file" title="java.io.File">file</a>, <span title="(x$1: java.io.File, x$2: String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.IO.stashLocations.dir" title="java.io.File">dir</a>, <a href="#sbt.IO.stashLocations.$anonfun.index" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt">index</a>.<span title="=&gt; String">toHexString</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">// TODO: the reference to the other move overload does not resolve, probably due to a scaladoc bug</span>
  <span class="comment">/**
   * For each pair in `files`, moves the contents of the first File to the location of the second.
   * See [[move(File,File)]] for the behavior of the individual move operations.
   */</span>
  <span class="keyword">def</span> <a title="(files: Traversable[(java.io.File, java.io.File)])Unit" id="sbt.IO.move(2f9b803753)">move</a><span class="delimiter">(</span><a title="Traversable[(java.io.File, java.io.File)]" id="sbt.IO.move(2f9b803753).files">files</a>: <span title="Traversable[(java.io.File, java.io.File)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>File, File<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <a href="#sbt.IO.move(2f9b803753).files" title="Traversable[(java.io.File, java.io.File)]">files</a>.<span title="(f: ((java.io.File, java.io.File)) =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><span title="Function.type">Function</span>.<span title="(f: (java.io.File, java.io.File) =&gt; Unit)((java.io.File, java.io.File)) =&gt; Unit">tupled</span><span class="delimiter">(</span><a href="#sbt.IO.move(6b7aaadca5)" title="(a: java.io.File, b: java.io.File)Unit">move</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Moves the contents of `a` to the location specified by `b`.
   * This method deletes any content already at `b` and creates any parent directories of `b` if they do not exist.
   * It will first try `File.renameTo` and if that fails, resort to copying and then deleting the original file.
   * In either case, the original File will not exist on successful completion of this method.
   */</span>
  <span class="keyword">def</span> <a title="(a: java.io.File, b: java.io.File)Unit" id="sbt.IO.move(6b7aaadca5)">move</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.move(6b7aaadca5).a">a</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="sbt.IO.move(6b7aaadca5).b">b</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
    <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.move(6b7aaadca5).b" title="java.io.File">b</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span>
        <a href="#sbt.IO.delete(e3f9ce1f75)" title="(file: java.io.File)Unit">delete</a><span class="delimiter">(</span><a href="#sbt.IO.move(6b7aaadca5).b" title="java.io.File">b</a><span class="delimiter">)</span>
      <a href="#sbt.IO.createDirectory" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#sbt.IO.move(6b7aaadca5).b" title="java.io.File">b</a>.<span title="()java.io.File">getParentFile</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#sbt.IO.move(6b7aaadca5).a" title="java.io.File">a</a>.<span title="(x$1: java.io.File)Boolean">renameTo</span><span class="delimiter">(</span><a href="#sbt.IO.move(6b7aaadca5).b" title="java.io.File">b</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#sbt.IO.copyFile" title="(sourceFile: java.io.File, targetFile: java.io.File, preserveLastModified: Boolean)Unit">copyFile</a><span class="delimiter">(</span><a href="#sbt.IO.move(6b7aaadca5).a" title="java.io.File">a</a>, <a href="#sbt.IO.move(6b7aaadca5).b" title="java.io.File">b</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <a href="#sbt.IO.delete(e3f9ce1f75)" title="(file: java.io.File)Unit">delete</a><span class="delimiter">(</span><a href="#sbt.IO.move(6b7aaadca5).a" title="java.io.File">a</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Applies `f` to a buffered gzip `OutputStream` for `file`.
   * The streams involved are opened before calling `f` and closed after it returns.
   * The result is the result of `f`.
   */</span>
  <span class="keyword">def</span> <a title="[T](file: java.io.File)(f: java.io.OutputStream =&gt; T)T" id="sbt.IO.gzipFileOut">gzipFileOut</a><span class="delimiter">[</span><a title="" id="sbt.IO.gzipFileOut;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.gzipFileOut.file">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.OutputStream =&gt; T" id="sbt.IO.gzipFileOut.f">f</a>: OutputStream =&gt; T<span class="delimiter">)</span>: <a href="#sbt.IO.gzipFileOut;T" title="T">T</a> =
    <a href="Using.scala.html#sbt.Using" title="sbt.Using.type">Using</a>.<a href="Using.scala.html#sbt.Using.fileOutputStream" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedOutputStream =&gt; T)T" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.gzipFileOut.file" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="sbt.IO.gzipFileOut.$anonfun.fout">fout</a> =&gt;
      <a href="Using.scala.html#sbt.Using" title="sbt.Using.type">Using</a>.<a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.OutputStream)(f: java.util.zip.GZIPOutputStream =&gt; T)T">gzipOutputStream</a><span class="delimiter">(</span><a href="#sbt.IO.gzipFileOut.$anonfun.fout" title="java.io.BufferedOutputStream">fout</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.GZIPOutputStream" id="sbt.IO.gzipFileOut.$anonfun.$anonfun.outg">outg</a> =&gt;
        <a href="Using.scala.html#sbt.Using" title="sbt.Using.type">Using</a>.<a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.OutputStream)(f: java.io.BufferedOutputStream =&gt; T)T">bufferedOutputStream</a><span class="delimiter">(</span><a href="#sbt.IO.gzipFileOut.$anonfun.$anonfun.outg" title="java.util.zip.GZIPOutputStream">outg</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.gzipFileOut.f" title="java.io.OutputStream =&gt; T">f</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Applies `f` to a buffered gzip `InputStream` for `file`.
   * The streams involved are opened before calling `f` and closed after it returns.
   * The result is the result of `f`.
   */</span>
  <span class="keyword">def</span> <a title="[T](file: java.io.File)(f: java.io.InputStream =&gt; T)T" id="sbt.IO.gzipFileIn">gzipFileIn</a><span class="delimiter">[</span><a title="" id="sbt.IO.gzipFileIn;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.gzipFileIn.file">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.InputStream =&gt; T" id="sbt.IO.gzipFileIn.f">f</a>: InputStream =&gt; T<span class="delimiter">)</span>: <a href="#sbt.IO.gzipFileIn;T" title="T">T</a> =
    <a href="Using.scala.html#sbt.Using" title="sbt.Using.type">Using</a>.<a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.File)(f: java.io.BufferedInputStream =&gt; T)T">fileInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.gzipFileIn.file" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="sbt.IO.gzipFileIn.$anonfun.fin">fin</a> =&gt;
      <a href="Using.scala.html#sbt.Using" title="sbt.Using.type">Using</a>.<a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.InputStream)(f: java.util.zip.GZIPInputStream =&gt; T)T">gzipInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.gzipFileIn.$anonfun.fin" title="java.io.BufferedInputStream">fin</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.GZIPInputStream" id="sbt.IO.gzipFileIn.$anonfun.$anonfun.ing">ing</a> =&gt;
        <a href="Using.scala.html#sbt.Using" title="sbt.Using.type">Using</a>.<a href="Using.scala.html#sbt;Using.apply" title="(src: java.io.InputStream)(f: java.io.BufferedInputStream =&gt; T)T">bufferedInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.gzipFileIn.$anonfun.$anonfun.ing" title="java.util.zip.GZIPInputStream">ing</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.IO.gzipFileIn.f" title="java.io.InputStream =&gt; T">f</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Converts an absolute File to a URI.  The File is converted to a URI (toURI),
   * normalized (normalize), encoded (toASCIIString), and a forward slash ('/') is appended to the path component if
   * it does not already end with a slash.
   */</span>
  <span class="keyword">def</span> <a title="(dir: java.io.File)java.net.URI" id="sbt.IO.directoryURI(9119e3a782)">directoryURI</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.directoryURI(9119e3a782).dir">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.net.URI">URI</span> =
    <span class="delimiter">{</span>
      <a href="#sbt.IO.assertAbsolute(00cce4d796)" title="(f: java.io.File)Unit">assertAbsolute</a><span class="delimiter">(</span><a href="#sbt.IO.directoryURI(9119e3a782).dir" title="java.io.File">dir</a><span class="delimiter">)</span>
      <a href="#sbt.IO.directoryURI(82caab6b7b)" title="(uri: java.net.URI)java.net.URI">directoryURI</a><span class="delimiter">(</span><a href="#sbt.IO.directoryURI(9119e3a782).dir" title="java.io.File">dir</a>.<span title="()java.net.URI">toURI</span>.<span title="()java.net.URI">normalize</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Converts an absolute File to a URI.  The File is converted to a URI (toURI),
   * normalized (normalize), encoded (toASCIIString), and a forward slash ('/') is appended to the path component if
   * it does not already end with a slash.
   */</span>
  <span class="keyword">def</span> <a title="(uri: java.net.URI)java.net.URI" id="sbt.IO.directoryURI(82caab6b7b)">directoryURI</a><span class="delimiter">(</span><a title="java.net.URI" id="sbt.IO.directoryURI(82caab6b7b).uri">uri</a>: <span title="java.net.URI">URI</span><span class="delimiter">)</span>: <span title="java.net.URI">URI</span> =
    <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#sbt.IO.directoryURI(82caab6b7b).uri" title="java.net.URI">uri</a>.<span title="()Boolean">isAbsolute</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#sbt.IO.directoryURI(82caab6b7b).uri" title="java.net.URI">uri</a>; <span class="comment">//assertAbsolute(uri)</span>
      <span class="keyword">val</span> <a title="String" id="sbt.IO.directoryURI(82caab6b7b).str">str</a> = <a href="#sbt.IO.directoryURI(82caab6b7b).uri" title="java.net.URI">uri</a>.<span title="()String">toASCIIString</span>
      <span class="keyword">val</span> <a title="String" id="sbt.IO.directoryURI(82caab6b7b).dirStr">dirStr</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.directoryURI(82caab6b7b).str" title="String">str</a>.<span title="(x$1: String)Boolean">endsWith</span><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#sbt.IO.directoryURI(82caab6b7b).uri" title="java.net.URI">uri</a>.<span title="()String">getScheme</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#sbt.IO.FileScheme" title="=&gt; String">FileScheme</a> <span title="(x: Boolean)Boolean">||</span> <span title="(x: String)Option[String]">Option</span><span class="delimiter">(</span><a href="#sbt.IO.directoryURI(82caab6b7b).uri" title="java.net.URI">uri</a>.<span title="()String">getRawFragment</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#sbt.IO.directoryURI(82caab6b7b).str" title="String">str</a> <span class="keyword">else</span> <a href="#sbt.IO.directoryURI(82caab6b7b).str" title="String">str</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span>
      <span class="delimiter">(</span><span title="java.net.URI" class="keyword">new</span> <span title="java.net.URI">URI</span><span class="delimiter">(</span><a href="#sbt.IO.directoryURI(82caab6b7b).dirStr" title="String">dirStr</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="()java.net.URI">normalize</span>
    <span class="delimiter">}</span>
  <span class="comment">/** Converts the given File to a URI.  If the File is relative, the URI is relative, unlike File.toURI*/</span>
  <span class="keyword">def</span> <a title="(f: java.io.File)java.net.URI" id="sbt.IO.toURI">toURI</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.toURI.f">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.net.URI">URI</span> =
    <span class="comment">// need to use the three argument URI constructor because the single argument version doesn't encode</span>
    <span title="java.net.URI" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.toURI.f" title="java.io.File">f</a>.<span title="()Boolean">isAbsolute</span><span class="delimiter">)</span> <a href="#sbt.IO.toURI.f" title="java.io.File">f</a>.<span title="()java.net.URI">toURI</span> <span class="keyword">else</span> <span title="(x$1: String, x$2: String, x$3: String)java.net.URI" class="keyword">new</span> <span title="java.net.URI">URI</span><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="#sbt.IO.normalizeName" title="(name: String)String">normalizeName</a><span class="delimiter">(</span><a href="#sbt.IO.toURI.f" title="java.io.File">f</a>.<span title="()String">getPath</span><span class="delimiter">)</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>

  <span class="comment">/**
   * Resolves `f` against `base`, which must be an absolute directory.
   * The result is guaranteed to be absolute.
   * If `f` is absolute, it is returned without changes.
   */</span>
  <span class="keyword">def</span> <a title="(base: java.io.File, f: java.io.File)java.io.File" id="sbt.IO.resolve">resolve</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.resolve.base">base</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="sbt.IO.resolve.f">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
    <span class="delimiter">{</span>
      <a href="#sbt.IO.assertAbsolute(00cce4d796)" title="(f: java.io.File)Unit">assertAbsolute</a><span class="delimiter">(</span><a href="#sbt.IO.resolve.base" title="java.io.File">base</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.io.File" id="sbt.IO.resolve.fabs">fabs</a> = <span title="java.io.File" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.resolve.f" title="java.io.File">f</a>.<span title="()Boolean">isAbsolute</span><span class="delimiter">)</span> <a href="#sbt.IO.resolve.f" title="java.io.File">f</a> <span class="keyword">else</span> <span title="(x$1: java.net.URI)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.IO.directoryURI(9119e3a782)" title="(dir: java.io.File)java.net.URI">directoryURI</a><span class="delimiter">(</span><span title="(x$1: java.io.File, x$2: String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.IO.resolve.base" title="java.io.File">base</a>, <a href="#sbt.IO.resolve.f" title="java.io.File">f</a>.<span title="()String">getPath</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#sbt.IO.assertAbsolute(00cce4d796)" title="(f: java.io.File)Unit">assertAbsolute</a><span class="delimiter">(</span><a href="#sbt.IO.resolve.fabs" title="java.io.File">fabs</a><span class="delimiter">)</span>
      <a href="#sbt.IO.resolve.fabs" title="java.io.File">fabs</a>
    <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(f: java.io.File)Unit" id="sbt.IO.assertAbsolute(00cce4d796)">assertAbsolute</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.IO.assertAbsolute(00cce4d796).f">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#sbt.IO.assertAbsolute(00cce4d796).f" title="java.io.File">f</a>.<span title="()Boolean">isAbsolute</span>, <span title="String(&quot;Not absolute: &quot;)" class="string">&quot;Not absolute: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.assertAbsolute(00cce4d796).f" title="java.io.File">f</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(uri: java.net.URI)Unit" id="sbt.IO.assertAbsolute(24aebb2906)">assertAbsolute</a><span class="delimiter">(</span><a title="java.net.URI" id="sbt.IO.assertAbsolute(24aebb2906).uri">uri</a>: <span title="java.net.URI">URI</span><span class="delimiter">)</span> = <span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#sbt.IO.assertAbsolute(24aebb2906).uri" title="java.net.URI">uri</a>.<span title="()Boolean">isAbsolute</span>, <span title="String(&quot;Not absolute: &quot;)" class="string">&quot;Not absolute: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.IO.assertAbsolute(24aebb2906).uri" title="java.net.URI">uri</a><span class="delimiter">)</span>

  <span class="comment">/** Parses a classpath String into File entries according to the current platform's path separator.*/</span>
  <span class="keyword">def</span> <a title="(s: String)Seq[java.io.File]" id="sbt.IO.parseClasspath">parseClasspath</a><span class="delimiter">(</span><a title="String" id="sbt.IO.parseClasspath.s">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[java.io.File]">Seq</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#sbt.IO" title="sbt.IO.type">IO</a>.<a href="#sbt.IO.pathSplit" title="(s: String)Array[String]">pathSplit</a><span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</span><a href="#sbt.IO.parseClasspath.s" title="String">s</a><span class="delimiter">)</span>.<span title="(f: String =&gt; java.io.File)(implicit bf: scala.collection.generic.CanBuildFrom[Array[String],java.io.File,Array[java.io.File]])Array[java.io.File]">map</span><span title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]" class="delimiter">(</span><span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.IO.parseClasspath.$anonfun.x$15" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[java.io.File]">toSeq</span>

  <span class="comment">/**
   * Constructs an `ObjectInputStream` on `wrapped` that uses `loader` to load classes.
   * See also [[https://github.com/sbt/sbt/issues/136 issue 136]].
   */</span>
  <span class="keyword">def</span> <a title="(wrapped: java.io.InputStream, loader: ClassLoader)java.io.ObjectInputStream" id="sbt.IO.objectInputStream">objectInputStream</a><span class="delimiter">(</span><a title="java.io.InputStream" id="sbt.IO.objectInputStream.wrapped">wrapped</a>: <span title="java.io.InputStream">InputStream</span>, <a title="ClassLoader" id="sbt.IO.objectInputStream.loader">loader</a>: <span title="ClassLoader">ClassLoader</span><span class="delimiter">)</span>: <span title="java.io.ObjectInputStream">ObjectInputStream</span> = <a href="#sbt.IO.objectInputStream;$anon" title="java.io.ObjectInputStream" class="keyword">new</a> <a title="anonymous class $anon extends java.io.ObjectInputStream" id="sbt.IO.objectInputStream;$anon">ObjectInputStream</a><span class="delimiter">(</span><a href="#sbt.IO.objectInputStream.wrapped" title="java.io.InputStream">wrapped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(osc: java.io.ObjectStreamClass)Class[_]" id="sbt.IO.objectInputStream;$anon.resolveClass">resolveClass</a><span class="delimiter">(</span><a title="java.io.ObjectStreamClass" id="sbt.IO.objectInputStream;$anon.resolveClass.osc">osc</a>: <span title="java.io.ObjectStreamClass">ObjectStreamClass</span><span class="delimiter">)</span>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Class[_]" id="sbt.IO.objectInputStream;$anon.resolveClass.c">c</a> = <span title="Class.type">Class</span>.<span title="(x$1: String, x$2: Boolean, x$3: ClassLoader)Class[_]">forName</span><span class="delimiter">(</span><a href="#sbt.IO.objectInputStream;$anon.resolveClass.osc" title="java.io.ObjectStreamClass">osc</a>.<span title="()String">getName</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#sbt.IO.objectInputStream.loader" title="ClassLoader">loader</a><span class="delimiter">)</span>
      <span title="Class[?0]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.IO.objectInputStream;$anon.resolveClass.c" title="Class[_]">c</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#sbt.IO.objectInputStream;$anon" title="java.io.ObjectInputStream" class="keyword">super</a>.<span title="(x$1: java.io.ObjectStreamClass)Class[_]">resolveClass</span><span class="delimiter">(</span><a href="#sbt.IO.objectInputStream;$anon.resolveClass.osc" title="java.io.ObjectStreamClass">osc</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#sbt.IO.objectInputStream;$anon.resolveClass.c" title="Class[_]">c</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
