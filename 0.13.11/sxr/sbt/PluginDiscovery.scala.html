<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/PluginDiscovery.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> java.net.URL
<span class="keyword">import</span> <a href="Attributes.scala.html#sbt.Attributed" title="sbt.Attributed.type">Attributed</a>.data
<span class="keyword">import</span> <a href="Build.scala.html#sbt.Build" title="sbt.Build.type">Build</a>.analyzed
<span class="keyword">import</span> xsbt.api.<span class="delimiter">{</span> Discovered, Discovery <span class="delimiter">}</span>

<span class="keyword">object</span> <a title="sbt.PluginDiscovery.type" id="sbt.PluginDiscovery">PluginDiscovery</a> <a href="#sbt.PluginDiscovery" title="sbt.PluginDiscovery.type" class="delimiter">{</a>
  <span class="comment">/**
   * Relative paths of resources that list top-level modules that are available.
   * Normally, the classes for those modules will be in the same classpath entry as the resource.
   */</span>
  <span class="keyword">object</span> <a title="sbt.PluginDiscovery.Paths.type" id="sbt.PluginDiscovery.Paths">Paths</a> <a href="#sbt.PluginDiscovery.Paths" title="sbt.PluginDiscovery.Paths.type" class="delimiter">{</a>
    <span class="keyword">final</span> <span class="keyword">val</span> <a title="String(&quot;sbt/sbt.autoplugins&quot;)" id="sbt.PluginDiscovery.Paths.AutoPlugins">AutoPlugins</a> = <span title="String(&quot;sbt/sbt.autoplugins&quot;)" class="string">&quot;sbt/sbt.autoplugins&quot;</span>
    <span class="keyword">final</span> <span class="keyword">val</span> <a title="String(&quot;sbt/sbt.plugins&quot;)" id="sbt.PluginDiscovery.Paths.Plugins">Plugins</a> = <span title="String(&quot;sbt/sbt.plugins&quot;)" class="string">&quot;sbt/sbt.plugins&quot;</span>
    <span class="keyword">final</span> <span class="keyword">val</span> <a title="String(&quot;sbt/sbt.builds&quot;)" id="sbt.PluginDiscovery.Paths.Builds">Builds</a> = <span title="String(&quot;sbt/sbt.builds&quot;)" class="string">&quot;sbt/sbt.builds&quot;</span>
  <span class="delimiter">}</span>
  <span class="comment">/** Names of top-level modules that subclass sbt plugin-related classes: [[Plugin]], [[AutoPlugin]], and [[Build]]. */</span>
  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class DiscoveredNames extends AnyRef" id="sbt.PluginDiscovery;DiscoveredNames">DiscoveredNames</a><a href="#sbt.PluginDiscovery;DiscoveredNames" title="sbt.PluginDiscovery.DiscoveredNames" class="delimiter">(</a><span class="keyword">val</span> <a title="Seq[String]" id="sbt.PluginDiscovery;DiscoveredNames.plugins">plugins</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="Seq[String]" id="sbt.PluginDiscovery;DiscoveredNames.autoPlugins">autoPlugins</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="Seq[String]" id="sbt.PluginDiscovery;DiscoveredNames.builds">builds</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; sbt.PluginDiscovery.DiscoveredNames" id="sbt.PluginDiscovery.emptyDiscoveredNames">emptyDiscoveredNames</a>: <a href="#sbt.PluginDiscovery;DiscoveredNames" title="sbt.PluginDiscovery.DiscoveredNames">DiscoveredNames</a> = <span title="sbt.PluginDiscovery.DiscoveredNames" class="keyword">new</span> <a href="#sbt.PluginDiscovery;DiscoveredNames" title="sbt.PluginDiscovery.DiscoveredNames">DiscoveredNames</a><span class="delimiter">(</span><span title="scala.collection.immutable.Nil.type">Nil</span>, <span title="scala.collection.immutable.Nil.type">Nil</span>, <span title="scala.collection.immutable.Nil.type">Nil</span><span class="delimiter">)</span>

  <span class="comment">/** Discovers and loads the sbt-plugin-related top-level modules from the classpath and source analysis in `data` and using the provided class `loader`. */</span>
  <span class="keyword">def</span> <a title="(data: sbt.PluginData, loader: ClassLoader)sbt.DetectedPlugins" id="sbt.PluginDiscovery.discoverAll">discoverAll</a><span class="delimiter">(</span><a title="sbt.PluginData" id="sbt.PluginDiscovery.discoverAll.data">data</a>: <a href="EvaluateTask.scala.html#sbt;PluginData" title="sbt.PluginData">PluginData</a>, <a title="ClassLoader" id="sbt.PluginDiscovery.discoverAll.loader">loader</a>: <span title="ClassLoader">ClassLoader</span><span class="delimiter">)</span>: <a href="BuildStructure.scala.html#sbt;DetectedPlugins" title="sbt.DetectedPlugins">DetectedPlugins</a> =
    <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[T](resource: String)(implicit classTag: scala.reflect.ClassTag[T])sbt.DetectedModules[T]" id="sbt.PluginDiscovery.discoverAll.discover">discover</a><span class="delimiter">[</span><a title="" id="sbt.PluginDiscovery.discoverAll.discover;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="sbt.PluginDiscovery.discoverAll.discover.resource">resource</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.ClassTag[T]" id="sbt.PluginDiscovery.discoverAll.discover.classTag">classTag</a>: reflect.<span title="scala.reflect.ClassTag[T]">ClassTag</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =
        <a href="#sbt.PluginDiscovery.binarySourceModules" title="[T](data: sbt.PluginData, loader: ClassLoader, resourceName: String)(implicit classTag: scala.reflect.ClassTag[T])sbt.DetectedModules[T]">binarySourceModules</a><span title="(data: sbt.PluginData, loader: ClassLoader, resourceName: String)(implicit classTag: scala.reflect.ClassTag[T])sbt.DetectedModules[T]" class="delimiter">[</span><a href="#sbt.PluginDiscovery.discoverAll.discover;T" title="T">T</a><span class="delimiter">]</span><a href="#sbt.PluginDiscovery.discoverAll.discover.classTag" title="scala.reflect.ClassTag[T]" class="delimiter">(</a><a href="#sbt.PluginDiscovery.discoverAll.data" title="sbt.PluginData">data</a>, <a href="#sbt.PluginDiscovery.discoverAll.loader" title="ClassLoader">loader</a>, <a href="#sbt.PluginDiscovery.discoverAll.discover.resource" title="String">resource</a><span class="delimiter">)</span>
      <span class="keyword">import</span> <a href="#sbt.PluginDiscovery.Paths" title="sbt.PluginDiscovery.Paths.type">Paths</a>._
      <span class="comment">// TODO - Fix this once we can autodetect AutoPlugins defined by sbt itself.</span>
      <span class="keyword">val</span> <a title="Seq[(String, sbt.AutoPlugin)]" id="sbt.PluginDiscovery.discoverAll.defaultAutoPlugins">defaultAutoPlugins</a> = <span title="(elems: (String, sbt.AutoPlugin)*)Seq[(String, sbt.AutoPlugin)]">Seq</span><span class="delimiter">(</span>
        <span title="(x: String)ArrowAssoc[String]" class="string">&quot;sbt.plugins.IvyPlugin&quot;</span> <span title="(y: sbt.plugins.IvyPlugin.type)(String, sbt.plugins.IvyPlugin.type)">-&gt;</span> sbt.plugins.<a href="plugins/IvyPlugin.scala.html#sbt.plugins.IvyPlugin" title="sbt.plugins.IvyPlugin.type">IvyPlugin</a>,
        <span title="(x: String)ArrowAssoc[String]" class="string">&quot;sbt.plugins.JvmPlugin&quot;</span> <span title="(y: sbt.plugins.JvmPlugin.type)(String, sbt.plugins.JvmPlugin.type)">-&gt;</span> sbt.plugins.<a href="plugins/JvmPlugin.scala.html#sbt.plugins.JvmPlugin" title="sbt.plugins.JvmPlugin.type">JvmPlugin</a>,
        <span title="(x: String)ArrowAssoc[String]" class="string">&quot;sbt.plugins.CorePlugin&quot;</span> <span title="(y: sbt.plugins.CorePlugin.type)(String, sbt.plugins.CorePlugin.type)">-&gt;</span> sbt.plugins.<a href="plugins/CorePlugin.scala.html#sbt.plugins.CorePlugin" title="sbt.plugins.CorePlugin.type">CorePlugin</a>,
        <span title="(x: String)ArrowAssoc[String]" class="string">&quot;sbt.plugins.JUnitXmlReportPlugin&quot;</span> <span title="(y: sbt.plugins.JUnitXmlReportPlugin.type)(String, sbt.plugins.JUnitXmlReportPlugin.type)">-&gt;</span> sbt.plugins.<a href="plugins/JUnitXmlReportPlugin.scala.html#sbt.plugins.JUnitXmlReportPlugin" title="sbt.plugins.JUnitXmlReportPlugin.type">JUnitXmlReportPlugin</a>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="sbt.DetectedModules[sbt.AutoPlugin]" id="sbt.PluginDiscovery.discoverAll.detectedAutoPugins">detectedAutoPugins</a> = <a href="#sbt.PluginDiscovery.discoverAll.discover" title="[T](resource: String)(implicit classTag: scala.reflect.ClassTag[T])sbt.DetectedModules[T]">discover</a><span title="(resource: String)(implicit classTag: scala.reflect.ClassTag[sbt.AutoPlugin])sbt.DetectedModules[sbt.AutoPlugin]" class="delimiter">[</span><a href="Plugins.scala.html#sbt;AutoPlugin" title="sbt.AutoPlugin">AutoPlugin</a><span class="delimiter">]</span><span title="()scala.reflect.ClassTag[sbt.AutoPlugin]" class="delimiter">(</span><span title="String(&quot;sbt/sbt.autoplugins&quot;)">AutoPlugins</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Seq[sbt.DetectedAutoPlugin]" id="sbt.PluginDiscovery.discoverAll.allAutoPlugins">allAutoPlugins</a> = <span class="delimiter">(</span><a href="#sbt.PluginDiscovery.discoverAll.defaultAutoPlugins" title="Seq[(String, sbt.AutoPlugin)]">defaultAutoPlugins</a> <span title="(that: scala.collection.GenTraversableOnce[(String, sbt.AutoPlugin)])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(String, sbt.AutoPlugin)],(String, sbt.AutoPlugin),Seq[(String, sbt.AutoPlugin)]])Seq[(String, sbt.AutoPlugin)]">++</span> <a href="#sbt.PluginDiscovery.discoverAll.detectedAutoPugins" title="sbt.DetectedModules[sbt.AutoPlugin]">detectedAutoPugins</a>.<a href="BuildStructure.scala.html#sbt;DetectedModules.modules" title="=&gt; Seq[(String, sbt.AutoPlugin)]">modules</a><span class="delimiter">)</span> <span title="(f: ((String, sbt.AutoPlugin)) =&gt; sbt.DetectedAutoPlugin)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(String, sbt.AutoPlugin)],sbt.DetectedAutoPlugin,Seq[sbt.DetectedAutoPlugin]])Seq[sbt.DetectedAutoPlugin]">map</span> <a href="#sbt.PluginDiscovery.discoverAll.allAutoPlugins.$anonfun.x0$1" title="sbt.DetectedAutoPlugin" class="delimiter">{</a>
        <span class="keyword">case</span> <span class="delimiter">(</span><a title="String" id="sbt.PluginDiscovery.discoverAll.allAutoPlugins.$anonfun.name">name</a>, <a title="sbt.AutoPlugin" id="sbt.PluginDiscovery.discoverAll.allAutoPlugins.$anonfun.value">value</a><span class="delimiter">)</span> =&gt;
          <a href="BuildStructure.scala.html#sbt;DetectedAutoPlugin" title="(name: String, value: sbt.AutoPlugin, hasAutoImport: Boolean)sbt.DetectedAutoPlugin">DetectedAutoPlugin</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.discoverAll.allAutoPlugins.$anonfun.name" title="String">name</a>, <a href="#sbt.PluginDiscovery.discoverAll.allAutoPlugins.$anonfun.value" title="sbt.AutoPlugin">value</a>, sbt.<a href="Plugins.scala.html#sbt.Plugins" title="sbt.Plugins.type">Plugins</a>.<a href="Plugins.scala.html#sbt.Plugins.hasAutoImportGetter" title="(ap: sbt.AutoPlugin, loader: ClassLoader)Boolean">hasAutoImportGetter</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.discoverAll.allAutoPlugins.$anonfun.value" title="sbt.AutoPlugin">value</a>, <a href="#sbt.PluginDiscovery.discoverAll.loader" title="ClassLoader">loader</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="sbt.DetectedPlugins" class="keyword">new</span> <a href="BuildStructure.scala.html#sbt;DetectedPlugins" title="sbt.DetectedPlugins">DetectedPlugins</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.discoverAll.discover" title="[T](resource: String)(implicit classTag: scala.reflect.ClassTag[T])sbt.DetectedModules[T]">discover</a><span title="(resource: String)(implicit classTag: scala.reflect.ClassTag[sbt.Plugin])sbt.DetectedModules[sbt.Plugin]" class="delimiter">[</span><a href="Build.scala.html#sbt;Plugin" title="sbt.Plugin">Plugin</a><span class="delimiter">]</span><span title="()scala.reflect.ClassTag[sbt.Plugin]" class="delimiter">(</span><span title="String(&quot;sbt/sbt.plugins&quot;)">Plugins</span><span class="delimiter">)</span>, <a href="#sbt.PluginDiscovery.discoverAll.allAutoPlugins" title="Seq[sbt.DetectedAutoPlugin]">allAutoPlugins</a>, <a href="#sbt.PluginDiscovery.discoverAll.discover" title="[T](resource: String)(implicit classTag: scala.reflect.ClassTag[T])sbt.DetectedModules[T]">discover</a><span title="(resource: String)(implicit classTag: scala.reflect.ClassTag[sbt.Build])sbt.DetectedModules[sbt.Build]" class="delimiter">[</span><a href="Build.scala.html#sbt;Build" title="sbt.Build">Build</a><span class="delimiter">]</span><span title="()scala.reflect.ClassTag[sbt.Build]" class="delimiter">(</span><span title="String(&quot;sbt/sbt.builds&quot;)">Builds</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Discovers the sbt-plugin-related top-level modules from the provided source `analysis`. */</span>
  <span class="keyword">def</span> <a title="(analysis: sbt.inc.Analysis)sbt.PluginDiscovery.DiscoveredNames" id="sbt.PluginDiscovery.discoverSourceAll">discoverSourceAll</a><span class="delimiter">(</span><a title="sbt.inc.Analysis" id="sbt.PluginDiscovery.discoverSourceAll.analysis">analysis</a>: inc.<a href="inc/Analysis.scala.html#sbt.inc;Analysis" title="sbt.inc.Analysis">Analysis</a><span class="delimiter">)</span>: <a href="#sbt.PluginDiscovery;DiscoveredNames" title="sbt.PluginDiscovery.DiscoveredNames">DiscoveredNames</a> =
    <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="[T](implicit classTag: scala.reflect.ClassTag[T])Seq[String]" id="sbt.PluginDiscovery.discoverSourceAll.discover">discover</a><span class="delimiter">[</span><a title="" id="sbt.PluginDiscovery.discoverSourceAll.discover;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.ClassTag[T]" id="sbt.PluginDiscovery.discoverSourceAll.discover.classTag">classTag</a>: reflect.<span title="scala.reflect.ClassTag[T]">ClassTag</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
        <a href="#sbt.PluginDiscovery.sourceModuleNames" title="(analysis: sbt.inc.Analysis, subclasses: String*)Seq[String]">sourceModuleNames</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.discoverSourceAll.analysis" title="sbt.inc.Analysis">analysis</a>, <a href="#sbt.PluginDiscovery.discoverSourceAll.discover.classTag" title="scala.reflect.ClassTag[T]">classTag</a>.<span title="=&gt; Class[_]">runtimeClass</span>.<span title="()String">getName</span><span class="delimiter">)</span>
      <span title="sbt.PluginDiscovery.DiscoveredNames" class="keyword">new</span> <a href="#sbt.PluginDiscovery;DiscoveredNames" title="sbt.PluginDiscovery.DiscoveredNames">DiscoveredNames</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.discoverSourceAll.discover" title="[T](implicit classTag: scala.reflect.ClassTag[T])Seq[String]">discover</a><span title="(implicit classTag: scala.reflect.ClassTag[sbt.Plugin])Seq[String]" class="delimiter">[</span><a href="Build.scala.html#sbt;Plugin" title="sbt.Plugin">Plugin</a><span class="delimiter">]</span>, <a href="#sbt.PluginDiscovery.discoverSourceAll.discover" title="[T](implicit classTag: scala.reflect.ClassTag[T])Seq[String]">discover</a><span title="(implicit classTag: scala.reflect.ClassTag[sbt.AutoPlugin])Seq[String]" class="delimiter">[</span><a href="Plugins.scala.html#sbt;AutoPlugin" title="sbt.AutoPlugin">AutoPlugin</a><span class="delimiter">]</span>, <a href="#sbt.PluginDiscovery.discoverSourceAll.discover" title="[T](implicit classTag: scala.reflect.ClassTag[T])Seq[String]">discover</a><span title="(implicit classTag: scala.reflect.ClassTag[sbt.Build])Seq[String]" class="delimiter">[</span><a href="Build.scala.html#sbt;Build" title="sbt.Build">Build</a><span class="delimiter">]</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">// TODO: for 0.14.0, consider consolidating into a single file, which would make the classpath search 4x faster</span>
  <span class="comment">/** Writes discovered module `names` to zero or more files in `dir` as per [[writeDescriptor]] and returns the list of files written. */</span>
  <span class="keyword">def</span> <a title="(names: sbt.PluginDiscovery.DiscoveredNames, dir: java.io.File)Seq[java.io.File]" id="sbt.PluginDiscovery.writeDescriptors">writeDescriptors</a><span class="delimiter">(</span><a title="sbt.PluginDiscovery.DiscoveredNames" id="sbt.PluginDiscovery.writeDescriptors.names">names</a>: <a href="#sbt.PluginDiscovery;DiscoveredNames" title="sbt.PluginDiscovery.DiscoveredNames">DiscoveredNames</a>, <a title="java.io.File" id="sbt.PluginDiscovery.writeDescriptors.dir">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Seq[java.io.File]">Seq</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
    <span class="delimiter">{</span>
      <span class="keyword">import</span> <a href="#sbt.PluginDiscovery.Paths" title="sbt.PluginDiscovery.Paths.type">Paths</a>._
      <span class="keyword">val</span> <a title="List[Option[java.io.File]]" id="sbt.PluginDiscovery.writeDescriptors.files">files</a> =
        <a href="#sbt.PluginDiscovery.writeDescriptor" title="(names: Seq[String], dir: java.io.File, path: String)Option[java.io.File]">writeDescriptor</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.writeDescriptors.names" title="sbt.PluginDiscovery.DiscoveredNames">names</a>.<a href="#sbt.PluginDiscovery;DiscoveredNames.plugins" title="=&gt; Seq[String]">plugins</a>, <a href="#sbt.PluginDiscovery.writeDescriptors.dir" title="java.io.File">dir</a>, <span title="String(&quot;sbt/sbt.plugins&quot;)">Plugins</span><span class="delimiter">)</span> <a href="#sbt.PluginDiscovery.writeDescriptors.files.x$3" title="(x: Option[java.io.File])List[Option[java.io.File]]">::</a>
          <a href="#sbt.PluginDiscovery.writeDescriptor" title="(names: Seq[String], dir: java.io.File, path: String)Option[java.io.File]">writeDescriptor</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.writeDescriptors.names" title="sbt.PluginDiscovery.DiscoveredNames">names</a>.<a href="#sbt.PluginDiscovery;DiscoveredNames.autoPlugins" title="=&gt; Seq[String]">autoPlugins</a>, <a href="#sbt.PluginDiscovery.writeDescriptors.dir" title="java.io.File">dir</a>, <span title="String(&quot;sbt/sbt.autoplugins&quot;)">AutoPlugins</span><span class="delimiter">)</span> <a href="#sbt.PluginDiscovery.writeDescriptors.files.x$2" title="(x: Option[java.io.File])List[Option[java.io.File]]">::</a>
          <a href="#sbt.PluginDiscovery.writeDescriptor" title="(names: Seq[String], dir: java.io.File, path: String)Option[java.io.File]">writeDescriptor</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.writeDescriptors.names" title="sbt.PluginDiscovery.DiscoveredNames">names</a>.<a href="#sbt.PluginDiscovery;DiscoveredNames.builds" title="=&gt; Seq[String]">builds</a>, <a href="#sbt.PluginDiscovery.writeDescriptors.dir" title="java.io.File">dir</a>, <span title="String(&quot;sbt/sbt.builds&quot;)">Builds</span><span class="delimiter">)</span> <a href="#sbt.PluginDiscovery.writeDescriptors.files.x$1" title="(x: Option[java.io.File])List[Option[java.io.File]]">::</a>
          <span title="scala.collection.immutable.Nil.type">Nil</span>
      <a href="#sbt.PluginDiscovery.writeDescriptors.files" title="List[Option[java.io.File]]">files</a>.<span title="(f: Option[java.io.File] =&gt; scala.collection.GenTraversableOnce[java.io.File])(implicit bf: scala.collection.generic.CanBuildFrom[List[Option[java.io.File]],java.io.File,Seq[java.io.File]])Seq[java.io.File]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.io.File,List[java.io.File]]" class="delimiter">(</span><a href="#sbt.PluginDiscovery.writeDescriptors.$anonfun.x$4" title="Option[java.io.File]">_</a>.<span title="=&gt; List[java.io.File]">toList</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Stores the module `names` in `dir / path`, one per line, unless `names` is empty and then the file is deleted and `None` returned. */</span>
  <span class="keyword">def</span> <a title="(names: Seq[String], dir: java.io.File, path: String)Option[java.io.File]" id="sbt.PluginDiscovery.writeDescriptor">writeDescriptor</a><span class="delimiter">(</span><a title="Seq[String]" id="sbt.PluginDiscovery.writeDescriptor.names">names</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="java.io.File" id="sbt.PluginDiscovery.writeDescriptor.dir">dir</a>: <span title="java.io.File">File</span>, <a title="String" id="sbt.PluginDiscovery.writeDescriptor.path">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Option[java.io.File]">Option</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.File" id="sbt.PluginDiscovery.writeDescriptor.descriptor">descriptor</a>: <span title="java.io.File">File</span> = <span title="(x$1: java.io.File, x$2: String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.writeDescriptor.dir" title="java.io.File">dir</a>, <a href="#sbt.PluginDiscovery.writeDescriptor.path" title="String">path</a><span class="delimiter">)</span>
      <span title="Option[java.io.File]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.PluginDiscovery.writeDescriptor.names" title="Seq[String]">names</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="IO.scala.html#sbt.IO" title="sbt.IO.type">IO</a>.<a href="IO.scala.html#sbt.IO.delete(e3f9ce1f75)" title="(file: java.io.File)Unit">delete</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.writeDescriptor.descriptor" title="java.io.File">descriptor</a><span class="delimiter">)</span>
        <span title="None.type">None</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="IO.scala.html#sbt.IO" title="sbt.IO.type">IO</a>.<a href="IO.scala.html#sbt.IO.writeLines(b1ce86847a)" title="(file: java.io.File, lines: Seq[String], charset: java.nio.charset.Charset, append: Boolean)Unit">writeLines</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.writeDescriptor.descriptor" title="java.io.File">descriptor</a>, <a href="#sbt.PluginDiscovery.writeDescriptor.names" title="Seq[String]">names</a>.<span title="=&gt; Seq[String]">distinct</span>.<span title="(implicit ord: scala.math.Ordering[String])Seq[String]">sorted</span><span class="delimiter">)</span>
        <span title="(x: java.io.File)Some[java.io.File]">Some</span><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.writeDescriptor.descriptor" title="java.io.File">descriptor</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Discovers the names of top-level modules listed in resources named `resourceName` as per [[binaryModuleNames]] or
   * available as analyzed source and extending from any of `subclasses` as per [[sourceModuleNames]].
   */</span>
  <span class="keyword">def</span> <a title="(classpath: Seq[sbt.Attributed[java.io.File]], loader: ClassLoader, resourceName: String, subclasses: String*)Seq[String]" id="sbt.PluginDiscovery.binarySourceModuleNames">binarySourceModuleNames</a><span class="delimiter">(</span><a title="Seq[sbt.Attributed[java.io.File]]" id="sbt.PluginDiscovery.binarySourceModuleNames.classpath">classpath</a>: <span title="Seq[sbt.Attributed[java.io.File]]">Seq</span><span class="delimiter">[</span>Attributed<span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="ClassLoader" id="sbt.PluginDiscovery.binarySourceModuleNames.loader">loader</a>: <span title="ClassLoader">ClassLoader</span>, <a title="String" id="sbt.PluginDiscovery.binarySourceModuleNames.resourceName">resourceName</a>: <span title="String">String</span>, <a title="String*" id="sbt.PluginDiscovery.binarySourceModuleNames.subclasses">subclasses</a>: <span title="String*">String</span>*<span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span class="delimiter">(</span>
      <a href="#sbt.PluginDiscovery.binaryModuleNames" title="(classpath: Seq[java.io.File], loader: ClassLoader, resourceName: String)Seq[String]">binaryModuleNames</a><span class="delimiter">(</span><a href="Attributes.scala.html#sbt.Attributed.data" title="(in: Seq[sbt.Attributed[java.io.File]])Seq[java.io.File]">data</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.binarySourceModuleNames.classpath" title="Seq[sbt.Attributed[java.io.File]]">classpath</a><span class="delimiter">)</span>, <a href="#sbt.PluginDiscovery.binarySourceModuleNames.loader" title="ClassLoader">loader</a>, <a href="#sbt.PluginDiscovery.binarySourceModuleNames.resourceName" title="String">resourceName</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">++</span>
      <span class="delimiter">(</span><a href="Build.scala.html#sbt.Build.analyzed" title="(in: Seq[sbt.Attributed[_]])Seq[sbt.inc.Analysis]">analyzed</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.binarySourceModuleNames.classpath" title="Seq[sbt.Attributed[java.io.File]]">classpath</a><span class="delimiter">)</span> <span title="(f: sbt.inc.Analysis =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[sbt.inc.Analysis],String,Seq[String]])Seq[String]">flatMap</span> <span class="delimiter">(</span><a title="sbt.inc.Analysis" id="sbt.PluginDiscovery.binarySourceModuleNames.$anonfun.a">a</a> =&gt; <a href="#sbt.PluginDiscovery.sourceModuleNames" title="(analysis: sbt.inc.Analysis, subclasses: String*)Seq[String]">sourceModuleNames</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.binarySourceModuleNames.$anonfun.a" title="sbt.inc.Analysis">a</a>, <a href="#sbt.PluginDiscovery.binarySourceModuleNames.subclasses" title="String*">subclasses</a>: _*<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>.<span title="=&gt; Seq[String]">distinct</span>

  <span class="comment">/** Discovers top-level modules in `analysis` that inherit from any of `subclasses`. */</span>
  <span class="keyword">def</span> <a title="(analysis: sbt.inc.Analysis, subclasses: String*)Seq[String]" id="sbt.PluginDiscovery.sourceModuleNames">sourceModuleNames</a><span class="delimiter">(</span><a title="sbt.inc.Analysis" id="sbt.PluginDiscovery.sourceModuleNames.analysis">analysis</a>: inc.<a href="inc/Analysis.scala.html#sbt.inc;Analysis" title="sbt.inc.Analysis">Analysis</a>, <a title="String*" id="sbt.PluginDiscovery.sourceModuleNames.subclasses">subclasses</a>: <span title="String*">String</span>*<span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[String]" id="sbt.PluginDiscovery.sourceModuleNames.subclassSet">subclassSet</a> = <a href="#sbt.PluginDiscovery.sourceModuleNames.subclasses" title="String*">subclasses</a>.<span title="scala.collection.immutable.Set[String]">toSet</span>
      <span class="keyword">val</span> <a title="Seq[(xsbti.api.Definition, xsbt.api.Discovered)]" id="sbt.PluginDiscovery.sourceModuleNames.ds">ds</a> = <a href="../xsbt/api/Discovery.scala.html#xsbt.api.Discovery.apply" title="(subclasses: Set[String], annotations: Set[String])(definitions: Seq[xsbti.api.Definition])Seq[(xsbti.api.Definition, xsbt.api.Discovered)]">Discovery</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.sourceModuleNames.subclassSet" title="scala.collection.immutable.Set[String]">subclassSet</a>, <span title="=&gt; scala.collection.immutable.Set.type">Set</span>.<span title="scala.collection.immutable.Set[String]">empty</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Tests.scala.html#sbt.Tests" title="sbt.Tests.type">Tests</a>.<a href="Tests.scala.html#sbt.Tests.allDefs" title="(analysis: sbt.inc.Analysis)Seq[xsbti.api.Definition]">allDefs</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.sourceModuleNames.analysis" title="sbt.inc.Analysis">analysis</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#sbt.PluginDiscovery.sourceModuleNames.ds" title="Seq[(xsbti.api.Definition, xsbt.api.Discovered)]">ds</a>.<span title="(f: ((xsbti.api.Definition, xsbt.api.Discovered)) =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(xsbti.api.Definition, xsbt.api.Discovered)],String,Seq[String]])Seq[String]">flatMap</span> <a href="#sbt.PluginDiscovery.sourceModuleNames.$anonfun.x0$2" title="List[String]" class="delimiter">{</a>
        <span class="keyword">case</span> <span class="delimiter">(</span><a title="xsbti.api.Definition" id="sbt.PluginDiscovery.sourceModuleNames.$anonfun.definition">definition</a>, Discovered<span class="delimiter">(</span><a title="Set[String]" id="sbt.PluginDiscovery.sourceModuleNames.$anonfun.subs">subs</a>, _, _, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.sourceModuleNames.$anonfun.subs" title="Set[String]">subs</a> <span title="(that: scala.collection.GenSet[String])scala.collection.immutable.Set[String]">&amp;</span> <a href="#sbt.PluginDiscovery.sourceModuleNames.subclassSet" title="scala.collection.immutable.Set[String]">subclassSet</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="scala.collection.immutable.Nil.type">Nil</span> <span class="keyword">else</span> <a href="#sbt.PluginDiscovery.sourceModuleNames.$anonfun.definition" title="xsbti.api.Definition">definition</a>.<a href="../xsbti/api/Definition.java.html#xsbti.api;Definition.name(612e557918)" title="()String">name</a> <a href="#sbt.PluginDiscovery.sourceModuleNames.$anonfun.x$5" title="(x: String)List[String]">::</a> <span title="scala.collection.immutable.Nil.type">Nil</span>
        <span class="keyword">case</span> _ =&gt; <span title="scala.collection.immutable.Nil.type">Nil</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/**
   * Obtains the list of modules identified in all resource files `resourceName` from `loader` that are on `classpath`.
   * `classpath` and `loader` are both required to ensure that `loader`
   * doesn't bring in any resources outside of the intended `classpath`, such as from parent loaders.
   */</span>
  <span class="keyword">def</span> <a title="(classpath: Seq[java.io.File], loader: ClassLoader, resourceName: String)Seq[String]" id="sbt.PluginDiscovery.binaryModuleNames">binaryModuleNames</a><span class="delimiter">(</span><a title="Seq[java.io.File]" id="sbt.PluginDiscovery.binaryModuleNames.classpath">classpath</a>: <span title="Seq[java.io.File]">Seq</span><span class="delimiter">[</span>File<span class="delimiter">]</span>, <a title="ClassLoader" id="sbt.PluginDiscovery.binaryModuleNames.loader">loader</a>: <span title="ClassLoader">ClassLoader</span>, <a title="String" id="sbt.PluginDiscovery.binaryModuleNames.resourceName">resourceName</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span class="delimiter">{</span>
      <span class="keyword">import</span> collection.<span title="scala.collection.JavaConversions.type">JavaConversions</span>._
      <a href="#sbt.PluginDiscovery.binaryModuleNames.loader" title="ClassLoader">loader</a>.<span title="(x$1: String)java.util.Enumeration[java.net.URL]">getResources</span><span title="(i: java.util.Enumeration[java.net.URL])Iterator[java.net.URL]" class="delimiter">(</span><a href="#sbt.PluginDiscovery.binaryModuleNames.resourceName" title="String">resourceName</a><span class="delimiter">)</span>.<span title="=&gt; Seq[java.net.URL]">toSeq</span>.<span title="(p: java.net.URL =&gt; Boolean)Seq[java.net.URL]">filter</span><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.onClasspath" title="(classpath: Seq[java.io.File])(url: java.net.URL)Boolean">onClasspath</a><a href="#sbt.PluginDiscovery.binaryModuleNames.$anonfun.url" title="java.net.URL" class="delimiter">(</a><a href="#sbt.PluginDiscovery.binaryModuleNames.classpath" title="Seq[java.io.File]">classpath</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: java.net.URL =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[java.net.URL],String,Seq[String]])Seq[String]">flatMap</span> <span class="delimiter">{</span> <a title="java.net.URL" id="sbt.PluginDiscovery.binaryModuleNames.$anonfun.u">u</a> =&gt;
        <a href="IO.scala.html#sbt.IO" title="sbt.IO.type">IO</a>.<a href="IO.scala.html#sbt.IO.readLinesURL" title="(url: java.net.URL, charset: java.nio.charset.Charset)List[String]">readLinesURL</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.binaryModuleNames.$anonfun.u" title="java.net.URL">u</a><span class="delimiter">)</span>.<span title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#sbt.PluginDiscovery.binaryModuleNames.$anonfun.$anonfun.x$6" title="String">_</a>.<span title="()String">trim</span><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)List[String]">filter</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#sbt.PluginDiscovery.binaryModuleNames.$anonfun.$anonfun.x$7" title="String">_</a>.<span title="()Boolean">isEmpty</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Returns `true` if `url` is an entry in `classpath`.*/</span>
  <span class="keyword">def</span> <a title="(classpath: Seq[java.io.File])(url: java.net.URL)Boolean" id="sbt.PluginDiscovery.onClasspath">onClasspath</a><span class="delimiter">(</span><a title="Seq[java.io.File]" id="sbt.PluginDiscovery.onClasspath.classpath">classpath</a>: <span title="Seq[java.io.File]">Seq</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.net.URL" id="sbt.PluginDiscovery.onClasspath.url">url</a>: <span title="java.net.URL">URL</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="IO.scala.html#sbt.IO" title="sbt.IO.type">IO</a>.<a href="IO.scala.html#sbt.IO.urlAsFile" title="(url: java.net.URL)Option[java.io.File]">urlAsFile</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.onClasspath.url" title="java.net.URL">url</a><span class="delimiter">)</span> <span title="(p: java.io.File =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#sbt.PluginDiscovery.onClasspath.classpath" title="Seq[java.io.File]">classpath</a>.<a href="#sbt.PluginDiscovery.onClasspath.$anonfun.elem" title="(elem: Any)Boolean">contains</a> _<span class="delimiter">)</span>

  <span class="keyword">private</span><span class="delimiter">[</span>sbt<span class="delimiter">]</span> <span class="keyword">def</span> <a title="[T](data: sbt.PluginData, loader: ClassLoader, resourceName: String)(implicit classTag: scala.reflect.ClassTag[T])sbt.DetectedModules[T]" id="sbt.PluginDiscovery.binarySourceModules">binarySourceModules</a><span class="delimiter">[</span><a title="" id="sbt.PluginDiscovery.binarySourceModules;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="sbt.PluginData" id="sbt.PluginDiscovery.binarySourceModules.data">data</a>: <a href="EvaluateTask.scala.html#sbt;PluginData" title="sbt.PluginData">PluginData</a>, <a title="ClassLoader" id="sbt.PluginDiscovery.binarySourceModules.loader">loader</a>: <span title="ClassLoader">ClassLoader</span>, <a title="String" id="sbt.PluginDiscovery.binarySourceModules.resourceName">resourceName</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.ClassTag[T]" id="sbt.PluginDiscovery.binarySourceModules.classTag">classTag</a>: reflect.<span title="scala.reflect.ClassTag[T]">ClassTag</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="BuildStructure.scala.html#sbt;DetectedModules" title="sbt.DetectedModules[T]">DetectedModules</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Seq[sbt.Attributed[java.io.File]]" id="sbt.PluginDiscovery.binarySourceModules.classpath">classpath</a> = <a href="#sbt.PluginDiscovery.binarySourceModules.data" title="sbt.PluginData">data</a>.<a href="EvaluateTask.scala.html#sbt;PluginData.classpath" title="=&gt; Seq[sbt.Attributed[java.io.File]]">classpath</a>
      <span class="keyword">val</span> <a title="Seq[(String, T)]" id="sbt.PluginDiscovery.binarySourceModules.namesAndValues">namesAndValues</a> = <span title="Seq[(String, T)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.PluginDiscovery.binarySourceModules.classpath" title="Seq[sbt.Attributed[java.io.File]]">classpath</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="scala.collection.immutable.Nil.type">Nil</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Seq[String]" id="sbt.PluginDiscovery.binarySourceModules.namesAndValues.names">names</a> = <a href="#sbt.PluginDiscovery.binarySourceModuleNames" title="(classpath: Seq[sbt.Attributed[java.io.File]], loader: ClassLoader, resourceName: String, subclasses: String*)Seq[String]">binarySourceModuleNames</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.binarySourceModules.classpath" title="Seq[sbt.Attributed[java.io.File]]">classpath</a>, <a href="#sbt.PluginDiscovery.binarySourceModules.loader" title="ClassLoader">loader</a>, <a href="#sbt.PluginDiscovery.binarySourceModules.resourceName" title="String">resourceName</a>, <a href="#sbt.PluginDiscovery.binarySourceModules.classTag" title="scala.reflect.ClassTag[T]">classTag</a>.<span title="=&gt; Class[_]">runtimeClass</span>.<span title="()String">getName</span><span class="delimiter">)</span>
        <a href="#sbt.PluginDiscovery.loadModules" title="[T](data: sbt.PluginData, names: Seq[String], loader: ClassLoader)(implicit evidence$1: scala.reflect.ClassTag[T])Seq[(String, T)]">loadModules</a><span title="(data: sbt.PluginData, names: Seq[String], loader: ClassLoader)(implicit evidence$1: scala.reflect.ClassTag[T])Seq[(String, T)]" class="delimiter">[</span><a href="#sbt.PluginDiscovery.binarySourceModules;T" title="T">T</a><span class="delimiter">]</span><a href="#sbt.PluginDiscovery.binarySourceModules.classTag" title="scala.reflect.ClassTag[T]" class="delimiter">(</a><a href="#sbt.PluginDiscovery.binarySourceModules.data" title="sbt.PluginData">data</a>, <a href="#sbt.PluginDiscovery.binarySourceModules.namesAndValues.names" title="Seq[String]">names</a>, <a href="#sbt.PluginDiscovery.binarySourceModules.loader" title="ClassLoader">loader</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="sbt.DetectedModules[T]" class="keyword">new</span> <a href="BuildStructure.scala.html#sbt;DetectedModules" title="sbt.DetectedModules[T]">DetectedModules</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.binarySourceModules.namesAndValues" title="Seq[(String, T)]">namesAndValues</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[T](data: sbt.PluginData, names: Seq[String], loader: ClassLoader)(implicit evidence$1: scala.reflect.ClassTag[T])Seq[(String, T)]" id="sbt.PluginDiscovery.loadModules">loadModules</a><span class="delimiter">[</span><a title="" id="sbt.PluginDiscovery.loadModules;T">T</a>: reflect.ClassTag<span class="delimiter">]</span><span class="delimiter">(</span><a title="sbt.PluginData" id="sbt.PluginDiscovery.loadModules.data">data</a>: <a href="EvaluateTask.scala.html#sbt;PluginData" title="sbt.PluginData">PluginData</a>, <a title="Seq[String]" id="sbt.PluginDiscovery.loadModules.names">names</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="ClassLoader" id="sbt.PluginDiscovery.loadModules.loader">loader</a>: <span title="ClassLoader">ClassLoader</span><span class="delimiter">)</span>: <span title="Seq[(String, T)]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>String, T<span class="delimiter">)</span><span class="delimiter">]</span> =
    <span class="keyword">try</span> <a href="ModuleUtilities.scala.html#sbt.ModuleUtilities" title="sbt.ModuleUtilities.type">ModuleUtilities</a>.<a href="ModuleUtilities.scala.html#sbt.ModuleUtilities.getCheckedObjects" title="[T](classNames: Seq[String], loader: ClassLoader)(implicit mf: reflect.ClassManifest[T])Seq[(String, T)]">getCheckedObjects</a><span title="(classNames: Seq[String], loader: ClassLoader)(implicit mf: reflect.ClassManifest[T])Seq[(String, T)]" class="delimiter">[</span><a href="#sbt.PluginDiscovery.loadModules;T" title="T">T</a><span class="delimiter">]</span><a href="#sbt.PluginDiscovery.loadModules.evidence$1" title="scala.reflect.ClassTag[T]" class="delimiter">(</a><a href="#sbt.PluginDiscovery.loadModules.names" title="Seq[String]">names</a>, <a href="#sbt.PluginDiscovery.loadModules.loader" title="ClassLoader">loader</a><span class="delimiter">)</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="ExceptionInInitializerError">e</span>: <span title="ExceptionInInitializerError">ExceptionInInitializerError</span> =&gt;
        <span class="keyword">val</span> <a title="Throwable" id="sbt.PluginDiscovery.loadModules.cause">cause</a> = <span title="ExceptionInInitializerError">e</span>.<span title="()Throwable">getCause</span>
        <span title="Nothing" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.PluginDiscovery.loadModules.cause" title="Throwable">cause</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="ExceptionInInitializerError">e</span> <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <a href="#sbt.PluginDiscovery.loadModules.cause" title="Throwable">cause</a>
      <span class="keyword">case</span> <span title="LinkageError">e</span>: <span title="LinkageError">LinkageError</span> =&gt; <a href="#sbt.PluginDiscovery.incompatiblePlugins" title="(data: sbt.PluginData, t: LinkageError)Nothing">incompatiblePlugins</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.loadModules.data" title="sbt.PluginData">data</a>, <span title="LinkageError">e</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(data: sbt.PluginData, t: LinkageError)Nothing" id="sbt.PluginDiscovery.incompatiblePlugins">incompatiblePlugins</a><span class="delimiter">(</span><a title="sbt.PluginData" id="sbt.PluginDiscovery.incompatiblePlugins.data">data</a>: <a href="EvaluateTask.scala.html#sbt;PluginData" title="sbt.PluginData">PluginData</a>, <a title="LinkageError" id="sbt.PluginDiscovery.incompatiblePlugins.t">t</a>: <span title="LinkageError">LinkageError</span><span class="delimiter">)</span>: <span title="Nothing">Nothing</span> =
    <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[sbt.ModuleID]" id="sbt.PluginDiscovery.incompatiblePlugins.evicted">evicted</a> = <a href="#sbt.PluginDiscovery.incompatiblePlugins.data" title="sbt.PluginData">data</a>.<a href="EvaluateTask.scala.html#sbt;PluginData.report" title="=&gt; Option[sbt.UpdateReport]">report</a>.<span title="=&gt; List[sbt.UpdateReport]">toList</span>.<span title="(f: sbt.UpdateReport =&gt; scala.collection.GenTraversableOnce[sbt.ModuleID])(implicit bf: scala.collection.generic.CanBuildFrom[List[sbt.UpdateReport],sbt.ModuleID,List[sbt.ModuleID]])List[sbt.ModuleID]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,sbt.ModuleID,List[sbt.ModuleID]]" class="delimiter">(</span><a href="#sbt.PluginDiscovery.incompatiblePlugins.evicted.$anonfun.x$8" title="sbt.UpdateReport">_</a>.<a href="UpdateReport.scala.html#sbt;UpdateReport.configurations" title="=&gt; Seq[sbt.ConfigurationReport]">configurations</a>.<span title="(f: sbt.ConfigurationReport =&gt; scala.collection.GenTraversableOnce[sbt.ModuleID])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[sbt.ConfigurationReport],sbt.ModuleID,Seq[sbt.ModuleID]])Seq[sbt.ModuleID]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,sbt.ModuleID,Seq[sbt.ModuleID]]" class="delimiter">(</span><a href="#sbt.PluginDiscovery.incompatiblePlugins.evicted.$anonfun.$anonfun.x$9" title="sbt.ConfigurationReport">_</a>.<a href="UpdateReport.scala.html#sbt;ConfigurationReport.evicted" title="=&gt; Seq[sbt.ModuleID]">evicted</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[(String, String)]" id="sbt.PluginDiscovery.incompatiblePlugins.evictedModules">evictedModules</a> = <a href="#sbt.PluginDiscovery.incompatiblePlugins.evicted" title="List[sbt.ModuleID]">evicted</a> <span title="(f: sbt.ModuleID =&gt; (String, String))(implicit bf: scala.collection.generic.CanBuildFrom[List[sbt.ModuleID],(String, String),List[(String, String)]])List[(String, String)]">map</span> <span class="delimiter">{</span> <a title="sbt.ModuleID" id="sbt.PluginDiscovery.incompatiblePlugins.evictedModules.$anonfun.id">id</a> =&gt; <span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><a href="#sbt.PluginDiscovery.incompatiblePlugins.evictedModules.$anonfun.id" title="sbt.ModuleID">id</a>.<a href="ModuleID.scala.html#sbt;ModuleID.organization" title="=&gt; String">organization</a>, <a href="#sbt.PluginDiscovery.incompatiblePlugins.evictedModules.$anonfun.id" title="sbt.ModuleID">id</a>.<a href="ModuleID.scala.html#sbt;ModuleID.name" title="=&gt; String">name</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span title="=&gt; List[(String, String)]">distinct</span>;
      <span class="keyword">val</span> <a title="List[String]" id="sbt.PluginDiscovery.incompatiblePlugins.evictedStrings">evictedStrings</a> = <a href="#sbt.PluginDiscovery.incompatiblePlugins.evictedModules" title="List[(String, String)]">evictedModules</a> <span title="(f: ((String, String)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(String, String)],String,List[String]])List[String]">map</span> <a href="#sbt.PluginDiscovery.incompatiblePlugins.evictedStrings.$anonfun.x0$3" title="String" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a title="String" id="sbt.PluginDiscovery.incompatiblePlugins.evictedStrings.$anonfun.o">o</a>, <a title="String" id="sbt.PluginDiscovery.incompatiblePlugins.evictedStrings.$anonfun.n">n</a><span class="delimiter">)</span> =&gt; <a href="#sbt.PluginDiscovery.incompatiblePlugins.evictedStrings.$anonfun.o" title="String">o</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.PluginDiscovery.incompatiblePlugins.evictedStrings.$anonfun.n" title="String">n</a> <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="String" id="sbt.PluginDiscovery.incompatiblePlugins.msgBase">msgBase</a> = <span title="String(&quot;Binary incompatibility in plugins detected.&quot;)" class="string">&quot;Binary incompatibility in plugins detected.&quot;</span>
      <span class="keyword">val</span> <a title="String" id="sbt.PluginDiscovery.incompatiblePlugins.msgExtra">msgExtra</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#sbt.PluginDiscovery.incompatiblePlugins.evictedStrings" title="List[String]">evictedStrings</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="String(&quot;\nNote that conflicts were resolved for some dependencies:\n\t&quot;)" class="string">&quot;\nNote that conflicts were resolved for some dependencies:\n\t&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#sbt.PluginDiscovery.incompatiblePlugins.evictedStrings" title="List[String]">evictedStrings</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;\n\t&quot;)" class="string">&quot;\n\t&quot;</span><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">throw</span> <span title="sbt.IncompatiblePluginsException" class="keyword">new</span> <a href="Load.scala.html#sbt;IncompatiblePluginsException" title="sbt.IncompatiblePluginsException">IncompatiblePluginsException</a><span class="delimiter">(</span><a href="#sbt.PluginDiscovery.incompatiblePlugins.msgBase" title="String">msgBase</a> <span title="(x$1: Any)String">+</span> <a href="#sbt.PluginDiscovery.incompatiblePlugins.msgExtra" title="String">msgExtra</a>, <a href="#sbt.PluginDiscovery.incompatiblePlugins.t" title="LinkageError">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
