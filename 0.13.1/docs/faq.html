

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Frequently Asked Questions &mdash; sbt Documentation</title>
    
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/issuetracker.css" type="text/css" />
    <link rel="stylesheet" href="_static/base.css" type="text/css" />
    <link rel="stylesheet" href="_static/docs.css" type="text/css" />
    <link rel="stylesheet" href="_static/syntax.css" type="text/css" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Exo:300,400,600,700" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.13.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="../../versions.js"></script>
    <script type="text/javascript" src="_static/set-versions.js"></script>
    <script type="text/javascript" src="../../assets/warnOldDocs.js"></script>
    <link rel="top" title="sbt Documentation" href="index.html" />
    <link rel="up" title="Contents" href="index.html" />
    <link rel="next" title="Community" href="Community/index.html" />
    <link rel="prev" title="Triggered execution" href="Howto/triggered.html" /> 
  </head>
  <body>
  <div class="navbar">
    <div class="navbar-inner">
      <div class="container">
        <ul class="nav">
          <li><a href="http://www.scala-sbt.org/">Home</a></li>
          <li><a href="index.html">Documentation</a></li>
          <li><a href="Getting-Started/Setup.html">Download</a></li>
          <li><a href="https://groups.google.com/forum/#!forum/sbt-dev">Mailing List</a></li>
          <li><a href="http://github.com/sbt/sbt">Project</a></li>           
        </ul>
      </div>
    </div>
  </div>
  <div class="main">
    <div class="container">
      <div class="page-title">Frequently Asked Questions</div>
      <div class="search-box">
        <form method="get" action="http://www.google.com/search" id="search">
          <input type="search" placeholder="Search 0.13.1 on Google" name="q" results="10" size="29" id="search-input">
          <input type="hidden"  name="sitesearch" value="http://www.scala-sbt.org/0.13.1/docs/"> 
          <input type="submit" id="submit-search">
        </form>
      </div>
    </div>
    <div class="main-container">
      <div class="container">
        <div class="row">
          <div class="span12">
            <ul class="breadcrumb">        
              <li>
                 <span class="divider">|</span> <a href="Community/index.html">Community</a> <span class="divider">»</span>
              </li>
              <li>
              </li>
              <li>
                <a href="index.html">Contents</a>
              </li>
              <li>
                <span class="divider">«</span> <a href="Howto/triggered.html">Triggered execution</a> <span class="divider">|</span>
              </li>
              <li>
                <select id="versions"><option selected value="0.13.1">Version 0.13.1</option></select>
              </li>
            </ul>         
          </div>
        </div>
        <div class="row">
          <div class="span9">
            
  <div class="section" id="frequently-asked-questions">
<h1>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="project-information">
<h2>Project Information<a class="headerlink" href="#project-information" title="Permalink to this headline">¶</a></h2>
<div class="section" id="how-do-i-get-help">
<span id="getting-help"></span><h3>How do I get help?<a class="headerlink" href="#how-do-i-get-help" title="Permalink to this headline">¶</a></h3>
<p>Please use <a class="reference external" href="http://stackoverflow.com/tags/sbt">Stack Overflow</a> for questions.  Use the <a class="reference external" href="https://groups.google.com/forum/#!forum/sbt-dev">sbt-dev mailing list</a> for comments and discussions about sbt development.</p>
<ul class="simple">
<li>Please state the problem or question clearly and provide enough
context. Code examples and build transcripts are often useful when
appropriately edited.</li>
<li>Providing small, reproducible examples is a good way to get help
quickly.</li>
<li>Include relevant information such as the version of sbt and Scala
being used.</li>
</ul>
</div>
<div class="section" id="how-do-i-report-a-bug">
<h3>How do I report a bug?<a class="headerlink" href="#how-do-i-report-a-bug" title="Permalink to this headline">¶</a></h3>
<p>Please use the <a class="reference external" href="https://github.com/sbt/sbt/issues">issue tracker</a>
to report confirmed bugs. Do not use it to ask questions or to determine
if something is a bug.  See <a class="reference internal" href="#getting-help"><em>How do I get help?</em></a>.</p>
</div>
<div class="section" id="how-can-i-help">
<h3>How can I help?<a class="headerlink" href="#how-can-i-help" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fix mistakes that you notice on the wiki.</li>
<li>Make <a class="reference external" href="https://github.com/sbt/sbt/issues">bug reports</a> that are
clear and reproducible.</li>
<li>Answer questions on <a class="reference external" href="http://stackoverflow.com/tags/sbt">Stack Overflow</a>.</li>
<li>Discuss development on the <a class="reference external" href="https://groups.google.com/forum/#!forum/sbt-dev">sbt-dev mailing list</a>.</li>
<li>Fix issues that affect you. <a class="reference external" href="http://help.github.com/fork-a-repo/">Fork, fix, and submit a pull
request</a>.</li>
<li>Implement features that are important to you. There is an
<a class="reference internal" href="Community/Opportunities.html"><em>Opportunites</em></a> page for some ideas, but the most useful
contributions are usually ones you want yourself.</li>
</ul>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="my-last-command-didn-t-work-but-i-can-t-see-an-explanation-why">
<h3>My last command didn't work but I can't see an explanation. Why?<a class="headerlink" href="#my-last-command-didn-t-work-but-i-can-t-see-an-explanation-why" title="Permalink to this headline">¶</a></h3>
<p>sbt 0.13 by default suppresses most stack traces and debugging
information. It has the nice side effect of giving you less noise on
screen, but as a newcomer it can leave you lost for explanation. To see
the previous output of a command at a higher verbosity, type
<span class="pre">last &lt;task&gt;</span> where <span class="pre">&lt;task&gt;</span> is the task that failed or that you
want to view detailed output for. For example, if you find that your
<a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.update">update</a> fails to load all the dependencies as you expect you can
enter:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">&gt;</span> last update
</pre></div>
</div>
<p>and it will display the full output from the last run of the <a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.update">update</a>
command.</p>
</div>
<div class="section" id="how-do-i-disable-ansi-codes-in-the-output">
<h3>How do I disable ansi codes in the output?<a class="headerlink" href="#how-do-i-disable-ansi-codes-in-the-output" title="Permalink to this headline">¶</a></h3>
<p>Sometimes sbt doesn't detect that ansi codes aren't supported and you
get output that looks like:</p>
<div class="highlight-text"><div class="highlight"><pre>[0m[ [0minfo [0m]  [0mSet current project to root
</pre></div>
</div>
<p>or ansi codes are supported but you want to disable colored output. To
completely disable ansi codes, set the <span class="pre">sbt.log.format</span> system
property to <span class="pre">false</span>. For example,</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> sbt -Dsbt.log.format<span class="o">=</span><span class="nb">false</span>
</pre></div>
</div>
</div>
<div class="section" id="how-can-i-start-a-scala-interpreter-repl-with-sbt-project-configuration-dependencies-etc">
<h3>How can I start a Scala interpreter (REPL) with sbt project configuration (dependencies, etc.)?<a class="headerlink" href="#how-can-i-start-a-scala-interpreter-repl-with-sbt-project-configuration-dependencies-etc" title="Permalink to this headline">¶</a></h3>
<p>You may run <span class="pre">sbt console</span>.</p>
</div>
</div>
<div class="section" id="build-definitions">
<h2>Build definitions<a class="headerlink" href="#build-definitions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="what-are-the-and-methods">
<h3>What are the <span class="pre">:=</span>, <span class="pre">+=</span>, and <span class="pre">++=</span> methods?<a class="headerlink" href="#what-are-the-and-methods" title="Permalink to this headline">¶</a></h3>
<p>These are methods on keys used to construct a <span class="pre">Setting</span> or a <span class="pre">Task</span>. The Getting
Started Guide covers all these methods, see <a class="reference internal" href="Getting-Started/Basic-Def.html"><em>.sbt build definition</em></a>
and <a class="reference internal" href="Getting-Started/More-About-Settings.html"><em>more about settings</em></a> for example.</p>
</div>
<div class="section" id="what-is-the-method">
<h3>What is the <span class="pre">%</span> method?<a class="headerlink" href="#what-is-the-method" title="Permalink to this headline">¶</a></h3>
<p>It's used to create a <span class="pre">ModuleID</span> from strings, when specifying managed
dependencies. Read the Getting Started Guide about
<a class="reference internal" href="Getting-Started/Library-Dependencies.html"><em>library dependencies</em></a>.</p>
</div>
<div class="section" id="what-is-moduleid-project">
<h3>What is <span class="pre">ModuleID</span>, <span class="pre">Project</span>, ...?<a class="headerlink" href="#what-is-moduleid-project" title="Permalink to this headline">¶</a></h3>
<p>To figure out an unknown type or method, have a look at the
<a class="reference internal" href="Getting-Started/Welcome.html"><em>Getting Started Guide</em></a> if you have not.
Also try the <a class="reference internal" href="Name-Index.html"><em>index</em></a> of commonly used methods, values, and types,
the <a class="reference external" href="../api/">API Documentation</a> and the
<a class="reference external" href="../sxr/">hyperlinked sources</a>.</p>
</div>
<div class="section" id="how-do-i-add-files-to-a-jar-package">
<h3>How do I add files to a jar package?<a class="headerlink" href="#how-do-i-add-files-to-a-jar-package" title="Permalink to this headline">¶</a></h3>
<p>The files included in an artifact are configured by default by a task
<a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.mappings">mappings</a> that is scoped by the relevant package task. The
<a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.mappings">mappings</a> task returns a sequence <span class="pre">Seq[(File,String)]</span> of mappings
from the file to include to the path within the jar. See
<a class="reference internal" href="Detailed-Topics/Mapping-Files.html"><em>Mapping Files</em></a> for details on creating these mappings.</p>
<p>For example, to add generated sources to the packaged source artifact:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">mappings</span> <span class="n">in</span> <span class="o">(</span><span class="nc">Compile</span><span class="o">,</span> <span class="n">packageSrc</span><span class="o">)</span> <span class="o">++=</span> <span class="o">{</span>
      <span class="k">import</span> <span class="nn">Path.</span><span class="o">{</span><span class="n">flat</span><span class="o">,</span> <span class="n">relativeTo</span><span class="o">}</span>
   <span class="k">val</span> <span class="n">base</span> <span class="k">=</span> <span class="o">(</span><span class="n">sourceManaged</span> <span class="n">in</span> <span class="nc">Compile</span><span class="o">).</span><span class="n">value</span>
   <span class="k">val</span> <span class="n">srcs</span> <span class="k">=</span> <span class="o">(</span><span class="n">managedSources</span> <span class="n">in</span> <span class="nc">Compile</span><span class="o">).</span><span class="n">value</span>
   <span class="n">srcs</span> <span class="n">x</span> <span class="o">(</span><span class="n">relativeTo</span><span class="o">(</span><span class="n">base</span><span class="o">)</span> <span class="o">|</span> <span class="n">flat</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
<p>This takes sources from the <a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.managedSources">managedSources</a> task and relativizes them
against the <a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.managedSource">managedSource</a> base directory, falling back to a
flattened mapping. If a source generation task doesn't write the sources
to the <a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.managedSource">managedSource</a> directory, the mapping function would have to
be adjusted to try relativizing against additional directories or
something more appropriate for the generator.</p>
</div>
<div class="section" id="how-can-i-generate-source-code-or-resources">
<h3>How can I generate source code or resources?<a class="headerlink" href="#how-can-i-generate-source-code-or-resources" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="Howto/generatefiles.html"><em>Generating files</em></a>.</p>
</div>
<div class="section" id="how-can-a-task-avoid-redoing-work-if-the-input-files-are-unchanged">
<h3>How can a task avoid redoing work if the input files are unchanged?<a class="headerlink" href="#how-can-a-task-avoid-redoing-work-if-the-input-files-are-unchanged" title="Permalink to this headline">¶</a></h3>
<p>There is basic support for only doing work when input files have changed
or when the outputs haven't been generated yet. This support is
primitive and subject to change.</p>
<p>The relevant methods are two overloaded methods called
<a class="reference external" href="../api/sbt/FileFunction$.html">FileFunction.cached</a>.
Each requires a directory in which to store cached data. Sample usage
is:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="c1">// define a task that takes some inputs</span>
<span class="c1">//   and generates files in an output directory</span>
<span class="n">myTask</span> <span class="o">:=</span> <span class="o">{</span>
    <span class="c1">// wraps a function taskImpl in an uptodate check</span>
    <span class="c1">//   taskImpl takes the input files, the output directory,</span>
    <span class="c1">//   generates the output files and returns the set of generated files</span>
    <span class="k">val</span> <span class="n">cachedFun</span> <span class="k">=</span> <span class="nc">FileFunction</span><span class="o">.</span><span class="n">cached</span><span class="o">(</span><span class="n">cacheDirectory</span><span class="o">.</span><span class="n">value</span> <span class="o">/</span> <span class="s">&quot;my-task&quot;</span><span class="o">)</span> <span class="o">{</span> <span class="o">(</span><span class="n">in</span><span class="k">:</span> <span class="kt">Set</span><span class="o">[</span><span class="kt">File</span><span class="o">])</span> <span class="k">=&gt;</span>
      <span class="n">taskImpl</span><span class="o">(</span><span class="n">in</span><span class="o">,</span> <span class="n">target</span><span class="o">.</span><span class="n">value</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Set</span><span class="o">[</span><span class="kt">File</span><span class="o">]</span>
    <span class="o">}</span>
    <span class="c1">// Applies the cached function to the inputs files</span>
    <span class="n">cachedFun</span><span class="o">(</span><span class="n">inputs</span><span class="o">.</span><span class="n">value</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
<p>There are two additional arguments for the first parameter list that
allow the file tracking style to be explicitly specified. By default,
the input tracking style is <span class="pre">FilesInfo.lastModified</span>, based on a
file's last modified time, and the output tracking style is
<span class="pre">FilesInfo.exists</span>, based only on whether the file exists. The other
available style is <span class="pre">FilesInfo.hash</span>, which tracks a file based on a
hash of its contents. See the <a class="reference external" href="../api/sbt/FilesInfo$.html">FilesInfo
API</a> for
details.</p>
<p>A more advanced version of <span class="pre">FileFunction.cached</span> passes a data
structure of type
<a class="reference external" href="../api/sbt/ChangeReport.html">ChangeReport</a>
describing the changes to input and output files since the last
evaluation. This version of <span class="pre">cached</span> also expects the set of files
generated as output to be the result of the evaluated function.</p>
</div>
</div>
<div class="section" id="extending-sbt">
<h2>Extending sbt<a class="headerlink" href="#extending-sbt" title="Permalink to this headline">¶</a></h2>
<div class="section" id="how-can-i-add-a-new-configuration">
<h3>How can I add a new configuration?<a class="headerlink" href="#how-can-i-add-a-new-configuration" title="Permalink to this headline">¶</a></h3>
<p>The following example demonstrates adding a new set of compilation
settings and tasks to a new configuration called <span class="pre">samples</span>. The
sources for this configuration go in <span class="pre">src/samples/scala/</span>. Unspecified
settings delegate to those defined for the <span class="pre">compile</span> configuration.
For example, if <a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.scalacOptions">scalacOptions</a> are not overridden for <span class="pre">samples</span>,
the options for the main sources are used.</p>
<p>Options specific to <span class="pre">samples</span> may be declared like:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">scalacOptions</span> <span class="n">in</span> <span class="nc">Samples</span> <span class="o">+=</span> <span class="s">&quot;-deprecation&quot;</span>
</pre></div>
</div>
<p>This uses the main options as base options because of <span class="pre">+=</span>. Use <span class="pre">:=</span>
to ignore the main options:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">scalacOptions</span> <span class="n">in</span> <span class="nc">Samples</span> <span class="o">:=</span> <span class="s">&quot;-deprecation&quot;</span> <span class="o">::</span> <span class="nc">Nil</span>
</pre></div>
</div>
<p>The example adds all of the usual compilation related settings and tasks
to <span class="pre">samples</span>:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">samples</span><span class="k">:</span><span class="kt">run</span>
<span class="n">samples</span><span class="k">:</span><span class="kt">runMain</span>
<span class="n">samples</span><span class="k">:</span><span class="kt">compile</span>
<span class="n">samples</span><span class="k">:</span><span class="kt">console</span>
<span class="n">samples</span><span class="k">:</span><span class="kt">consoleQuick</span>
<span class="n">samples</span><span class="k">:</span><span class="kt">scalacOptions</span>
<span class="n">samples</span><span class="k">:</span><span class="kt">fullClasspath</span>
<span class="n">samples</span><span class="k">:</span><span class="kt">package</span>
<span class="n">samples</span><span class="k">:</span><span class="kt">packageSrc</span>
<span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="how-do-i-add-a-test-configuration">
<h3>How do I add a test configuration?<a class="headerlink" href="#how-do-i-add-a-test-configuration" title="Permalink to this headline">¶</a></h3>
<p>See the <span class="pre">Additional test configurations</span> section of :doc`/Detailed-Topics/Testing`.</p>
</div>
<div class="section" id="how-can-i-create-a-custom-run-task-in-addition-to-run">
<h3>How can I create a custom run task, in addition to <span class="pre">run</span>?<a class="headerlink" href="#how-can-i-create-a-custom-run-task-in-addition-to-run" title="Permalink to this headline">¶</a></h3>
<p>This answer is extracted from a <a class="reference external" href="http://groups.google.com/group/simple-build-tool/browse_thread/thread/4c28ee5b7e18b46a/">mailing list
discussion</a>.</p>
<p>Read the Getting Started Guide up to <a class="reference internal" href="Getting-Started/Custom-Settings.html"><em>custom settings</em></a> for background.</p>
<p>A basic run task is created by:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">lazy</span> <span class="k">val</span> <span class="n">myRunTask</span> <span class="k">=</span> <span class="n">taskKey</span><span class="o">[</span><span class="kt">Unit</span><span class="o">](</span><span class="s">&quot;A custom run task.&quot;</span><span class="o">)</span>

<span class="c1">// this can go either in a `build.sbt` or the settings member</span>
<span class="c1">//   of a Project in a full configuration</span>
<span class="n">fullRunTask</span><span class="o">(</span><span class="n">myRunTask</span><span class="o">,</span> <span class="nc">Test</span><span class="o">,</span> <span class="s">&quot;foo.Foo&quot;</span><span class="o">,</span> <span class="s">&quot;arg1&quot;</span><span class="o">,</span> <span class="s">&quot;arg2&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>If you want to be able to supply arguments on the command line, replace
<span class="pre">TaskKey</span> with <span class="pre">InputKey</span> and <span class="pre">fullRunTask</span> with
<span class="pre">fullRunInputTask</span>. The <span class="pre">Test</span> part can be replaced with another
configuration, such as <span class="pre">Compile</span>, to use that configuration's
classpath.</p>
<p>This run task can be configured individually by specifying the task key
in the scope. For example:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">fork</span> <span class="n">in</span> <span class="n">myRunTask</span> <span class="o">:=</span> <span class="kc">true</span>

<span class="n">javaOptions</span> <span class="n">in</span> <span class="n">myRunTask</span> <span class="o">+=</span> <span class="s">&quot;-Xmx6144m&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="how-should-i-express-a-dependency-on-an-outside-tool-such-as-proguard">
<h3>How should I express a dependency on an outside tool such as proguard?<a class="headerlink" href="#how-should-i-express-a-dependency-on-an-outside-tool-such-as-proguard" title="Permalink to this headline">¶</a></h3>
<p>Tool dependencies are used to implement a task and are not needed by
project source code. These dependencies can be declared in their own
configuration and classpaths. These are the steps:</p>
<ol class="arabic simple">
<li>Define a new <a class="reference internal" href="Detailed-Topics/Library-Management.html#ivy-configurations"><em>configuration</em></a>.</li>
<li>Declare the tool <a class="reference internal" href="Detailed-Topics/Library-Management.html"><em>dependencies</em></a> in that
configuration.</li>
<li>Define a classpath that pulls the dependencies from the <a class="reference internal" href="Detailed-Topics/Update-Report.html"><em>Update Report</em></a> produced by <a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.update">update</a>.</li>
<li>Use the classpath to implement the task.</li>
</ol>
<p>As an example, consider a <span class="pre">proguard</span> task. This task needs the
ProGuard jars in order to run the tool. First, define and add the new configuration:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">val</span> <span class="nc">ProguardConfig</span> <span class="k">=</span> <span class="n">config</span><span class="o">(</span><span class="s">&quot;proguard&quot;</span><span class="o">)</span> <span class="n">hide</span>

<span class="n">ivyConfigurations</span> <span class="o">+=</span> <span class="nc">ProguardConfig</span>
</pre></div>
</div>
<p>Then,</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="c1">// Add proguard as a dependency in the custom configuration.</span>
<span class="c1">//  This keeps it separate from project dependencies.</span>
<span class="n">libraryDependencies</span> <span class="o">+=</span>
   <span class="s">&quot;net.sf.proguard&quot;</span> <span class="o">%</span> <span class="s">&quot;proguard&quot;</span> <span class="o">%</span> <span class="s">&quot;4.4&quot;</span> <span class="o">%</span> <span class="nc">ProguardConfig</span><span class="o">.</span><span class="n">name</span>

<span class="c1">// Extract the dependencies from the UpdateReport.</span>
<span class="n">managedClasspath</span> <span class="n">in</span> <span class="n">proguard</span> <span class="o">:=</span> <span class="o">{</span>
    <span class="c1">// these are the types of artifacts to include</span>
    <span class="k">val</span> <span class="n">artifactTypes</span><span class="k">:</span> <span class="kt">Set</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span> <span class="k">=</span> <span class="o">(</span><span class="n">classpathTypes</span> <span class="n">in</span> <span class="n">proguard</span><span class="o">).</span><span class="n">value</span>
    <span class="nc">Classpaths</span><span class="o">.</span><span class="n">managedJars</span><span class="o">(</span><span class="n">proguardConfig</span><span class="o">,</span> <span class="n">artifactTypes</span><span class="o">,</span> <span class="n">update</span><span class="o">.</span><span class="n">value</span><span class="o">)</span>
<span class="o">}</span>

<span class="c1">// Use the dependencies in a task, typically by putting them</span>
<span class="c1">//  in a ClassLoader and reflectively calling an appropriate</span>
<span class="c1">//  method.</span>
<span class="n">proguard</span> <span class="o">:=</span> <span class="o">{</span>
        <span class="k">val</span> <span class="n">cp</span><span class="k">:</span> <span class="kt">Seq</span><span class="o">[</span><span class="kt">File</span><span class="o">]</span> <span class="k">=</span> <span class="o">(</span><span class="n">managedClasspath</span> <span class="n">in</span> <span class="n">proguard</span><span class="o">).</span><span class="n">value</span>
  <span class="c1">// ... do something with , which includes proguard ...</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Defining the intermediate classpath is optional, but it can be useful for debugging or if it needs to
be used by multiple tasks.
It is also possible to specify artifact types inline.
This alternative <span class="pre">proguard</span> task would look like:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">proguard</span> <span class="o">:=</span> <span class="o">{</span>
   <span class="k">val</span> <span class="n">artifactTypes</span> <span class="k">=</span> <span class="nc">Set</span><span class="o">(</span><span class="s">&quot;jar&quot;</span><span class="o">)</span>
        <span class="k">val</span> <span class="n">cp</span><span class="k">:</span> <span class="kt">Seq</span><span class="o">[</span><span class="kt">File</span><span class="o">]</span> <span class="k">=</span>
      <span class="nc">Classpaths</span><span class="o">.</span><span class="n">managedJars</span><span class="o">(</span><span class="n">proguardConfig</span><span class="o">,</span> <span class="n">artifactTypes</span><span class="o">,</span> <span class="n">update</span><span class="o">.</span><span class="n">value</span><span class="o">)</span>
  <span class="c1">// ... do something with , which includes proguard ...</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="how-would-i-change-sbt-s-classpath-dynamically">
<h3>How would I change sbt's classpath dynamically?<a class="headerlink" href="#how-would-i-change-sbt-s-classpath-dynamically" title="Permalink to this headline">¶</a></h3>
<p>It is possible to register additional jars that will be placed on sbt's
classpath (since version 0.10.1). Through
<a class="reference external" href="../api/sbt/State$.html">State</a>, it
is possible to obtain a
<a class="reference external" href="../api/xsbti/ComponentProvider.html">xsbti.ComponentProvider</a>,
which manages application components. Components are groups of files in
the <span class="pre">~/.sbt/boot/</span> directory and, in this case, the application is
sbt. In addition to the base classpath, components in the &quot;extra&quot;
component are included on sbt's classpath.</p>
<p>(Note: the additional components on an application's classpath are
declared by the <span class="pre">components</span> property in the <span class="pre">[main]</span> section of the
launcher configuration file <span class="pre">boot.properties</span>.)</p>
<p>Because these components are added to the <span class="pre">~/.sbt/boot/</span> directory and
<span class="pre">~/.sbt/boot/</span> may be read-only, this can fail. In this case, the user
has generally intentionally set sbt up this way, so error recovery is
not typically necessary (just a short error message explaining the
situation.)</p>
<div class="section" id="example-of-dynamic-classpath-augmentation">
<h4>Example of dynamic classpath augmentation<a class="headerlink" href="#example-of-dynamic-classpath-augmentation" title="Permalink to this headline">¶</a></h4>
<p>The following code can be used where a <span class="pre">State =&gt; State</span> is required,
such as in the <a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.onLoad">onLoad</a> setting (described below) or in a
<a class="reference internal" href="Extending/Commands.html"><em>command</em></a>. It adds some files to the &quot;extra&quot; component and
reloads sbt if they were not already added. Note that reloading will
drop the user's session state.</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">def</span> <span class="n">augment</span><span class="o">(</span><span class="n">extra</span><span class="k">:</span> <span class="kt">Seq</span><span class="o">[</span><span class="kt">File</span><span class="o">])(</span><span class="n">s</span><span class="k">:</span> <span class="kt">State</span><span class="o">)</span><span class="k">:</span> <span class="kt">State</span> <span class="o">=</span>
<span class="o">{</span>
    <span class="c1">// Get the component provider</span>
  <span class="k">val</span> <span class="n">cs</span><span class="k">:</span> <span class="kt">xsbti.ComponentProvider</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">components</span><span class="o">()</span>

    <span class="c1">// Adds the files in &#39;extra&#39; to the &quot;extra&quot; component</span>
    <span class="c1">//   under an exclusive machine-wide lock.</span>
    <span class="c1">//   The returned value is &#39;true&#39; if files were actually copied and &#39;false&#39;</span>
    <span class="c1">//   if the target files already exists (based on name only).</span>
  <span class="k">val</span> <span class="n">copied</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">locked</span><span class="o">(</span><span class="n">cs</span><span class="o">.</span><span class="n">lockFile</span><span class="o">,</span> <span class="n">cs</span><span class="o">.</span><span class="n">addToComponent</span><span class="o">(</span><span class="s">&quot;extra&quot;</span><span class="o">,</span> <span class="n">extra</span><span class="o">.</span><span class="n">toArray</span><span class="o">))</span>

    <span class="c1">// If files were copied, reload so that we use the new classpath.</span>
  <span class="k">if</span><span class="o">(</span><span class="n">copied</span><span class="o">)</span> <span class="n">s</span><span class="o">.</span><span class="n">reload</span> <span class="k">else</span> <span class="n">s</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="how-can-i-take-action-when-the-project-is-loaded-or-unloaded">
<h3>How can I take action when the project is loaded or unloaded?<a class="headerlink" href="#how-can-i-take-action-when-the-project-is-loaded-or-unloaded" title="Permalink to this headline">¶</a></h3>
<p>The single, global setting <a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.onLoad">onLoad</a> is of type <span class="pre">State =&gt; State</span> (see
<a class="reference internal" href="Extending/Build-State.html"><em>State and actions</em></a>) and is executed once, after all projects are built and
loaded. There is a similar hook <a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.onUnload">onUnload</a> for when a project is
unloaded. Project unloading typically occurs as a result of a <span class="pre">reload</span>
command or a <span class="pre">set</span> command. Because the <a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.onLoad">onLoad</a> and <a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.onUnload">onUnload</a>
hooks are global, modifying this setting typically involves composing a
new function with the previous value. The following example shows the
basic structure of defining <a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.onLoad">onLoad</a>:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="c1">// Compose our new function &#39;f&#39; with the existing transformation.</span>
<span class="o">{</span>
  <span class="k">val</span> <span class="n">f</span><span class="k">:</span> <span class="kt">State</span> <span class="o">=&gt;</span> <span class="nc">State</span> <span class="k">=</span> <span class="o">...</span>
  <span class="n">onLoad</span> <span class="n">in</span> <span class="nc">Global</span> <span class="o">:=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">previous</span> <span class="k">=</span> <span class="o">(</span><span class="n">onLoad</span> <span class="n">in</span> <span class="nc">Global</span><span class="o">).</span><span class="n">value</span>
    <span class="n">f</span> <span class="n">compose</span> <span class="n">previous</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="section" id="example-of-project-load-unload-hooks">
<h4>Example of project load/unload hooks<a class="headerlink" href="#example-of-project-load-unload-hooks" title="Permalink to this headline">¶</a></h4>
<p>The following example maintains a count of the number of times a project
has been loaded and prints that number:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="o">{</span>
  <span class="c1">// the key for the current count</span>
  <span class="k">val</span> <span class="n">key</span> <span class="k">=</span> <span class="nc">AttributeKey</span><span class="o">[</span><span class="kt">Int</span><span class="o">](</span><span class="s">&quot;loadCount&quot;</span><span class="o">)</span>
  <span class="c1">// the State transformer</span>
  <span class="k">val</span> <span class="n">f</span> <span class="k">=</span> <span class="o">(</span><span class="n">s</span><span class="k">:</span> <span class="kt">State</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">previous</span> <span class="k">=</span> <span class="n">s</span> <span class="n">get</span> <span class="n">key</span> <span class="n">getOrElse</span> <span class="mi">0</span>
    <span class="n">println</span><span class="o">(</span><span class="s">&quot;Project load count: &quot;</span> <span class="o">+</span> <span class="n">previous</span><span class="o">)</span>
    <span class="n">s</span><span class="o">.</span><span class="n">put</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">previous</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span>
  <span class="o">}</span>
  <span class="n">onLoad</span> <span class="n">in</span> <span class="nc">Global</span> <span class="o">:=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">previous</span> <span class="k">=</span> <span class="o">(</span><span class="n">onLoad</span> <span class="n">in</span> <span class="nc">Global</span><span class="o">).</span><span class="n">value</span>
    <span class="n">f</span> <span class="n">compose</span> <span class="n">previous</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="errors">
<h2>Errors<a class="headerlink" href="#errors" title="Permalink to this headline">¶</a></h2>
<div class="section" id="on-project-load-reference-to-uninitialized-setting">
<h3>On project load, &quot;Reference to uninitialized setting&quot;<a class="headerlink" href="#on-project-load-reference-to-uninitialized-setting" title="Permalink to this headline">¶</a></h3>
<p>Setting initializers are executed in order. If the initialization of a
setting depends on other settings that has not been initialized, sbt
will stop loading.</p>
<p>In this example, we try to append a library to <a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.libraryDependencies">libraryDependencies</a>
before it is initialized with an empty sequence.</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">object</span> <span class="nc">MyBuild</span> <span class="k">extends</span> <span class="nc">Build</span> <span class="o">{</span>
  <span class="k">val</span> <span class="n">root</span> <span class="k">=</span> <span class="nc">Project</span><span class="o">(</span><span class="n">id</span> <span class="k">=</span> <span class="s">&quot;root&quot;</span><span class="o">,</span> <span class="n">base</span> <span class="k">=</span> <span class="n">file</span><span class="o">(</span><span class="s">&quot;.&quot;</span><span class="o">),</span>
    <span class="n">settings</span> <span class="k">=</span> <span class="nc">Seq</span><span class="o">(</span>
      <span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">&quot;commons-io&quot;</span> <span class="o">%</span> <span class="s">&quot;commons-io&quot;</span> <span class="o">%</span> <span class="s">&quot;1.4&quot;</span> <span class="o">%</span> <span class="s">&quot;test&quot;</span>
    <span class="o">)</span>
  <span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
<p>To correct this, include the default settings, which includes
<span class="pre">libraryDependencies := Seq()</span>.</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">settings</span> <span class="k">=</span> <span class="nc">Defaults</span><span class="o">.</span><span class="n">defaultSettings</span> <span class="o">++</span> <span class="nc">Seq</span><span class="o">(</span>
  <span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">&quot;commons-io&quot;</span> <span class="o">%</span> <span class="s">&quot;commons-io&quot;</span> <span class="o">%</span> <span class="s">&quot;1.4&quot;</span> <span class="o">%</span> <span class="s">&quot;test&quot;</span>
<span class="o">)</span>
</pre></div>
</div>
<p>A more subtle variation of this error occurs when using <a class="reference internal" href="Getting-Started/Scopes.html"><em>scoped settings</em></a>.</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="c1">// error: Reference to uninitialized setting</span>
<span class="n">settings</span> <span class="k">=</span> <span class="nc">Defaults</span><span class="o">.</span><span class="n">defaultSettings</span> <span class="o">++</span> <span class="nc">Seq</span><span class="o">(</span>
  <span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">&quot;commons-io&quot;</span> <span class="o">%</span> <span class="s">&quot;commons-io&quot;</span> <span class="o">%</span> <span class="s">&quot;1.2&quot;</span> <span class="o">%</span> <span class="s">&quot;test&quot;</span><span class="o">,</span>
  <span class="n">fullClasspath</span> <span class="o">:=</span> <span class="n">fullClasspath</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">filterNot</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">contains</span><span class="o">(</span><span class="s">&quot;commons-io&quot;</span><span class="o">))</span>
<span class="o">)</span>
</pre></div>
</div>
<p>This setting varies between the test and compile scopes. The solution is
use the scoped setting, both as the input to the initializer, and the
setting that we update.</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">fullClasspath</span> <span class="n">in</span> <span class="nc">Compile</span> <span class="o">:=</span> <span class="o">(</span><span class="n">fullClasspath</span> <span class="n">in</span> <span class="nc">Compile</span><span class="o">).</span><span class="n">value</span><span class="o">.</span><span class="n">filterNot</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">contains</span><span class="o">(</span><span class="s">&quot;commons-io&quot;</span><span class="o">))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="dependency-management">
<h2>Dependency Management<a class="headerlink" href="#dependency-management" title="Permalink to this headline">¶</a></h2>
<div class="section" id="how-do-i-resolve-a-checksum-error">
<h3>How do I resolve a checksum error?<a class="headerlink" href="#how-do-i-resolve-a-checksum-error" title="Permalink to this headline">¶</a></h3>
<p>This error occurs when the published checksum, such as a sha1 or md5
hash, differs from the checksum computed for a downloaded artifact, such
as a jar or pom.xml. An example of such an error is:</p>
<div class="highlight-scala"><pre>[warn]  problem while downloading module descriptor:
http://repo1.maven.org/maven2/commons-fileupload/commons-fileupload/1.2.2/commons-fileupload-1.2.2.pom:
invalid sha1: expected=ad3fda4adc95eb0d061341228cc94845ddb9a6fe computed=0ce5d4a03b07c8b00ab60252e5cacdc708a4e6d8 (1070ms)</pre>
</div>
<p>The invalid checksum should generally be reported to the repository
owner (as <a class="reference external" href="https://issues.sonatype.org/browse/MVNCENTRAL-46">was done</a>
for the above error). In the meantime, you can temporarily disable
checking with the following setting:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">checksums</span> <span class="n">in</span> <span class="n">update</span> <span class="o">:=</span> <span class="nc">Nil</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="Detailed-Topics/Library-Management.html"><em>Library Management</em></a> for details.</p>
</div>
<div class="section" id="i-ve-added-a-plugin-and-now-my-cross-compilations-fail">
<h3>I've added a plugin, and now my cross-compilations fail!<a class="headerlink" href="#i-ve-added-a-plugin-and-now-my-cross-compilations-fail" title="Permalink to this headline">¶</a></h3>
<p>This problem crops up frequently. Plugins are only published for the
Scala version that sbt uses (currently, 2.9.1). You can still <em>use</em>
plugins during cross-compilation, because sbt only looks for a 2.9.1
version of the plugin.</p>
<p><strong>... unless you specify the plugin in the wrong place!</strong></p>
<p>A typical mistake is to put global plugin definitions in
<span class="pre">~/.sbt/plugins.sbt</span>. <strong>THIS IS WRONG.</strong> <span class="pre">.sbt</span> files in <span class="pre">~/.sbt</span>
are loaded for <em>each</em> build--that is, for <em>each</em> cross-compilation. So,
if you build for Scala 2.9.0, sbt will try to find a version of the
plugin that's compiled for 2.9.0--and it usually won't. That's because
it doesn't <em>know</em> the dependency is a plugin.</p>
<p>To tell sbt that the dependency is an sbt plugin, make sure you define
your global plugins in a <span class="pre">.sbt</span> file in <span class="pre">~/.sbt/plugins/</span>. sbt knows
that files in <span class="pre">~/.sbt/plugins</span> are only to be used by sbt itself, not
as part of the general build definition. If you define your plugins in a
file under <em>that</em> directory, they won't foul up your cross-compilations.
Any file name ending in <span class="pre">.sbt</span> will do, but most people use
<span class="pre">~/.sbt/plugins/build.sbt</span> or <span class="pre">~/.sbt/plugins/plugins.sbt</span>.</p>
</div>
</div>
<div class="section" id="miscellaneous">
<h2>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h2>
<div class="section" id="how-do-i-use-the-scala-interpreter-in-my-code">
<h3>How do I use the Scala interpreter in my code?<a class="headerlink" href="#how-do-i-use-the-scala-interpreter-in-my-code" title="Permalink to this headline">¶</a></h3>
<p>sbt runs tests in the same JVM as sbt itself and Scala classes are not
in the same class loader as the application classes. Therefore, when
using the Scala interpreter, it is important to set it up properly to
avoid an error message like:</p>
<div class="highlight-scala"><pre>Failed to initialize compiler: class scala.runtime.VolatileBooleanRef not found.
** Note that as of 2.8 scala does not assume use of the java classpath.
** For the old behavior pass -usejavacp to scala, or if using a Settings
** object programmatically, settings.usejavacp.value = true.</pre>
</div>
<p>The key is to initialize the Settings for the interpreter using
<em>embeddedDefaults</em>. For example:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">val</span> <span class="n">settings</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Settings</span>
<span class="n">settings</span><span class="o">.</span><span class="n">embeddedDefaults</span><span class="o">[</span><span class="kt">MyType</span><span class="o">]</span>
<span class="k">val</span> <span class="n">interpreter</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Interpreter</span><span class="o">(</span><span class="n">settings</span><span class="o">,</span> <span class="o">...)</span>
</pre></div>
</div>
<p>Here, MyType is a representative class that should be included on the
interpreter's classpath and in its application class loader. For more
background, see the <a class="reference external" href="https://gist.github.com/404272">original
proposal</a> that resulted in
<em>embeddedDefaults</em> being added.</p>
<p>Similarly, use a representative class as the type argument when using
the <em>break</em> and <em>breakIf</em> methods of <em>ILoop</em>, as in the following
example:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">def</span> <span class="n">x</span><span class="o">(</span><span class="n">a</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">b</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=</span> <span class="o">{</span>
  <span class="k">import</span> <span class="nn">scala.tools.nsc.interpreter.ILoop</span>
  <span class="nc">ILoop</span><span class="o">.</span><span class="n">breakIf</span><span class="o">[</span><span class="kt">MyType</span><span class="o">](</span><span class="n">a</span> <span class="o">!=</span> <span class="n">b</span><span class="o">,</span> <span class="s">&quot;a&quot;</span> <span class="o">-&gt;</span> <span class="n">a</span><span class="o">,</span> <span class="s">&quot;b&quot;</span> <span class="o">-&gt;</span> <span class="n">b</span> <span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="to-0-10-migration">
<h2>0.7 to 0.10+ Migration<a class="headerlink" href="#to-0-10-migration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="how-do-i-migrate-from-0-7-to-0-10">
<h3>How do I migrate from 0.7 to 0.10+?<a class="headerlink" href="#how-do-i-migrate-from-0-7-to-0-10" title="Permalink to this headline">¶</a></h3>
<p>See the <a class="reference internal" href="Detailed-Topics/Migrating-from-sbt-0.7.x-to-0.10.x.html"><em>migration page</em></a> first and
then the following questions.</p>
</div>
<div class="section" id="where-has-0-7-s-lib-managed-gone">
<h3>Where has 0.7's <span class="pre">lib_managed</span> gone?<a class="headerlink" href="#where-has-0-7-s-lib-managed-gone" title="Permalink to this headline">¶</a></h3>
<p>By default, sbt 0.13 loads managed libraries from your ivy cache without
copying them to a <span class="pre">lib_managed</span> directory. This fixes some bugs with
the previous solution and keeps your project directory small. If you
want to insulate your builds from the ivy cache being cleared, set
<span class="pre">retrieveManaged := true</span> and the dependencies will be copied to
<span class="pre">lib_managed</span> as a build-local cache (while avoiding the issues of
<span class="pre">lib_managed</span> in 0.7.x).</p>
<p>This does mean that existing solutions for sharing libraries with your
favoured IDE may not work. There are 0.13 plugins for IDEs being
developed:</p>
<ul class="simple">
<li>IntelliJ IDEA: <a class="reference external" href="https://github.com/mpeltonen/sbt-idea">https://github.com/mpeltonen/sbt-idea</a></li>
<li>Netbeans: <a class="reference external" href="https://github.com/remeniuk/sbt-netbeans-plugin">https://github.com/remeniuk/sbt-netbeans-plugin</a></li>
<li>Eclipse: <a class="reference external" href="https://github.com/typesafehub/sbteclipse">https://github.com/typesafehub/sbteclipse</a></li>
</ul>
</div>
<div class="section" id="what-are-the-commands-i-can-use-in-version-vs-0-7">
<h3>What are the commands I can use in 0.13 vs. 0.7?<a class="headerlink" href="#what-are-the-commands-i-can-use-in-version-vs-0-7" title="Permalink to this headline">¶</a></h3>
<p>For a list of commands, run <span class="pre">help</span>. For details on a specific command,
run <span class="pre">help &lt;command&gt;</span>. To view a list of tasks defined on the current
project, run <span class="pre">tasks</span>. Alternatively, see the <a class="reference internal" href="Getting-Started/Running.html"><em>Running</em></a>
page in the Getting Started Guide for descriptions of common commands and tasks.</p>
<p>If in doubt start by just trying the old command as it may just work.
The built in TAB completion will also assist you, so you can just press
TAB at the beginning of a line and see what you get.</p>
<p>The following commands work pretty much as in 0.7 out of the box:</p>
<div class="highlight-text"><div class="highlight"><pre>reload
update
compile
test
testOnly
publishLocal
exit
</pre></div>
</div>
</div>
<div class="section" id="why-have-the-resolved-dependencies-in-a-multi-module-project-changed-since-0-7">
<h3>Why have the resolved dependencies in a multi-module project changed since 0.7?<a class="headerlink" href="#why-have-the-resolved-dependencies-in-a-multi-module-project-changed-since-0-7" title="Permalink to this headline">¶</a></h3>
<p>sbt 0.10 fixes a flaw in how dependencies get resolved in multi-module
projects. This change ensures that only one version of a library appears
on a classpath.</p>
<p>Use <span class="pre">last update</span> to view the debugging output for the last <a class="pre reference external" href="../sxr/sbt/Keys.scala.html#sbt.Keys.update">update</a>
run. Use <span class="pre">show update</span> to view a summary of files comprising managed
classpaths.</p>
</div>
<div class="section" id="my-tests-all-run-really-fast-but-some-are-broken-that-weren-t-in-0-7">
<h3>My tests all run really fast but some are broken that weren't in 0.7!<a class="headerlink" href="#my-tests-all-run-really-fast-but-some-are-broken-that-weren-t-in-0-7" title="Permalink to this headline">¶</a></h3>
<p>Be aware that compilation and tests run in parallel by default in sbt
0.13. If your test code isn't thread-safe then you may want to change
this behaviour by adding one of the following to your <span class="pre">build.sbt</span>:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="c1">// Execute tests in the current project serially.</span>
<span class="c1">// Tests from other projects may still run concurrently.</span>
<span class="n">parallelExecution</span> <span class="n">in</span> <span class="nc">Test</span> <span class="o">:=</span> <span class="kc">false</span>

<span class="c1">// Execute everything serially (including compilation and tests)</span>
<span class="n">parallelExecution</span> <span class="o">:=</span> <span class="kc">false</span>
</pre></div>
</div>
</div>
<div class="section" id="what-happened-to-the-web-development-and-web-start-support-since-0-7">
<h3>What happened to the web development and Web Start support since 0.7?<a class="headerlink" href="#what-happened-to-the-web-development-and-web-start-support-since-0-7" title="Permalink to this headline">¶</a></h3>
<p>Web application support was split out into a plugin. See the
<a class="reference external" href="https://github.com/JamesEarlDouglas/xsbt-web-plugin">xsbt-web-plugin</a> project.</p>
<p>For an early version of an xsbt Web Start plugin, visit the
<a class="reference external" href="https://github.com/ritschwumm/xsbt-webstart">xsbt-webstart</a> project.</p>
</div>
<div class="section" id="how-are-inter-project-dependencies-different-in-version-vs-0-7">
<h3>How are inter-project dependencies different in 0.13 vs. 0.7?<a class="headerlink" href="#how-are-inter-project-dependencies-different-in-version-vs-0-7" title="Permalink to this headline">¶</a></h3>
<p>In 0.13, there are three types of project dependencies (classpath,
execution, and configuration) and they are independently defined. These
were combined in a single dependency type in 0.7.x. A declaration like:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">lazy</span> <span class="k">val</span> <span class="n">a</span> <span class="k">=</span> <span class="n">project</span><span class="o">(</span><span class="s">&quot;a&quot;</span><span class="o">,</span> <span class="s">&quot;A&quot;</span><span class="o">)</span>
<span class="k">lazy</span> <span class="k">val</span> <span class="n">b</span> <span class="k">=</span> <span class="n">project</span><span class="o">(</span><span class="s">&quot;b&quot;</span><span class="o">,</span> <span class="s">&quot;B&quot;</span><span class="o">,</span> <span class="n">a</span><span class="o">)</span>
</pre></div>
</div>
<p>meant that the <span class="pre">B</span> project had a classpath and execution dependency on
<span class="pre">A</span> and <span class="pre">A</span> had a configuration dependency on <span class="pre">B</span>. Specifically,
in 0.7.x:</p>
<ol class="arabic simple">
<li>Classpath: Classpaths for <span class="pre">A</span> were available on the appropriate
classpath for <span class="pre">B</span>.</li>
<li>Execution: A task executed on <span class="pre">B</span> would be executed on <span class="pre">A</span> first.</li>
<li>Configuration: For some settings, if they were not overridden in
<span class="pre">A</span>, they would default to the value provided in <span class="pre">B</span>.</li>
</ol>
<p>In 0.13, declare the specific type of dependency you want. Read about
<a class="reference internal" href="Getting-Started/Multi-Project.html"><em>multi-project builds</em></a> in the Getting
Started Guide for details.</p>
</div>
<div class="section" id="where-did-class-object-x-go-since-0-7">
<h3>Where did class/object X go since 0.7?<a class="headerlink" href="#where-did-class-object-x-go-since-0-7" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">0.7</th>
<th class="head">0.13</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line"><a class="reference external" href="http://simple-build-tool.googlecode.com/svn/artifacts/latest/api/sbt/FileUtilities$object.html">FileUtilities</a></div>
</div>
</td>
<td><a class="reference external" href="../api/sbt/IO$.html">IO</a></td>
</tr>
<tr class="row-odd"><td><a class="reference external" href="http://simple-build-tool.googlecode.com/svn/artifacts/latest/api/sbt/Path.html">Path class</a> and <a class="reference external" href="http://simple-build-tool.googlecode.com/svn/artifacts/latest/api/sbt/Path$.html">object</a></td>
<td><a class="reference external" href="../api/sbt/Path$.html">Path object</a>, <span class="pre">File</span>, <a class="reference external" href="../api/sbt/RichFile.html">RichFile</a></td>
</tr>
<tr class="row-even"><td><a class="reference external" href="http://simple-build-tool.googlecode.com/svn/artifacts/latest/api/sbt/PathFinder.html">PathFinder class</a></td>
<td><span class="pre">Seq[File]</span>, <a class="reference external" href="../api/sbt/PathFinder.html">PathFinder class</a>, <a class="reference external" href="../api/sbt/PathFinder$.html">PathFinder object</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="where-can-i-find-plugins-for-version">
<h3>Where can I find plugins for 0.13?<a class="headerlink" href="#where-can-i-find-plugins-for-version" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="Community/Community-Plugins.html"><em>Community Plugins</em></a> for a list of currently available plugins.</p>
<p><p class="page-source"><a class="reference external" href="https://github.com/sbt/sbt/raw/0.13.1/src/sphinx/faq.rst">Source for this page</a></p>
</p>
</div>
</div>
</div>


          </div>
          <div class="span3"><p class="contents-title">Contents</p>
              <div id="scroller-anchor">
                <div id="scroller">
                  <div id="toc"><ul>
<li><a class="reference internal" href="#">Frequently Asked Questions</a><ul>
<li><a class="reference internal" href="#project-information">Project Information</a><ul>
<li><a class="reference internal" href="#how-do-i-get-help">How do I get help?</a></li>
<li><a class="reference internal" href="#how-do-i-report-a-bug">How do I report a bug?</a></li>
<li><a class="reference internal" href="#how-can-i-help">How can I help?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#my-last-command-didn-t-work-but-i-can-t-see-an-explanation-why">My last command didn't work but I can't see an explanation. Why?</a></li>
<li><a class="reference internal" href="#how-do-i-disable-ansi-codes-in-the-output">How do I disable ansi codes in the output?</a></li>
<li><a class="reference internal" href="#how-can-i-start-a-scala-interpreter-repl-with-sbt-project-configuration-dependencies-etc">How can I start a Scala interpreter (REPL) with sbt project configuration (dependencies, etc.)?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#build-definitions">Build definitions</a><ul>
<li><a class="reference internal" href="#what-are-the-and-methods">What are the <span class="pre">:=</span>, <span class="pre">+=</span>, and <span class="pre">++=</span> methods?</a></li>
<li><a class="reference internal" href="#what-is-the-method">What is the <span class="pre">%</span> method?</a></li>
<li><a class="reference internal" href="#what-is-moduleid-project">What is <span class="pre">ModuleID</span>, <span class="pre">Project</span>, ...?</a></li>
<li><a class="reference internal" href="#how-do-i-add-files-to-a-jar-package">How do I add files to a jar package?</a></li>
<li><a class="reference internal" href="#how-can-i-generate-source-code-or-resources">How can I generate source code or resources?</a></li>
<li><a class="reference internal" href="#how-can-a-task-avoid-redoing-work-if-the-input-files-are-unchanged">How can a task avoid redoing work if the input files are unchanged?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extending-sbt">Extending sbt</a><ul>
<li><a class="reference internal" href="#how-can-i-add-a-new-configuration">How can I add a new configuration?</a></li>
<li><a class="reference internal" href="#how-do-i-add-a-test-configuration">How do I add a test configuration?</a></li>
<li><a class="reference internal" href="#how-can-i-create-a-custom-run-task-in-addition-to-run">How can I create a custom run task, in addition to <span class="pre">run</span>?</a></li>
<li><a class="reference internal" href="#how-should-i-express-a-dependency-on-an-outside-tool-such-as-proguard">How should I express a dependency on an outside tool such as proguard?</a></li>
<li><a class="reference internal" href="#how-would-i-change-sbt-s-classpath-dynamically">How would I change sbt's classpath dynamically?</a><ul>
<li><a class="reference internal" href="#example-of-dynamic-classpath-augmentation">Example of dynamic classpath augmentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-can-i-take-action-when-the-project-is-loaded-or-unloaded">How can I take action when the project is loaded or unloaded?</a><ul>
<li><a class="reference internal" href="#example-of-project-load-unload-hooks">Example of project load/unload hooks</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#errors">Errors</a><ul>
<li><a class="reference internal" href="#on-project-load-reference-to-uninitialized-setting">On project load, &quot;Reference to uninitialized setting&quot;</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dependency-management">Dependency Management</a><ul>
<li><a class="reference internal" href="#how-do-i-resolve-a-checksum-error">How do I resolve a checksum error?</a></li>
<li><a class="reference internal" href="#i-ve-added-a-plugin-and-now-my-cross-compilations-fail">I've added a plugin, and now my cross-compilations fail!</a></li>
</ul>
</li>
<li><a class="reference internal" href="#miscellaneous">Miscellaneous</a><ul>
<li><a class="reference internal" href="#how-do-i-use-the-scala-interpreter-in-my-code">How do I use the Scala interpreter in my code?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#to-0-10-migration">0.7 to 0.10+ Migration</a><ul>
<li><a class="reference internal" href="#how-do-i-migrate-from-0-7-to-0-10">How do I migrate from 0.7 to 0.10+?</a></li>
<li><a class="reference internal" href="#where-has-0-7-s-lib-managed-gone">Where has 0.7's <span class="pre">lib_managed</span> gone?</a></li>
<li><a class="reference internal" href="#what-are-the-commands-i-can-use-in-version-vs-0-7">What are the commands I can use in 0.13 vs. 0.7?</a></li>
<li><a class="reference internal" href="#why-have-the-resolved-dependencies-in-a-multi-module-project-changed-since-0-7">Why have the resolved dependencies in a multi-module project changed since 0.7?</a></li>
<li><a class="reference internal" href="#my-tests-all-run-really-fast-but-some-are-broken-that-weren-t-in-0-7">My tests all run really fast but some are broken that weren't in 0.7!</a></li>
<li><a class="reference internal" href="#what-happened-to-the-web-development-and-web-start-support-since-0-7">What happened to the web development and Web Start support since 0.7?</a></li>
<li><a class="reference internal" href="#how-are-inter-project-dependencies-different-in-version-vs-0-7">How are inter-project dependencies different in 0.13 vs. 0.7?</a></li>
<li><a class="reference internal" href="#where-did-class-object-x-go-since-0-7">Where did class/object X go since 0.7?</a></li>
<li><a class="reference internal" href="#where-can-i-find-plugins-for-version">Where can I find plugins for 0.13?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
                </div>
              </div></div>
        </div>
      </div>
    </div>
  </div>  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41449189-1', 'scala-sbt.org');
  ga('send', 'pageview');

  </script>
  

  </body>
</html>