<!DOCTYPE html SYSTEM "about:legacy-compat">
<html manifest="pamflet.manifest">
      <head>
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>
        <title>sbt Reference Manual — External Processes</title>
        
        <link rel="stylesheet" href="css/blueprint/screen.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/blueprint/grid.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <link rel="stylesheet" href="css/blueprint/print.css" type="text/css" media="print"/> 
        <!--[if lt IE 8]>
          <link rel="stylesheet" href={ relativeBase + "css/blueprint/ie.css" } type="text/css" media="screen, projection"/>
        <![endif]-->
        <link rel="stylesheet" href="css/pamflet.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamflet-print.css" type="text/css" media="print"/>
        <link rel="stylesheet" href="css/pamflet-grid.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <link rel="stylesheet" href="css/color_scheme-redmond.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-github.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/color_scheme-monokai.css" type="text/css" media="screen, projection"/>
        <link rel="stylesheet" href="css/pamfletheight_80px_2em.css" type="text/css" media="screen and (min-device-width: 800px), projection"/>
        <script type="text/javascript" src="js/jquery-1.6.2.min.js"></script>
        <script type="text/javascript" src="js/jquery.collapse.js"></script>
        <script type="text/javascript" src="js/pamflet.js"></script>
        <script type="text/javascript">
          Pamflet.page.language = 'en';
        </script>
        <script type="text/javascript" src="js/prettify/prettify.js"></script><script type="text/javascript" src="js/prettify/lang-scala.js"></script><link type="text/css" rel="stylesheet" href="css/prettify.css"/><script type="text/javascript"><!--
        window.onload=function() { prettyPrint(); };
      --></script>
        <link rel="stylesheet" href="css/custom.css" type="text/css" media="screen, projection"/>
        
        
      </head>
      <body class="color_scheme-github">
        <a class="page prev nav" href="Parallel-Execution.html">
            <span class="space">&nbsp;</span>
            <span class="flip arrow">&gt;</span>
          </a><a class="page next nav" href="Running-Project-Code.html">
            <span class="space">&nbsp;</span>
            <span class="arrow">&gt;</span>
          </a>
        <div class="container contentswrapper">
          <div class="span-16 prepend-1 append-1 contents">
            <h2 id="External+Processes">External Processes<a href="#External+Processes" class="header-link"><span class="header-link-content">&nbsp;</span></a></h2><h3 id="Usage">Usage<a href="#Usage" class="header-link"><span class="header-link-content">&nbsp;</span></a></h3><p><code>sbt</code> includes a process library to simplify working with external
processes. The library is available without import in build definitions
and at the interpreter started by the <a href="Console-Project.html">consoleProject</a>
task.
</p><p>To run an external command, follow it with an exclamation mark <code>!</code>:
</p><pre><code class="prettyprint lang-scala">&quot;find project -name *.jar&quot; !
</code></pre><p>An implicit converts the <code>String</code> to <code>sbt.ProcessBuilder</code>, which defines
the <code>!</code> method. This method runs the constructed command, waits until
the command completes, and returns the exit code. Alternatively, the
<code>run</code> method defined on <code>ProcessBuilder</code> runs the command and returns an
instance of <code>sbt.Process</code>, which can be used to <code>destroy</code> the process
before it completes. With no arguments, the <code>!</code> method sends output to
standard output and standard error. You can pass a <code>Logger</code> to the <code>!</code>
method to send output to the <code>Logger</code>:
</p><pre><code class="prettyprint lang-scala">&quot;find project -name *.jar&quot; ! log
</code></pre><p>Two alternative implicit conversions are from <code>scala.xml.Elem</code> or
<code>List[String]</code> to <code>sbt.ProcessBuilder</code>. These are useful for
constructing commands. An example of the first variant from the android
plugin:
</p><pre><code class="prettyprint lang-scala">&lt;x&gt; {dxPath.absolutePath} --dex --output={classesDexPath.absolutePath} {classesMinJarPath.absolutePath}&lt;/x&gt; !
</code></pre><p>If you need to set the working directory or modify the environment, call
<code>sbt.Process</code> explicitly, passing the command sequence (command and
argument list) or command string first and the working directory second.
Any environment variables can be passed as a vararg list of key/value
String pairs.
</p><pre><code class="prettyprint lang-scala">Process(&quot;ls&quot; :: &quot;-l&quot; :: Nil, Path.userHome, &quot;key1&quot; -&gt; value1, &quot;key2&quot; -&gt; value2) ! log
</code></pre><p>Operators are defined to combine commands. These operators start with
<code>#</code> in order to keep the precedence the same and to separate them from
the operators defined elsewhere in <code>sbt</code> for filters. In the following
operator definitions, <code>a</code> and <code>b</code> are subcommands.
</p><ul><li><code>a #&amp;&amp; b</code> Execute <code>a</code>. If the exit code is nonzero, return that exit
code and do not execute b. If the exit code is zero, execute b and
return its exit code.
</li><li><code>a #|| b</code> Execute <code>a</code>. If the exit code is zero, return zero for the
exit code and do not execute b. If the exit code is nonzero, execute
b and return its exit code.
</li><li><code>a #| b</code> Execute <code>a</code> and <code>b</code>, piping the output of <code>a</code> to the input
of b.
</li></ul><p>There are also operators defined for redirecting output to <code>File</code>s and
input from <code>File</code>s and <code>URL</code>s. In the following definitions, <code>url</code> is an
instance of <code>URL</code> and <code>file</code> is an instance of <code>File</code>.
</p><ul><li><code>a #&lt; url</code> or <code>url #&gt; a</code> Use <code>url</code> as the input to <code>a</code>. <code>a</code> may be a
File or a command.
</li><li><code>a #&lt; file</code> or <code>file #&gt; a</code> Use <code>file</code> as the input to <code>a</code>. a may be
a File or a command.
</li><li><code>a #&gt; file</code> or <code>file #&lt; a</code> Write the output of <code>a</code> to <code>file</code>. a may
be a File, URL, or a command.
</li><li><code>a #&gt;&gt; file</code> or <code>file #&lt;&lt; a</code> Append the output of <code>a</code> to file. a may
be a File, URL, or a command.
</li></ul><p>There are some additional methods to get the output from a forked
process into a <code>String</code> or the output lines as a <code>Stream[String]</code>. Here
are some examples, but see the
<a href="../api/sbt/ProcessBuilder.html">ProcessBuilder API</a> for details.
</p><pre><code class="prettyprint lang-scala">val listed: String = &quot;ls&quot; !!
val lines2: Stream[String] = &quot;ls&quot; lines_!
</code></pre><p>Finally, there is a <code>cat</code> method to send the contents of <code>File</code>s and
<code>URL</code>s to standard output.
</p><h4 id="Examples">Examples<a href="#Examples" class="header-link"><span class="header-link-content">&nbsp;</span></a></h4><p>Download a <code>URL</code> to a <code>File</code>:
</p><pre><code class="prettyprint lang-scala">url(&quot;http://databinder.net/dispatch/About&quot;) #&gt; file(&quot;About.html&quot;) !
// or
file(&quot;About.html&quot;) #&lt; url(&quot;http://databinder.net/dispatch/About&quot;) !
</code></pre><p>Copy a <code>File</code>:
</p><pre><code class="prettyprint lang-scala">file(&quot;About.html&quot;) #&gt; file(&quot;About_copy.html&quot;) !
// or
file(&quot;About_copy.html&quot;) #&lt; file(&quot;About.html&quot;) !
</code></pre><p>Append the contents of a <code>URL</code> to a <code>File</code> after filtering through
<code>grep</code>:
</p><pre><code class="prettyprint lang-scala">url(&quot;http://databinder.net/dispatch/About&quot;) #&gt; &quot;grep JSON&quot; #&gt;&gt; file(&quot;About_JSON&quot;) !
// or
file(&quot;About_JSON&quot;) #&lt;&lt; ( &quot;grep JSON&quot; #&lt; url(&quot;http://databinder.net/dispatch/About&quot;) )  !
</code></pre><p>Search for uses of <code>null</code> in the source directory:
</p><pre><code class="prettyprint lang-scala">&quot;find src -name *.scala -exec grep null {} ;&quot;  #|  &quot;xargs test -z&quot;  #&amp;&amp;  &quot;echo null-free&quot;  #||  &quot;echo null detected&quot;  !
</code></pre><p>Use <code>cat</code>:
</p><pre><code class="prettyprint lang-scala">val spde = url(&quot;http://technically.us/spde/About&quot;)
val dispatch = url(&quot;http://databinder.net/dispatch/About&quot;)
val build = file(&quot;project/build.properties&quot;)
cat(spde, dispatch, build) #| &quot;grep -i scala&quot; !
</code></pre><div class="bottom nav span-16">
                        <em>Next Page</em>
                        <span class="arrow">&gt;</span>
                        <a href="Running-Project-Code.html"> Running Project Code </a>                        
                        
                      </div><div class="tocwrapper show">
      <a class="tochead nav" style="display: none" href="#toc">❦</a>
      <a name="toc"></a>
      <h4 class="toctitle">Contents</h4>
      <div class="tocbody">
      <div><a href="index.html">sbt Reference Manual</a></div><ol class="toc"> <li><div><a href="General-Info.html">General Information</a></div><ol class="toc"> <li><div><a href="Credits.html">Credits</a></div></li><li><div><a href="Community-Plugins.html">Community Plugins</a></div></li><li><div><a href="Repository-Roles.html">Community Repository Policy</a></div></li><li><div><a href="Bintray-For-Plugins.html">Bintray For Plugins</a></div></li><li><div><a href="Setup-Notes.html">Setup Notes</a></div></li><li><div><a href="Using-Sonatype.html">Deploying to Sonatype</a></div></li><li><div><a href="Changes.html">Changes</a></div><ol class="toc"> <li><div><a href="ChangeSummary_0.13.0.html">sbt 0.13.0 Changes</a></div></li><li><div><a href="ChangeSummary_0.12.0.html">sbt 0.12.0 Changes</a></div></li><li><div><a href="Older-Changes.html">Older Changes</a></div></li><li><div><a href="Migrating-from-sbt-07x.html">Migrating from 0.7 to 0.10+</a></div></li> </ol></li><li><div><a href="Contibuting-to-sbt.html">Contributing to sbt</a></div></li> </ol></li><li><div><a href="Faq.html">Frequently Asked Questions</a></div><ol class="toc">  </ol></li><li><div><a href="Howto.html">How to…</a></div><ol class="toc"> <li><div><a href="Howto-Classpaths.html">Classpaths</a></div></li><li><div><a href="Howto-Customizing-Paths.html">Customizing paths</a></div></li><li><div><a href="Howto-Generating-Files.html">Generating files</a></div></li><li><div><a href="Howto-Inspect-the-Build.html">Inspect the build</a></div></li><li><div><a href="Howto-Interactive-Mode.html">Interactive mode</a></div></li><li><div><a href="Howto-Logging.html">Configure and use logging</a></div></li><li><div><a href="Howto-Project-Metadata.html">Project metadata</a></div></li><li><div><a href="Howto-Package.html">Configure packaging</a></div></li><li><div><a href="Howto-Running-Commands.html">Running commands</a></div></li><li><div><a href="Howto-Scala.html">Configure and use Scala</a></div></li><li><div><a href="Howto-Scaladoc.html">Generate API documentation</a></div></li><li><div><a href="Howto-Triggered.html">Triggered execution</a></div></li><li><div><a href="Examples.html">Examples</a></div><ol class="toc"> <li><div><a href="Basic-Def-Examples.html">.sbt build examples</a></div></li><li><div><a href="Full-Def-Example.html">.scala build example</a></div></li><li><div><a href="Advanced-Configurations-Example.html">Advanced configurations example</a></div></li><li><div><a href="Advanced-Command-Example.html">Advanced command example</a></div></li> </ol></li> </ol></li><li><div><a href="Detailed-Topics.html">Detailed Topics</a></div><ol class="toc"> <li><div><a href="Using-sbt.html">Using sbt</a></div><ol class="toc"> <li><div><a href="Command-Line-Reference.html">Command Line Reference</a></div></li><li><div><a href="Console-Project.html">Console Project</a></div></li><li><div><a href="Cross-Build.html">Cross-building</a></div></li><li><div><a href="Inspecting-Settings.html">Interacting with the Configuration System</a></div></li><li><div><a href="Triggered-Execution.html">Triggered Execution</a></div></li><li><div><a href="Scripts.html">Scripts, REPL, and Dependencies</a></div></li><li><div><a href="Understanding-Recompilation.html">Understanding Incremental Recompilation</a></div></li> </ol></li><li><div><a href="Configuration-Index.html">Configuration</a></div><ol class="toc"> <li><div><a href="Classpaths.html">Classpaths, sources, and resources</a></div></li><li><div><a href="Compiler-Plugins.html">Compiler Plugin Support</a></div></li><li><div><a href="Configuring-Scala.html">Configuring Scala</a></div></li><li><div><a href="Forking.html">Forking</a></div></li><li><div><a href="Global-Settings.html">Global Settings</a></div></li><li><div><a href="Java-Sources.html">Java Sources</a></div></li><li><div><a href="Mapping-Files.html">Mapping Files</a></div></li><li><div><a href="Local-Scala.html">Local Scala</a></div></li><li><div><a href="Macro-Projects.html">Macro Projects</a></div></li><li><div><a href="Paths.html">Paths</a></div></li><li><div><a href="Parallel-Execution.html">Parallel Execution</a></div></li><li><div class="current">External Processes</div></li><li><div><a href="Running-Project-Code.html">Running Project Code</a></div></li><li><div><a href="Testing.html">Testing</a></div></li> </ol></li><li><div><a href="Dependency-Management-Index.html">Dependency Management</a></div><ol class="toc"> <li><div><a href="Artifacts.html">Artifacts</a></div></li><li><div><a href="Dependency-Management-Flow.html">Dependency Management Flow</a></div></li><li><div><a href="Library-Management.html">Library Management</a></div></li><li><div><a href="Proxy-Repositories.html">Proxy Repositories</a></div></li><li><div><a href="Publishing.html">Publishing</a></div></li><li><div><a href="Resolvers.html">Resolvers</a></div></li><li><div><a href="Update-Report.html">Update Report</a></div></li> </ol></li><li><div><a href="Tasks-and-Commands.html">Tasks and Commands</a></div><ol class="toc"> <li><div><a href="Tasks.html">Tasks</a></div></li><li><div><a href="Input-Tasks.html">Input Tasks</a></div></li><li><div><a href="Commands.html">Commands</a></div></li><li><div><a href="Parsing-Input.html">Parsing and tab completion</a></div></li><li><div><a href="Build-State.html">State and actions</a></div></li><li><div><a href="Task-Inputs.html">Tasks/Settings: Motivation</a></div></li> </ol></li><li><div><a href="Plugins-and-Best-Practices.html">Plugins and Best Practices</a></div><ol class="toc"> <li><div><a href="Best-Practices.html">General Best Practices</a></div></li><li><div><a href="Plugins.html">Plugins</a></div></li><li><div><a href="Plugins-Best-Practices.html">Plugins Best Practices</a></div></li> </ol></li><li><div><a href="Sbt-Launcher.html">Sbt Launcher</a></div><ol class="toc"> <li><div><a href="Launcher-Getting-Started.html">Getting Started with the Sbt Launcher</a></div></li><li><div><a href="Launcher-Architecture.html">Sbt Launcher Architecture</a></div></li><li><div><a href="Launcher-Configuration.html">Sbt Launcher Configuration</a></div></li> </ol></li> </ol></li><li><div><a href="Developers-Guide.html">Developer’s Guide</a></div><ol class="toc"> <li><div><a href="Core-Principles.html">Core Principles</a></div></li><li><div><a href="Settings-Core.html">Settings Core</a></div></li><li><div><a href="Setting-Initialization.html">Setting Initialization</a></div></li><li><div><a href="Build-Loaders.html">Build Loaders</a></div></li><li><div><a href="Command-Line-Applications.html">Creating Command Line Applications Using sbt</a></div></li><li><div><a href="Nightly-Builds.html">Nightly Builds</a></div></li> </ol></li><li><div><a href="Name-Index.html">Index</a></div></li><li class="generated"><div><a href="Contents+in+Depth.html">Contents in Depth</a></div></li><li class="generated"><div><a href="Combined+Pages.html">Combined Pages</a></div></li> </ol></div></div>
          </div>
        </div>
        <div class="header">
          <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,900,400italic,700italic" rel="stylesheet" type="text/css">
<div class="container navbar-static-top nav">
    <div class="logo">
      <a href="../../index.html"><img src="files/sbt-logo-white-72x50.png" alt="sbt"></a>
    </div>
    <ul class="navlist">
      <li><a href="../../documentation.html">Documentation</a></li>
      <li><a href="../../download.html">Download</a></li>
      <li><a href="../../community.html">Community</a></li>
      <li id="source-code"><a href="https://github.com/sbt/sbt"><img src="files/github-logo.png" alt="Source code"></a></li>
      <li id="twitter"><a href="https://twitter.com/scala_sbt"><img src="files/twitter-logo-white.png" alt="sbt on Twitter"></a></li>
    </ul>
</div>

        </div>
        <div class="footer">
          
        </div>
        
        
      </body>
    </html>